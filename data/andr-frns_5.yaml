- en: Chapter 6
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第六章
- en: Android forensic techniques
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Android取证技术
- en: Information in this chapter
  id: totrans-2
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 本章信息
- en: • [Procedures for handling an Android device](#S0030)
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: • [处理Android设备的程序](#S0030)
- en: • [Imaging Android USB mass storage devices](#S0105)
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: • [对Android USB大容量存储设备进行成像](#S0105)
- en: • [Logical techniques](#S0120)
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: • [逻辑技术](#S0120)
- en: • [Physical techniques](#S0265)
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: • [物理技术](#S0265)
- en: Introduction
  id: totrans-7
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 引言
- en: Before we dive into the actual Android forensic techniques, there are a number
    of considerations that influence which technique forensic analysts should use.
    In this section, we will discuss the different types of investigations, the differences
    between logical and physical techniques, and how to limit or avoid modifications
    to the device.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们深入探讨实际的Android取证技术之前，有一些影响因素决定了取证分析师应该使用哪种技术。在本节中，我们将讨论不同的调查类型，逻辑技术与物理技术之间的差异，以及如何限制或避免对设备的修改。
- en: Types of Investigations
  id: totrans-9
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 调查类型
- en: There are a variety of situations that might benefit from the results of an
    Android forensic investigation. While the application of forensics is a commonality
    in all the situations, each one may require different procedures, documentation,
    and overall focus.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 在各种情况下，都可能受益于Android取证调查的结果。尽管取证在所有情况中都有共性应用，但每种情况可能需要不同的程序、文件记录以及整体关注点。
- en: 'The first situation that people think of in general is investigations that
    will likely be adjudicated in a criminal or civil court of law. In these situations,
    there are a number of important considerations:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 人们通常想到的第一个情况是在刑事或民事法庭上进行裁决的调查。在这些情况下，有许多重要的考虑因素：
- en: • Chain of custody
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: • 证据链
- en: • Detailed contemporaneous notes and final reporting
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: • 详细的同时期记录和最终报告
- en: • Possible validation of results using different tools or investigators
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: • 可能使用不同工具或调查员验证结果
- en: • Fact or opinion based testimony
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: • 基于事实或观点的证词
- en: 'Another common scenario is internal investigations in corporations. These investigations
    may end up litigated in court, but often they are used to determine the root cause
    of an issue (whether that is a system, external attack, or internal employee)
    and may result in disciplinary action against an employee. Internal corporate
    investigations can cover many areas but the most common include:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个常见的情况是企业内部调查。这些调查可能会在法庭上诉讼，但通常它们用于确定问题的根本原因（无论是系统、外部攻击还是内部员工）并可能导致对员工的纪律处分。内部企业调查可以涵盖许多领域，但最常见的是：
- en: • Intellectual property or data theft
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: • 知识产权或数据盗窃
- en: • Inappropriate use of company resources
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: • 不当使用公司资源
- en: • Attempted or successful attack against computer systems
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: • 尝试或成功攻击计算机系统
- en: • Employment-related investigations including discrimination, sexual harassment,
    etc.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: • 与就业相关的调查，包括歧视、性骚扰等。
- en: • Security audit (random or targeted)
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: • 安全审计（随机或针对性）
- en: 'There is also a need for forensics in cases involving family matters. The most
    common cases involve:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 在涉及家庭事务的情况下也需要取证。最常见的案例包括：
- en: • Divorce
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: • 离婚
- en: • Child custody
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: • 子女抚养权
- en: • Estate disputes
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: • 遗产争议
- en: One final area where forensic investigation can yield significant value is for
    the security and operation of a government. Governments are usually the largest
    employer in a country and the United States is a good example. According to the
    US Census Bureau, data from the 2009 Annual Survey of Public Employment and Payroll
    revealed that the Federal government across all functions had over 3 million employees,
    while state and local governments has 16.6 million full-time equivalent employees
    ([Government Employment & Payroll, n.d.](#BIB7)).
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 取证调查可以在政府的安全和运作方面产生重大价值的最后一个领域。政府通常是国内最大的雇主，美国就是一个很好的例子。根据美国人口普查局的数据，2009年公共就业和工资年度调查显示，联邦政府在所有职能中拥有超过300万名雇员，而州和地方政府有1660万全职等效雇员（[政府就业与工资，不详](#BIB7)）。
- en: Beyond employment-related matters, countries are also the potential target of
    attacks and foreign government intelligence gathering. Forensics can play a key
    role in thwarting attacks against a country, investigating successful attacks,
    counter intelligence scenarios, and in providing valuable intelligence needed
    for the governing of the country.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 除了与就业相关的事务外，国家也可能是攻击和外国政府情报搜集的目标。取证在挫败针对国家的攻击、调查成功的攻击、反情报情景以及为国家的治理提供有价值的情报方面可以发挥关键作用。
- en: Difference Between Logical and Physical Techniques
  id: totrans-28
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 逻辑技术与物理技术之间的区别
- en: Android forensic techniques are either logical or physical in nature. A logical
    technique extracts allocated data and is typically achieved by accessing the file
    system. Allocated data simply means that the data are not deleted and are accessible
    on the file system. One exception to this definition is that some files, such
    as an SQLite database, can be allocated and still contain deleted records in the
    database. While recovery of the deleted data requires special tools and techniques,
    it is possible to recover deleted data from a logical acquisition.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: Android取证技术本质上是逻辑的或物理的。逻辑技术提取分配的数据，通常是通过访问文件系统实现的。分配数据意味着数据未被删除，并且在文件系统上可以访问。这个定义的一个例外是一些文件，例如SQLite数据库，可能是已分配的，但数据库中仍可能包含已删除的记录。虽然恢复已删除的数据需要特殊的工具和技术，但从逻辑获取中恢复已删除数据是可能的。
- en: Physical techniques, on the other hand, target the physical storage medium directly
    and do not rely on the file system itself to access the data. There are advantages
    to this approach; the most significant is that physical techniques likely provide
    access to significant amounts of deleted data. As discussed in [Chapter 4](CHP004.html),
    file systems often only mark data as deleted or obsolete, and do not actually
    erase the storage medium unless needed. As physical forensic techniques provide
    direct access to the storage medium, it is possible to recover both the allocated
    and the unallocated (deleted or obsolete) data.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 另一方面，物理技术直接针对物理存储介质，并不依赖文件系统本身来访问数据。这种方法有其优点；最显著的是物理技术可能提供对大量已删除数据的访问。如[第4章](CHP004.html)所述，文件系统通常只将数据标记为已删除或过时，除非需要，否则不会实际擦除存储介质。由于物理取证技术直接访问存储介质，因此有可能恢复分配和未分配（已删除或过时）的数据。
- en: Of course, the analysis of an Android physical acquisition is generally far
    more difficult and time consuming. Also, the physical techniques are more difficult
    to execute and missteps could leave the device inaccessible.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，分析Android物理获取通常要困难得多，也更耗时。此外，物理技术更难以执行，操作失误可能导致设备无法访问。
- en: In Android forensics, the most common logical technique does not provide direct
    access to the file system and operates at a more abstract and less-effective level
    than the traditional logical techniques, which can acquire all nondeleted data
    directly from the file system. This technique, which relies on the Content Providers
    built into the Android platform and software development kit (SDK), is effective
    in producing some important forensic data, but only a fraction of the data that
    are available on the system.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 在Android取证中，最常见的逻辑技术并不能直接访问文件系统，其工作级别比传统的逻辑技术更抽象，效果也更差，后者可以直接从文件系统获取所有未删除的数据。这种技术依赖于Android平台和软件开发工具包（SDK）内置的内容提供者，虽然能生成一些重要的法医数据，但只是系统中可用数据的一小部分。
- en: Modification of the Target Device
  id: totrans-33
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 修改目标设备
- en: One of the guiding principles of any forensic investigation is to avoid modification
    of the target device in any manner. In many cases, this is achievable. For example,
    let’s assume you are handed a desktop computer that is not powered on. You are
    informed it was seized from a suspect and that you need to launch a forensic investigation.
    The device is fairly easy to investigate without material changes to the data
    after you take custody. A typical investigation would fully document the computer,
    remove the hard drive, and connect it to a physical write blocker and acquire
    a bit-by-bit forensically sound image of the hard drive. The investigation would
    then take place on copies of the forensic image and the original device would
    remain unchanged.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 任何法医调查的基本原则之一是避免以任何方式修改目标设备。在许多情况下，这是可以实现的。例如，假设你收到了一台未启动的台式电脑。你被告知这是从嫌疑人那里没收的，你需要开展法医调查。在取得保管权后，对该设备进行调查通常不会对数据造成实质性更改。典型的调查会完整记录电脑信息，取出硬盘，连接到物理写保护器上，并获取硬盘的逐位法医级安全映像。然后，调查将在取证映像的副本上进行，原始设备将保持不变。
- en: As the power and functionality of computers has increased, this ideal situation
    has become more and more difficult to achieve. First, let’s assume you are called
    to the scene of an investigation and there is a desktop computer, but this time
    the computer is in operation. Any interaction with the computer, whether you simply
    move it or even physically unplug the device, will modify the device in some way.
    While many examiners advocate simply unplugging the computer, unplugging the computer
    still changes the computer as the contents of RAM, open network connections, and
    more (all of which can be quite valuable in an investigation) are permanently
    lost.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 随着计算机的功率和功能不断增强，这种理想情况越来越难以实现。首先，假设你被叫到调查现场，有一台台式电脑，但这次电脑正在运行中。任何与电脑的交互，无论是简单移动它，甚至是物理上拔掉设备，都会以某种方式改变设备。虽然许多检查员主张直接拔掉电脑电源，但这样做仍然会改变电脑，因为RAM中的内容、打开的网络连接等（这些在调查中可能非常有价值）会永久丢失。
- en: If you instead decide to examine the device while it is running, all interactions
    change the device. To further complicate an investigation, it is possible that
    the computer is leveraging encryption and, while the device is running, that data
    may be accessible. However, if the device is powered off and you don’t have the
    encryption keys, then you may permanently lose the ability to recover that data.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你选择在设备运行时进行检查，所有的交互都会改变设备。为了进一步复杂化调查，可能会出现计算机正在使用加密，并且设备运行时数据可以访问的情况。然而，如果设备关闭，且你没有加密密钥，那么你可能永久失去恢复数据的能力。
- en: Another complicating factor can be the existence of servers that have special
    hardware, complex setups, or that simply cannot be powered down without significant
    impact to other systems or people. Some examples of complex service setups include
    complicated RAID setup, setups that rely on network-based storage area networks
    (SAN), and unsupported hardware. In such cases, the examiner must interact directly
    with the device while it is running even though those actions change the device.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个复杂因素可能是存在具有特殊硬件、复杂设置的服务器，或者简单地不能在不给其他系统或人员带来重大影响的情况下关闭。复杂的服务设置示例包括复杂的RAID设置、依赖基于网络的存储区域网络（SAN）的设置和不支持的硬件。在这种情况下，检查员必须在设备运行时直接与设备交互，尽管这些操作会改变设备。
- en: Of course, mobile devices, and Android devices in particular, are nearly impossible
    to forensically analyze without any impact to the device. Unlike desktops, notebooks,
    and servers, there are portions of storage on an Android device that cannot be
    easily removed. And if the device is powered on, a shutdown of the device or pulling
    the battery again changes the device.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，尤其是安卓设备在内的移动设备，如果没有对设备造成任何影响，几乎不可能进行法医分析。与台式机、笔记本电脑和服务器不同，安卓设备上有一部分存储是无法轻易移除的。如果设备处于开启状态，关闭设备或再次拔掉电池都会改变设备。
- en: When mobile phones were first showing up in investigations, there was very little
    data stored in them that could be extracted from the device. Many investigations
    used traditional approaches, such as a search warrant on the wireless carrier
    to obtain call detail records. It was also possible to remove the subscriber identity
    module (SIM) card on GSM devices and extract some data. As phones began to store
    more data, there developed a deep divide between examiners who advocated the older
    methods (which had little impact on the device and subsequently retrieved only
    nominal data) and those who advocated exploiting the device more fully. The techniques
    used to exploit the devices did modify the device, leading to the ensuing debate.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 当移动电话首次出现在调查中时，从设备中可以提取的数据非常少。许多调查采用了传统方法，比如对无线运营商发出搜查令以获取通话详单。在GSM设备上，还可以移除用户身份模块（SIM）卡并提取一些数据。随着手机开始存储更多数据，检查员之间出现了深刻分歧：一些人主张使用旧方法（对设备影响小，相应地只能获取少量数据），而另一些人则主张更充分地利用设备。利用设备的技术会修改设备，导致了随后的争论。
- en: 'As of 2011, much of the debate has subsided because the amount of data mobile
    devices now hold necessitates the more intrusive techniques. The Association of
    Chief Police Officers in the United Kingdom produces guidelines that address this
    issue quite clearly. The guide, *Good Practice Guide for Computer-Based Electronic
    Evidence* ([ACPO Good Practice Guide, n.d.](#BIB1)), establishes four principles
    of computer-based electronic evidence:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 到2011年，许多争论已经平息，因为移动设备现在持有的数据量需要更侵入式的技术。《英国警察局长协会》制定的指南清楚地解决了这个问题。该指南《计算机电子证据良好实践指南》（[ACPO
    Good Practice Guide, n.d.](#BIB1)）确立了计算机电子证据的四个原则：
- en: 1. No action taken by law enforcement agencies or their agents should change
    data held on a computer or storage media, which may subsequently be relied upon
    in court.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 1. 法律执法机构或其代理人的任何行动都不应改变计算机或存储介质上可能随后在法庭上依赖的数据。
- en: 2. In circumstances where a person finds it necessary to access original data
    held on a computer or on storage media, that person must be competent to do so
    and be able to give evidence explaining the relevance and the implications of
    their actions.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 2. 在个人认为有必要访问计算机或存储介质上保存的原始数据的情况下，该人员必须具备相应能力，并能够提供证据解释其行为的关联性和影响。
- en: 3. An audit trail or other record of all processes applied to computer-based
    electronic evidence should be created and preserved. An independent third party
    should be able to examine those processes and achieve the same result.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 3. 应当创建并保留对基于计算机的电子证据所执行的所有流程的审计跟踪或其他记录。独立第三方应当能够检查这些流程，并得到相同的结果。
- en: 4. The person in charge of the investigation (the case officer) has overall
    responsibility for ensuring that the law and these principles are adhered to.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 4. 负责调查的人员（案件官员）有总体责任，确保遵守法律法规和这些原则。
- en: As mobile devices clearly present a circumstance where it is necessary to access
    the original device directly, then it is permissible provided the examiner is
    sufficiently trained, provides valid reasons for their approach and keeps a clear
    audit trail so that their actions are repeatable by a third party. This is certainly
    good advice and helps provide a solid framework for the forensic investigation
    of mobile devices.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 由于移动设备明显呈现需要直接访问原始设备的情形，因此在审查员接受过充分培训、提供合理的处理方式并保持清晰的审计跟踪，使得第三方能重复其操作的情况下，这是被允许的。这无疑是好的建议，它有助于为移动设备的法医调查提供一个坚实的框架。
- en: Procedures for handling an Android device
  id: totrans-46
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 处理安卓设备的程序
- en: One major challenge for forensic analysts is to devise a protocol for handling
    the device prior to the analyst taking direct custody. And this is certainly not
    a new issue for analysts as others involved in the investigation may also handle
    other digital devices such as computers or laptops. However, mobile devices are
    still relatively new and are often not handled properly by first responders. There
    is a tendency to immediately examine the device, which almost inevitably results
    in data modification and potential loss of access to the device.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 对于法医分析师来说，一个主要的挑战是制定一个在分析师直接接管之前处理设备的协议。这绝对不是分析师的新问题，因为参与调查的其他人员可能也会处理其他数字设备，如计算机或笔记本电脑。然而，移动设备相对较新，首批响应者往往处理不当。有一种倾向是立即检查设备，这几乎不可避免地导致数据修改和可能失去访问设备的机会。
- en: Securing the Device
  id: totrans-48
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 保护设备
- en: Many agencies and first responders have established a protocol for securing
    evidence. The following sections are meant to complement the existing procedures,
    not replace them. Of course, these represent special procedures, and educating
    first responders who have many other responsibilities can be quite challenging.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 许多机构和首批响应者已经建立了保护证据的协议。以下各节旨在补充现有的程序，而不是替代它们。当然，这些程序是特殊的，而对那些有许多其他责任的首批响应者进行教育可能相当具有挑战性。
- en: Pass Code Procedures
  id: totrans-50
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 密码操作程序
- en: Pass code locked devices are becoming more common as a result of heightened
    security awareness in consumers and corporations. In the next section, we cover
    some specific techniques to circumvent pass codes. However, it is not always possible.
    The first consideration when obtaining information from a device is whether an
    opportunity exists to immediately disable or otherwise circumvent the pass code.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 由于消费者和企业安全意识的提高，带有密码锁定的设备越来越常见。在下一节中，我们将介绍一些绕过密码的具体技巧。然而，这并不总是可能的。从设备获取信息时首先要考虑的是是否存在立即禁用或以其他方式绕过密码的机会。
- en: 'If you encounter an Android device and the screen is active, strong consideration
    should be given to checking and potentially changing its settings. For devices
    that have pass codes, there is a short period of time (from less than a minute
    up to about 15 min) where full access to the device is possible without re-entering
    the pass code. If a device is in this state, there are several steps to consider:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您遇到一个屏幕处于激活状态的安卓设备，应该强烈考虑检查并可能更改其设置。对于那些有密码的设备，有一段时间（从不到一分钟到大约15分钟）可以无需重新输入密码即可完全访问设备。如果设备处于这种状态，可以考虑以下几个步骤：
- en: 1. Increase the screen timeout to prevent or postpone the screen locking. The
    location for this setting is not consistent between Android versions and devices.
    For example, on a G1 running Android 1.5, the timeout can be set by pressing Menu
    (from the home screen), then Settings, Sound & display, Screen timeout, and then
    select “Never timeout.” On an HTC Incredible running Android 2.2, press Menu (from
    the home screen), then Settings, Security, Lock phone after, and then finally
    “15 minutes.” As long as the device has some nominal activity in the allotted
    timeout setting, it will remain accessible.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 1. 增加屏幕超时时间以防止或推迟屏幕锁定。这个设置的位置在安卓版本和设备间并不一致。例如，在运行安卓1.5的G1上，可以通过按下菜单（从主屏幕开始），然后选择设置、声音与显示、屏幕超时，并选择“从不超时”。在运行安卓2.2的HTC
    Incredible上，按下菜单（从主屏幕开始），然后选择设置、安全、锁定手机后，最后选择“15分钟”。只要设备在分配的超时设置内有一些名义上的活动，它将保持可访问状态。
- en: 2. Enable USB debugging and “Stay awake” settings. The location for this setting
    has remained consistent in devices and can be accessed by pressing Menu (from
    the home screen), then Settings, Applications and Development. From there, you
    can check USB debugging and Stay awake. If you select the “Stay awake” setting
    and then connect it to a charge, the device will never go to sleep, which is effective
    in preventing the screen lock. By enabling USB debugging, the device can be accessed
    over USB enabling data extraction.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 2. 启用USB调试和“保持唤醒”设置。这个设置在设备中保持一致，可以通过按下菜单（从主屏幕开始），然后选择设置、应用程序和开发。在那里，您可以勾选USB调试和保持唤醒。如果您选择了“保持唤醒”设置并将其连接到充电器，设备将永远不会休眠，这有效防止了屏幕锁定。通过启用USB调试，可以通过USB访问设备，从而实现数据提取。
- en: Of course, these steps are making changes to the device and should be thoroughly
    logged in the case notes describing the state of the device, the rationale for
    the attempted changes, and the outcome of each change. This will not only assist
    in future report writing but will likely be an important factor if your decision
    to change the device is challenged in court.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，这些步骤是对设备进行更改，应该详细记录在案例笔记中，描述设备的状态、尝试更改的理由以及每次更改的结果。这不仅有助于未来的报告编写，如果您的更改设备决定在法庭上受到挑战，这也可能是重要的因素。
- en: To make matters more difficult, it is also important to minimize touching the
    screen in case the screen lock becomes active. As we will discuss shortly, it
    is sometimes possible to determine the pattern lock of a device by enhancing photographs
    of the device’s screen. The lesser the interaction a first responder has with
    the screen, the higher the success rate of this technique.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 为了使情况更加复杂，同样重要的是在屏幕锁定激活的情况下尽量减少触摸屏幕。我们稍后会讨论，有时可以通过增强设备屏幕的照片来确定设备的图案锁。第一响应者与屏幕的交互越少，这种技术的成功率就越高。
- en: Network Isolation
  id: totrans-57
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 网络隔离
- en: As many examiners likely know, it is important to isolate the device from the
    network as soon as possible. In the worst-case scenario, a remote wipe could be
    initiated on the device which, if successful, would prevent the recovery of any
    data. While most remote wipes are done over the data network, some can be triggered
    over SMS, and hence ensure the device is fully isolated to prevent remote wipes.
    In other circumstances, additional messages on the device could be received or
    even removed by triggers outside your control. As the goal of a forensic image
    is to preserve the state of the device for additional analysis, any changes should
    be avoided.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 正如许多检验员可能知道的，尽快将设备与网络隔离非常重要。在最坏的情况下，可能会在设备上启动远程擦除，如果成功，将无法恢复任何数据。虽然大多数远程擦除是通过数据网络完成的，但有些可以通过短信触发，因此确保设备完全隔离以防止远程擦除。在其他情况下，设备上可能会收到或甚至被外部触发器移除的额外信息。由于取证图像的目标是保留设备状态以进行进一步分析，应避免任何更改。
- en: There are a number of ways to isolate a device from the network and each of
    these methods have advantages and disadvantages. [Table 6.1](#T0010) summarizes
    the advantages and disadvantages of each technique.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 有多种方法可以将设备与网络隔离，每种方法都有其优缺点。[表6.1](#T0010)概述了每种技术的优缺点。
- en: Table 6.1 Techniques for Device Isolation
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 表6.1 设备隔离技术
- en: '| Technique | Advantages | Disadvantages |'
  id: totrans-61
  prefs: []
  type: TYPE_TB
  zh: '| 技巧 | 优点 | 缺点 |'
- en: '| --- | --- | --- |'
  id: totrans-62
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| Put the device in Airplane mode. This requires that you have full access
    to the Settings menu. | The device continues running and temporal data remains
    intact. Disables cellular data network as well as [Wi-Fi.com](http://Wi-Fi.com).
    | You are modifying the device setting further. Only works if you have full access
    to the device. |'
  id: totrans-63
  prefs: []
  type: TYPE_TB
  zh: '| 将设备设置为飞行模式。这需要你完全访问设置菜单。 | 设备继续运行，临时数据保持完整。禁用蜂窝数据网络以及[Wi-Fi.com](http://Wi-Fi.com)。
    | 你进一步修改了设备设置。只有在完全访问设备的情况下才有效。 |'
- en: '| If the phone is a GSM phone, remove the SIM card. | Easy to remove, effective
    in disabling all cellular voice, SMS, and data transmissions. | Does not disable
    [Wi-Fi.com](http://Wi-Fi.com) or other networks. Does not work on non-GSM phones
    including CDMA and iDEN phones. |'
  id: totrans-64
  prefs: []
  type: TYPE_TB
  zh: '| 如果手机是GSM手机，移除SIM卡。 | 易于移除，有效禁用所有蜂窝语音、短信和数据传输。 | 不禁用[Wi-Fi.com](http://Wi-Fi.com)或其他网络。不适用于非GSM手机，包括CDMA和iDEN手机。
    |'
- en: '| Suspend account with wireless carrier. | Effective in disabling all cellular
    voice, SMS, and data transmissions for any phone. | Process may take some time
    and require a court order. Does not disable [Wi-Fi.com](http://Wi-Fi.com) or other
    networks. |'
  id: totrans-65
  prefs: []
  type: TYPE_TB
  zh: '| 暂停与无线运营商的账户。 | 对于任何手机，有效禁用所有蜂窝语音、短信和数据传输。 | 过程可能需要一些时间，可能需要法院命令。不禁用[Wi-Fi.com](http://Wi-Fi.com)或其他网络。
    |'
- en: '| Place device in a shielded bag, box, tent, or room. | Faraday shields prevent
    various types of network transmissions and can be an effective approach if you
    cannot utilize any of the previous options. | There is some debate about the effectiveness
    of portable Faraday shields, notably Faraday bags. Also, while the transmissions
    are blocked, the device attempts to contact the cellular network repeatedly thus
    draining the battery quickly. Cords cannot be inserted into the enclosure as they
    will transmit signals. A shielded room dedicated for mobile examinations is ideal.
    However, they are quite expensive to build and maintain. |'
  id: totrans-66
  prefs: []
  type: TYPE_TB
  zh: '| 将设备放入屏蔽袋、盒子、帐篷或房间中。 | 法拉第屏蔽可以防止各种类型的网络传输，如果你无法使用前面的任何选项，这可能是一个有效的办法。 | 关于便携式法拉第屏蔽的有效性存在一些争议，尤其是法拉第袋。同时，虽然传输被阻止，但设备会反复尝试联系蜂窝网络，从而迅速耗尽电池。无法将线缆插入屏蔽装置中，因为它们会传输信号。专用于移动设备检查的屏蔽室是理想的，但它们的建造和维护成本相当高。
    |'
- en: '| Turn the device off. | Completely effective in preventing all network transmissions.
    | The device state is modified and temporal data is lost. Pass code on reboot
    could be enabled, thus restricting access to the device. |'
  id: totrans-67
  prefs: []
  type: TYPE_TB
  zh: '| 关闭设备。 | 完全有效地阻止所有网络传输。 | 设备状态被修改，临时数据丢失。重启时可能会启用密码，从而限制对设备的访问。 |'
- en: 'As you can tell, isolating an Android device from the network is not an easy
    task and each option has advantages and disadvantages. While each examiner or
    their organization should determine the appropriate steps to undertake, the best
    option is probably placing the device in Airplane mode. This varies slightly between
    Android devices and versions but the general approach is the same:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所知，将Android设备与网络隔离并非易事，每个选项都有优缺点。虽然每个检查员或其组织应该确定采取的适当步骤，但最佳选择可能是将设备置于飞行模式。这在不同的Android设备和版本之间略有差异，但总体方法是一样的：
- en: 1. Press and hold the Power off button and select Airplane mode.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 1. 长按电源键并选择飞行模式。
- en: 2. Press Menu (from the home screen), then Settings, then the Wireless option
    which is generally near the top. Some examples are “Wireless controls” or “Wireless
    and networks.” The next menu should present the Airplane mode option.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 2. 从主屏幕按菜单键，然后选择设置，然后选择通常位于顶部的无线选项。例如“无线控制”或“无线和网络”。下一个菜单应显示飞行模式选项。
- en: '[Fig. 6.1](#F0010) is a screenshot from the Power off button approach. [Fig.
    6.2](#F0015) shows the option via the Wireless settings.'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '[图6.1](#F0010)是电源键方法的截图。[图6.2](#F0015)显示了通过无线设置选项的方法。'
- en: '![image](img/F100068f06-01-9781597496513.jpg)'
  id: totrans-72
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/F100068f06-01-9781597496513.jpg)'
- en: FIGURE 6.1 Airplane mode via the Power off button.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.1 通过电源键选择飞行模式。
- en: '![image](img/F100068f06-02-9781597496513.jpg)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/F100068f06-02-9781597496513.jpg)'
- en: FIGURE 6.2 Airplane mode via the Wireless and networks settings.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.2 通过无线和网络设置选择飞行模式。
- en: Regardless of which technique you ultimately choose, the main goal should be
    to isolate the device from the network as soon as possible.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 无论你最终选择哪种技术，主要目标应该是尽快将设备与网络隔离。
- en: Power and Data Cables
  id: totrans-77
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 电源和数据线
- en: While most forensic labs will have the cables necessary to charge and connect
    the device, it is always prudent to seize the cables directly from the scene.
    It’s possible that a newer device is in use and the forensic toolkits do not yet
    have an appropriate cable. For example, a new specification for connecting media
    devices was developed called portable digital media interface (PDMI) and is integrated
    into two Android tablet devices, the Dell Streak and the Samsung Galaxy Tab. The
    PDMI interface provides not only power and high-resolution video output, but also
    offers USB 3.0 support. Whereas the actual examination of one of these devices
    could be delayed while an appropriate cable is acquired, if it needed charging
    and you do not have the appropriate cable, the loss of power will result in the
    loss of temporal data.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然大多数取证实验室将拥有充电和连接设备所需的电缆，但直接从现场扣押电缆总是谨慎的。可能正在使用较新的设备，而取证工具箱还没有合适的电缆。例如，为连接媒体设备而开发了一项新规范，称为便携式数字媒体接口（PDMI），并集成到两款Android平板电脑中，分别是Dell
    Streak和Samsung Galaxy Tab。PDMI接口不仅提供电源和高分辨率视频输出，还提供USB 3.0支持。如果在检查这些设备之一时需要等待合适的电缆，可能会造成延迟；如果需要充电且你没有合适的电缆，电源的损失将导致时间数据的丢失。
- en: Powered-off Devices
  id: totrans-79
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 已关闭的设备
- en: If a device is already powered off when you encounter it, the best option is
    to boot it into recovery mode to test for connectivity and root access. The owner
    may have already enabled USB debugging or have rooted the device, so you may have
    access to the data without booting into normal operational mode.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 当你遇到一个已经关闭的设备时，最好的选择是将其启动到恢复模式以测试连通性和根访问权限。设备所有者可能已经启用了USB调试或已经获取了根权限，这样你可以在不启动正常操作模式的情况下访问数据。
- en: This approach is similar to performing forensics on a standard computer hard
    drive. The last thing any trained forensic analyst would do is boot the computer
    to determine what operating system is installed. Instead, the hard drive is removed
    and connected to a write blocker for imaging to prevent any changes to the evidence.
    Similarly, if a mobile device does not have to boot into normal mode, there is
    no need to do so as this may make changes to the device. Specific information
    on how to test a device in recovery mode for sufficient privileges is discussed
    later in this chapter.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 这种方法类似于在标准计算机硬盘上进行取证。任何受过训练的取证分析师最后会做的一件事就是启动电脑以确定安装了什么操作系统。相反，硬盘被取出并连接到写保护器进行成像，以防止对证据进行任何更改。同样，如果移动设备无需启动到正常模式，就没有必要这样做，因为这可能会对设备进行更改。本章后面将讨论如何在恢复模式下测试设备以获取足够权限的具体信息。
- en: How to Circumvent the Pass Code
  id: totrans-82
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 如何绕过密码
- en: The ability to circumvent the pass code on an Android device is becoming more
    important as they are utilized frequently and, in most cases, do not allow data
    extraction. While there is no guaranteed method, there are a number of techniques
    which have worked in certain situations.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 随着Android设备被频繁使用，并且在大多数情况下不允许数据提取，绕过Android设备上的密码变得越来越重要。虽然没有保证的方法，但在某些情况下有一些技术是有效的。
- en: As previously discussed, there are three types of pass codes Android devices
    currently support. The first is a pattern lock. This was the default on the initial
    Android devices. To access the device, the user draws a pattern on the locked
    phone and, if drawn properly, the device is unlocked. An example of a pattern
    lock on an HTC Incredible is shown in [Fig. 6.3](#F0020).
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，目前Android设备支持三种类型的密码。第一种是图案锁。这是最初Android设备的默认设置。要访问设备，用户在锁定手机上绘制图案，如果绘制正确，设备将被解锁。在HTC
    Incredible上的图案锁的一个示例显示在[图6.3](#F0020)中。
- en: '![image](img/F100068f06-03-9781597496513.jpg)'
  id: totrans-85
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-03-9781597496513.jpg)'
- en: FIGURE 6.3 Android pattern lock.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.3 安卓图案锁。
- en: The second type of pass code is the simple personal identification number (PIN)
    which is commonly found on other mobile devices. [Fig. 6.4](#F0025) is an example
    of a PIN-enabled HTC Incredible.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 第二种密码是简单的个人识别码（PIN），这在其他移动设备中很常见。[图6.4](#F0025)是一个启用PIN的HTC Incredible的示例。
- en: '![image](img/F100068f06-04-9781597496513.jpg)'
  id: totrans-88
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-04-9781597496513.jpg)'
- en: FIGURE 6.4 Android PIN lock.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.4 安卓PIN锁。
- en: The final type of pass code currently found on Android devices is a full, alphanumeric
    code, as shown in [Fig. 6.5](#F0030).
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 目前在Android设备上找到的最后一种密码类型是完整的字母数字代码，如图[6.5](#F0030)所示。
- en: '![image](img/F100068f06-05-9781597496513.jpg)'
  id: totrans-91
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-05-9781597496513.jpg)'
- en: FIGURE 6.5 Android alphanumeric lock.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.5 安卓字母数字锁。
- en: As discussed in [Chapter 4](CHP004.html), not all pass codes were created equal.
    The most effective pass code is one that allows or requires an alphanumeric password,
    as these are far more difficult to circumvent.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 如[第4章](CHP004.html)所述，并非所有的密码都是平等的。最有效的密码是允许或需要字母数字密码的密码，因为这些密码要难以绕过得多。
- en: Utilize ADB if USB Debugging is Enabled
  id: totrans-94
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 如果启用了USB调试，请使用ADB
- en: 'The first technique you should attempt, provided the phone is powered on, is
    to connect with the Android Debug Bridge (ADB) over USB, which was covered extensively
    in [Chapter 3](CHP003.html). Whereas only a fraction of Android devices will allow
    an ADB connection through the USB debugging setting, it is certainly worth trying
    as it easily provides sufficient access for data extraction. The most common reasons
    for which users enable USB debugging include:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 如果手机开机，您应该尝试的第一种技术是通过USB连接Android调试桥（ADB），这在[第3章](CHP003.html)中已经广泛介绍。尽管只有少数Android设备允许通过USB调试设置进行ADB连接，但值得一试，因为它可以轻松提供足够的数据提取访问权限。用户启用USB调试的最常见原因包括：
- en: • App development and testing
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: • 应用开发和测试
- en: • Certain apps require this setting, such as PDAnet, which allows the device
    to provide Internet access to a tethered device over USB
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: • 某些应用需要此设置，例如PDAnet，它允许设备通过USB向连接的设备提供互联网访问
- en: • Custom ROMs
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: • 定制ROM
- en: • Developer phones such as Google’s Android developer phone (ADP1)
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: • 开发者手机，例如谷歌的Android开发者手机（ADP1）
- en: • Device hacking
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: • 设备破解
- en: It is quite simple to determine if USB debugging is enabled, provided you are
    using the Ubuntu virtual machine (VM) or have a forensic workstation with a properly
    installed and configured Software Development Kit. With the phone running in normal
    mode, plug it into the Ubuntu VM. From the command prompt type “adb devices.”
    If USB debugging is enabled, the ADB daemon will return the device serial number
    along with the mode that the phone is presently in.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您使用的是Ubuntu虚拟机（VM）或有正确安装和配置了软件开发工具包的取证工作站，判断USB调试是否启用相当简单。将手机正常模式下运行，并将其插入Ubuntu
    VM。从命令提示符输入“adb devices”。如果启用了USB调试，ADB守护进程将返回设备序列号以及手机当前所处的模式。
- en: '![image](img/F100068u06-01-9781597496513.jpg)'
  id: totrans-102
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-01-9781597496513.jpg)'
- en: If it is disabled, it will not return anything when the “adb devices” command
    is entered.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 如果禁用了USB调试，当输入“adb devices”命令时，它将不会返回任何内容。
- en: '![image](img/F100068u06-02-9781597496513.jpg)'
  id: totrans-104
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-02-9781597496513.jpg)'
- en: 'Remember to pass the device through to your VM if you are running the command
    inside a virtual workstation. If the VM can’t see the device, you will get the
    same result as if the USB debugging were not enabled. Once you verify that the
    USB connection is passed through to the Ubuntu VM, you can execute the lsusb command
    to verify that the operating system is aware of the connection:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你在虚拟工作站的内部运行命令，记得将设备传递给你的虚拟机。如果虚拟机看不到设备，你会得到与未启用USB调试相同的结果。一旦你确认USB连接已经传递给Ubuntu虚拟机，你可以执行lsusb命令来验证操作系统已经识别到该连接：
- en: '![image](img/F100068u06-03-9781597496513.jpg)'
  id: totrans-106
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/F100068u06-03-9781597496513.jpg)'
- en: 'In this example, emphasis was placed on several areas that clearly show the
    Android device is connected and, in such cases, we can see an ADB interface is
    exposed. If the device is connected but you cannot connect via ADB, you should
    also kill your local ADB daemon and then start it again. This is easily accomplished
    as follows:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，我们强调了一些明显的区域，这些区域清楚地表明了安卓设备已经连接，在这种情况下，我们可以看到ADB接口已经暴露。如果设备已连接但你无法通过ADB连接，你还应该杀死你本地的ADB守护进程然后重新启动它。这可以轻松完成，如下所示：
- en: '![image](img/F100068u06-04-9781597496513.jpg)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/F100068u06-04-9781597496513.jpg)'
- en: If the USB debugging is enabled, a forensic analyst can use the interface to
    gain access and perform a logical recovery of the device, which is covered in
    detail later in this chapter.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 如果启用了USB调试，法医分析师可以利用该接口获取访问权限并进行逻辑恢复设备，这部分内容在本章后面会详细介绍。
- en: Smudge Attack
  id: totrans-110
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 涂抹攻击
- en: 'Initially, Android devices used the pattern lock for pass code protection instead
    of a numeric or alphanumeric code. A recent paper entitled “Smudge Attacks on
    Smartphone Touch Screens” by the University of Pennsylvania Department of Computer
    and Information Science demonstrated a technique for accessing pattern locked
    Android devices by enhancing photographs of the screen ([Aviv, Gibson, Mossop,
    Blaze, Smith, n.d](#BIB4).). The paper’s summary states:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 最初，安卓设备使用图案锁作为密码保护，而不是数字或字母数字代码。宾夕法尼亚大学计算机与信息科学系发表的一篇名为“智能手机触摸屏上的涂抹攻击”的论文，展示了一种通过增强屏幕照片访问图案锁定的安卓设备的技术（[Aviv,
    Gibson, Mossop, Blaze, Smith, n.d](#BIB4)）。论文总结称：
- en: Our photographic experiments suggest that a clean touch screen surface is primarily,
    but not entirely, reflective, while a smudge is primarily, but not entirely, diffuse.
    We found that virtually any directional lighting source that is not positioned
    exactly at a complementary angle to the camera will render a recoverable image
    of the smudge. Very little photo adjustment is required to view the pattern, but
    images generally rendered best when the photo capture was overexposed by two to
    three f-stops (4 to 8 times “correct” exposure).
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的照片实验表明，干净的触摸屏表面主要是反射的，但并不完全是；而涂抹则主要是散光的，但也并非完全如此。我们发现，几乎任何非正对相机补角位置的方向性光源都能呈现可恢复的涂抹图像。调整照片以查看图案几乎不需要什么操作，但是通常在照片曝光过度两到三个光圈值（4到8倍“正确”曝光）时，图像效果最佳。
- en: If care was taken by the first responders to minimize contact with the device’s
    screen, this recovery technique may be viable. As an example of what is possible,
    [Fig. 6.6](#F0035) shows photos of the same Android device displayed side by side.
    The same original photo was used for both images but the image on the right was
    enhanced as part of the smudge attack process to highlight the contact points.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 如果第一响应者小心处理，尽量减少与设备屏幕的接触，这种恢复技术可能是可行的。作为可能性的一个例子，[图6.6](#F0035)展示了同一款安卓设备并排显示的照片。两张图片使用了同一张原始照片，但右侧的图片在涂抹攻击过程中进行了增强，以突出接触点。
- en: '![image](img/F100068f06-06-9781597496513.jpg)'
  id: totrans-114
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/F100068f06-06-9781597496513.jpg)'
- en: FIGURE 6.6 Enhanced photo showing smudge attack.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.6 显示涂抹攻击的增强照片。
- en: Recovery Mode
  id: totrans-116
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 恢复模式
- en: Some users install a custom ROM which usually enables root access to the device
    through a modified recovery mode. Most custom ROMs install a modified recovery
    partition which simplifies the process used to install the custom ROM. There are
    several popular recovery partitions that are primarily used with custom ROMs and
    both offer shell access with root privileges from within the recovery console
    itself. As the phone is not booted into normal mode, the pass code is circumvented
    and the user data partitions can be mounted read-only, thus preventing changes
    to that area.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 一些用户安装了自定义ROM，通常通过修改恢复模式来获得设备的root访问权限。大多数自定义ROM安装了修改过的恢复分区，从而简化了安装自定义ROM的过程。有几个流行的恢复分区主要与自定义ROM配合使用，它们都提供从恢复控制台本身具有root权限的shell访问。由于手机没有引导到正常模式，因此绕过了密码，用户数据分区可以被挂载为只读，从而防止该区域发生更改。
- en: Forensic analysts should attempt to boot into recovery mode if the device is
    powered off, when they take custody. If, instead, the device is running and a
    pass code is present, you should first attempt to connect via ADB and consider
    smudge attack. If neither of these is successful, you should then try to reboot
    into recovery mode. Like many other techniques, recovery mode is accessed in different
    ways depending on the device manufacturer and model. [Table 6.2](#T0015) covers
    the key combinations to access recovery mode on the phones referenced throughout
    this book. Each assumes the device is powered off already.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 在取证分析师在设备关机时取得控制权时，应尝试引导进入恢复模式。如果设备正在运行并且存在密码，你应首先尝试通过ADB连接，并考虑使用污迹攻击。如果这两种方法都不成功，那么你应该尝试重启进入恢复模式。与许多其他技术一样，根据设备制造商和型号的不同，进入恢复模式的方式也有所不同。[表6.2](#T0015)涵盖了进入本书所提及手机恢复模式所需的关键组合。每个步骤都假定设备已经关闭。
- en: Table 6.2 Key Combinations to Boot into Recovery Mode
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 表6.2 进入恢复模式的关键组合
- en: '| Device | Key Combination |'
  id: totrans-120
  prefs: []
  type: TYPE_TB
  zh: '| 设备 | 键组合 |'
- en: '| --- | --- |'
  id: totrans-121
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| HTC G1 | Hold home button and press power button. Use volume down to select
    RECOVERY and press power key. |'
  id: totrans-122
  prefs: []
  type: TYPE_TB
  zh: '| HTC G1 | 按住主页按钮并按下电源按钮。使用音量减键选择RECOVERY，然后按下电源键。 |'
- en: '| Nexus One | Hold volume down and press power button. |'
  id: totrans-123
  prefs: []
  type: TYPE_TB
  zh: '| Nexus One | 按住音量减键并按下电源按钮。 |'
- en: '| Motorola Droid | Hold X key and press power button. |'
  id: totrans-124
  prefs: []
  type: TYPE_TB
  zh: '| Motorola Droid | 按住X键并按下电源按钮。 |'
- en: '| HTC Incredible | Hold volume down and press power button. Use volume down
    to select RECOVERY and press power key. |'
  id: totrans-125
  prefs: []
  type: TYPE_TB
  zh: '| HTC Incredible | 按住音量减键并按下电源按钮。使用音量减键选择RECOVERY，然后按下电源键。 |'
- en: Once in recovery mode, you can connect the device to your Ubuntu workstation
    and attempt to connect using ADB. If the device is running a nonmodified recovery
    mode, the connection will fail. The screen generally shows a triangle with an
    exclamation point inside it and often a small Android device next to it. On other
    devices, you will be presented with the somewhat famous three Androids on a skateboard.
    Finally, other recovery modules clearly show they are in modified recovery code
    and provide a wide range of device options.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 进入恢复模式后，你可以将设备连接到Ubuntu工作站，并尝试使用ADB连接。如果设备运行的是非修改过的恢复模式，连接将失败。屏幕通常会显示一个带有感叹号的三角形，旁边通常有一个小型的Android设备。在其他设备上，你会看到三个著名的Android图标在滑板上。最后，其他恢复模块明确显示它们处于修改过的恢复代码中，并提供了一系列设备选项。
- en: Flash a New Recovery Partition
  id: totrans-127
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 刷新新的恢复分区
- en: There are a number of protocols, utilities, and devices that allow a skilled
    examiner to flash the recovery partition of a device with a modified image.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 有许多协议、工具和设备允许熟练的检查员使用修改过的镜像刷新设备的恢复分区。
- en: The first available protocol supporting this approach was fastboot. Fastboot
    is a NAND flash update protocol executed over USB while in bootloader mode. Most
    devices ship with bootloader protection enabled, which prohibits the use of this
    protocol. However, it is possible that the protection has been disabled. To determine
    if bootloader protection is enabled, you must access the bootloader and look at
    the signature information, which will indicate S-ON or S-OFF. The S represents
    security, and so S-ON, the default production build, has security enabled; S-OFF
    indicates security is not enabled. Some devices ship with S-OFF, such as the Google
    Nexus One, as it is preloaded with Google’s Engineering SPL/Bootloader. Other
    rooting techniques also disable this protection, so checking this on a pass code
    protected device may yield results. You can access the main bootloader using the
    first part of the key combinations in [Table 6.2](#T0015) in the previous section.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 支持这种方法的第一个协议是fastboot。Fastboot是一种在引导加载程序模式下通过USB执行的NAND闪存更新协议。大多数设备出厂时都启用了引导加载程序保护，这禁止使用此协议。然而，保护可能已被禁用。要确定是否启用了引导加载程序保护，你必须访问引导加载程序并查看签名信息，这将表明是S-ON还是S-OFF。S代表安全，因此S-ON，即默认的生产版本，启用了安全性；S-OFF表示未启用安全性。一些设备出厂时带有S-OFF，例如Google
    Nexus One，因为它预装了Google的工程SPL/引导加载程序。其他rooting技术也会禁用此保护，因此在密码保护的设备上检查可能会得到结果。你可以使用前一部分的键组合访问主引导加载程序，这部分在前面章节的[表6.2](#T0015)中有所描述。
- en: Fastboot does not require USB debugging to access the device. Hence, like recovery
    mode, it can be used to gain access to the device’s data. Once the new recovery
    partition is available, the device should be rebooted into recovery mode and forensic
    imaging can take place.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: Fastboot不需要USB调试来访问设备。因此，像恢复模式一样，它可用于访问设备的数据。一旦新的恢复分区可用，设备应重新启动进入恢复模式，然后可以进行法医成像。
- en: 'Other techniques exist which allow the recovery partition to be flashed with
    a new image. Some examples include:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 其他技术允许用新的映像刷新恢复分区。一些示例包括：
- en: • Motorola’s RSD Lite
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: • 摩托罗拉的RSD Lite
- en: • sbf_flash
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: • sbf_flash
- en: • Samsung’s Odin Multiloader
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: • 三星的Odin Multiloader
- en: While these utilities and protocols may ultimately provide the privileges that
    a forensic analyst requires, there is considerable effort required to not only
    locate and test the techniques but to understand them sufficiently to use them
    in a forensic investigation.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管这些工具和协议最终可能提供了法医分析师所需的权限，但需要相当大的努力不仅去查找和测试这些技术，而且要充分理解它们，以便在法医调查中使用。
- en: Screen Lock Bypass App
  id: totrans-136
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 屏幕锁绕过应用程序
- en: Security researcher Thomas Cannon recently developed a technique that allows
    a screen lock bypass by installing an app through the new web-based Android Market
    ([Cannon, T., n.d.](#BIB5)). Cannon’s technique utilizes a new feature in the
    web-based Android Market that allows apps to be installed directly from the web
    site. As such, you must have access to the Android Market using the primary Gmail
    user name and password for the device, which may be accessible from the primary
    computer of the user. Alternatively, you could access the Android Market if you
    knew the user name and password and had sufficient authority. Changing the user’s
    Gmail password would not work in this instance.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 安全研究员托马斯·坎农最近开发了一项技术，可以通过安装一个应用程序来绕过屏幕锁，这个应用程序是通过新的基于网络的Android市场安装的（[坎农，T.，未标明日期](#BIB5)）。坎农的技术利用了基于网络的Android市场的一个新功能，可以直接从网站安装应用程序。因此，你需要使用设备的主要Gmail用户名和密码访问Android市场，这可能从用户的主要计算机上可以访问。或者，如果你知道用户名和密码并且有足够的权限，你也可以访问Android市场。在这种情况下，更改用户的Gmail密码将不起作用。
- en: Cannon explains the technique on this web site as in the following section ([Cannon,
    T., n.d.](#BIB5)).
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 坎农在这个网站上解释了这项技术，如下节所述（[坎农，T.，未标明日期](#BIB5)）。
- en: How it Works
  id: totrans-139
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 工作原理
- en: The procedure is quite simple really. Android sends out a number of broadcast
    messages which an application can receive, such as SMS received or [Wi-Fi.com](http://Wi-Fi.com)
    disconnected. An application has to register its receiver to receive broadcast
    messages and this can be done at run time, or for some messages, at install time.
    When a relevant message comes in, it is sent to the application and if the application
    is not running it will be started automatically.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 这个过程实际上非常简单。Android会发送一系列广播消息，应用程序可以接收，比如收到短信或[Wi-Fi.com](http://Wi-Fi.com)断开连接。应用程序必须注册其接收器以接收广播消息，这可以在运行时完成，或者对于某些消息，在安装时完成。当相关的消息进来时，它会被发送到应用程序，如果应用程序没有运行，它将自动启动。
- en: After testing out various broadcast messages the best one I found for the purpose
    of this utility was android.intent.action.PACKAGE_ADDED. This exists in all APIs
    as version 1 and is triggered when an application is installed. Hence, to get
    the application to execute remotely, we first deploy it from the Android Market,
    then deploy any other application that will cause the first one to launch.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 在尝试了各种广播消息后，我发现对于这个实用程序来说最好的消息是android.intent.action.PACKAGE_ADDED。这个消息在所有API版本1中都存在，并在安装应用程序时触发。因此，要远程执行应用程序，我们首先从Android市场部署它，然后部署任何会导致第一个应用程序启动的其他应用程序。
- en: Once launched it is just a matter of calling the disableKeyguard() method in
    KeyguardManager. This is a legitimate API to enable applications to disable the
    screen lock when, say, an incoming phone call is detected. After finishing the
    call the app ought to enable the screen lock again, but we just keep it disabled.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 启动后，只需调用KeyguardManager中的disableKeyguard()方法即可。这是一个合法的API，允许应用程序在检测到来电时禁用屏幕锁定。通话结束后，应用程序应重新启用屏幕锁定，但我们只是保持其禁用状态。
- en: This technique is certainly worth consideration if you have proper access to
    the Android Market.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您能正确访问Android市场，这项技术绝对值得考虑。
- en: Use Gmail User/Pass
  id: totrans-144
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 使用Gmail用户名/密码
- en: On most Android phones, you can circumvent the pass code if you know the primary
    Gmail user name and password registered with the device. After a number of failed
    attempts (ten attempts on the G1), you will be presented with a screen that asks
    if you forgot your pass code. From there, you can enter the Gmail user name and
    password and you will then be prompted to reset the pass code. This technique
    does not require the phone to be online as it uses credential information cached
    on the phone.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 在大多数Android手机上，如果您知道与设备关联的主要Gmail用户名和密码，可以绕过密码。在多次尝试失败后（G1上十次尝试），您将看到一个询问是否忘记密码的屏幕。从那里，您可以输入Gmail用户名和密码，然后系统会提示您重置密码。这种技术不需要手机在线，因为它使用存储在手机上的凭据信息。
- en: If you do not have the current Gmail user name and password, but have sufficient
    authority (i.e., court order) to reset the password, you could attempt to compel
    Google to reset the account password. You would then have to connect the Android
    device to the network and gain access. This issue presents many challenges, including
    the need to place the device online, putting it at risk for remote wipe in addition
    to making changes to the device. Reports on various law enforcement mailing lists
    indicate this technique does not always work.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您没有当前的Gmail用户名和密码，但拥有足够的权限（例如，法院命令）来重置密码，您可以尝试迫使谷歌重置账户密码。然后，您需要将Android设备连接到网络并获取访问权限。这个问题带来了许多挑战，包括需要将设备上线，这除了对设备进行更改外，还可能导致远程擦除的风险。各种执法邮件列表上的报告表明，这种方法并不总是有效。
- en: If this approach is attempted, additional research is warranted. In particular,
    it would be prudent to control the Internet connection the device uses, most likely
    a [Wi-Fi.com](http://Wi-Fi.com) access point. You could then limit the network
    access to only those which the Google server needed for authentication. In addition,
    a detailed network capture of test devices should be analyzed as well as the actual
    changes made to the device.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 如果尝试这种方法，需要进一步研究。特别是，最好控制设备使用的互联网连接，很可能是通过一个[W-Fi.com](http://Wi-Fi.com)的接入点。这样，你可以限制网络访问仅限于那些谷歌服务器进行身份验证所需的。此外，还应该分析测试设备的详细网络捕获以及实际对设备所做的更改。
- en: JTAG and Chip-off
  id: totrans-148
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: JTAG和芯片脱焊
- en: 'At this time, most Android devices do not encrypt the contents of the NAND
    flash, which makes directly accessing and decoding the memory chips a potential
    workaround if a pass code is enabled. There are two primary techniques, which
    provide direct access to the chips. Both are technically challenging. The two
    techniques are:'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 当前，大多数Android设备并未对NAND闪存的内容进行加密，这使得在启用密码的情况下直接访问和解码存储芯片成为了一种潜在的解决方案。有两种主要技术可以直接访问芯片。这两种技术都具有技术挑战性。这两种技术是：
- en: • Joint test action group (JTAG)
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: • 联合测试行动组（JTAG）
- en: • Physical extraction (chip-off)
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: • 物理提取（芯片脱焊）
- en: Both techniques are not only technically challenging and require partial to
    full disassembly of the device, but they require substantial post-extraction analysis
    to reassemble the file system. For these reasons, JTAG and chip-off would likely
    be the very last choices to circumvent a locked device.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 这两种技术不仅在技术上具有挑战性，需要部分或完全拆解设备，而且还需要进行大量的后期提取分析以重新组装文件系统。因此，JTAG和芯片脱焊可能是绕过锁定设备的最后选择。
- en: With JTAG, you connect directly to the device’s CPU by soldering leads to certain
    JTAG pads on the printed circuit board (PCB). Then JTAG software can be used to
    perform a complete binary memory dump of the NAND flash, modify certain partitions
    to allow root access, or eliminate the pass code altogether.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 使用JTAG，通过将引线焊接到底板（PCB）上的特定JTAG焊盘，直接连接到设备的CPU。然后可以使用JTAG软件执行NAND闪存的完整二进制内存转储，修改某些分区以允许root访问，或者完全消除密码。
- en: In the chip-off procedure, the NAND flash chips are physically extracted from
    the PCB using heat and air. The chip, usually a small ball grid array (BGA) package,
    then needs to have the BGA connections regenerated and inserted into special hardware
    that connects to the chip and reads the NAND flash.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 在芯片脱焊过程中，使用热风将NAND闪存芯片从PCB上物理取出。然后，通常需要将这种小型的球栅阵列（BGA）封装的芯片的BGA连接重新生成，并将其插入到连接到芯片并读取NAND闪存的特殊硬件中。
- en: The advantages to these techniques are that they will work in any situation
    where the NAND flash is not encrypted. However, extensive research, development,
    testing, and practice are required to execute these techniques.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 这些技术的优点是，在任何未加密NAND闪存的情况下都能使用。然而，要执行这些技术，需要进行广泛的研究、开发、测试和实践。
- en: Imaging Android USB mass storage devices
  id: totrans-156
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 对Android USB大容量存储设备进行成像
- en: Every Android device to date has either an external Secure Digital (SD) card
    or an Embedded MultiMediaCard (eMMC) that provides the large storage space required
    by many users. These storage devices exist because the user’s app data, typically
    stored in /data/data, is isolated for security and privacy reasons. However, users
    want to copy songs, pictures, videos, or other files between their Android device
    and a computer, and these large capacity FAT file system partitions solve that
    issue. The sensitive user data remains protected, yet the larger and more portable
    files are accessible to the user.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 迄今为止，每一部Android设备都配备了外部Secure Digital（SD）卡或嵌入式MultiMediaCard（eMMC），这些设备为许多用户提供了所需的大存储空间。这些存储设备的存在是因为用户的应用数据通常存储在/data/data中，出于安全和隐私的考虑，这些数据是被隔离的。然而，用户希望在其Android设备和计算机之间复制歌曲、图片、视频或其他文件，而这些大容量FAT文件系统分区解决了这个问题。敏感的用户数据仍然受到保护，但更大且更便于携带的文件可以被用户访问。
- en: 'Initially, the approach to imaging the external storage was to simply remove
    it from the Android device and image using a USB write blocker. However, a number
    of challenges arose over time, including:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 最初，对大容量存储进行成像的方法是简单地从Android设备中取出并使用USB写保护器进行成像。然而，随着时间的推移，出现了一系列挑战，包括：
- en: • Moving to eMMC storage meant that the mass storage was no longer removable.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: • 转向eMMC存储意味着大容量存储不再是可移动的。
- en: • Apps can now run from the SD card and in this scenario, the .apk files are
    encrypted. If capturing an unencrypted copy of the app is critical to an investigation
    (for example, a case involving malware analysis or a Trojan horse defense), the
    SD card must remain in the Android device.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: • 现在应用程序可以从SD卡运行，在这种情况下，.apk文件是加密的。如果获取应用程序未加密副本对调查至关重要（例如，涉及恶意软件分析或木马防御的案件），则必须将SD卡保留在Android设备中。
- en: • Newer devices are using RAM disks (tmpfs) more frequently to store user data
    that might be helpful in an investigation. Often, removing the SD card requires
    the device to be shut down and the battery removed, thus losing the ability to
    recover the temporal data.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: • 新设备更频繁地使用RAM磁盘（tmpfs）来存储可能在调查中有所帮助的用户数据。通常，移除SD卡需要关闭设备并取出电池，从而失去恢复临时数据的能力。
- en: For these reasons, the recommended approach for imaging the USB Mass Storage
    (UMS) devices on Android no longer involves removing the SD card but instead imaging
    it via the UMS interface.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，建议的针对Android上USB大容量存储（UMS）设备成像的方法不再涉及移除SD卡，而是通过UMS接口进行成像。
- en: SD Card Versus eMMC
  id: totrans-163
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: SD卡与eMMC对比
- en: An SD card and eMMC are not all that different. The primary difference, of course,
    is that the SD cards are portable, easily moving from one device to the next.
    They use NAND flash, are based on the MultiMediaCard (MMC) specification, and
    have embedded storage controllers, so that systems MTD is not needed for guest
    operating systems to read them.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: SD卡和eMMC实际上并没有太大的区别。当然，主要的区别在于SD卡是可移动的，可以轻松地在不同设备间转移。它们使用NAND闪存，基于MultiMediaCard（MMC）规范，并具有嵌入式存储控制器，因此客操作系统无需MTD即可读取它们。
- en: To date, Android devices accept microSD cards generally ranging from 2 GB up
    to 16 GB. However, larger cards are possible. Depending on the Android device,
    the SD card may be easily accessed and removed from a running device. However,
    many require that the device is shut down so that the battery can be removed.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 迄今为止，Android设备普遍支持的microSD卡容量从2 GB到16 GB不等。然而，更大的卡片也是可能的。根据Android设备的不同，SD卡可能可以轻松地从运行中的设备访问并取出。然而，许多设备需要关闭设备，以便移除电池。
- en: For storage embedded on the device, several manufacturers have begun using eMMC,
    which consists of embedded storage with an MMC interface integrating directly
    onto the device’s PCB. This standard simplifies accessing NAND flash with the
    standardized eMMC protocol and is capable of supporting file systems that are
    not NAND flash aware. This does not necessarily mean the file systems preserve
    the life of the NAND flash at the same level and sophistication that a NAND flash-aware
    file system like YAFFS2 does. However, the general lifespan of Android devices
    is certainly decreasing and is likely not an issue for most users.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 对于设备上嵌入的存储，一些制造商已经开始使用eMMC，它由带有MMC接口的嵌入式存储组成，直接集成到设备的PCB上。这一标准简化了使用标准eMMC协议访问NAND闪存，并能够支持不是NAND闪存意识的文件系统。这并不意味着文件系统能以与像YAFFS2这样的NAND闪存意识文件系统相同级别和复杂性的保护NAND闪存的使用寿命。然而，Android设备的普遍使用寿命确实在缩短，对大多数用户来说可能并不是问题。
- en: How to Forensically Image the SD Card/eMMC
  id: totrans-167
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 如何法医镜像SD卡/eMMC
- en: There are two primary methods to forensically acquire the SD card and eMMC without
    removing it from the device. The first method, covered here, exposes the UMS device
    interface to your forensic workstation and allows you to acquire the image with
    your forensic tool of choice. The second method does not expose the UMS to your
    forensic workstation and instead uses dd on the Android device. This requires
    adb port forwarding, which will be covered in the section on physical techniques
    later in this chapter.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 有两种主要的方法可以在不将SD卡和eMMC从设备中取出的情况下进行法医获取。这里介绍的第一种方法是将UMS设备接口暴露给您的法医工作站，并允许您使用您选择的法医工具获取镜像。第二种方法没有将UMS暴露给您的法医工作站，而是在Android设备上使用dd。这需要adb端口转发，这将在本章后面的物理技术部分介绍。
- en: 'Even though our Ubuntu VM has dd built in, we are going to download, compile,
    and install an updated version of dd maintained by the Department of Defense’s
    Cyber Crime Center. The program, dc3dd, is a patched version of GNU dd and includes
    a number of features useful for computer forensics ([dc3dd, n.d.](#BIB6)), such
    as:'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管我们的Ubuntu VM内置了dd，但我们仍将下载、编译并安装由美国国防部网络犯罪中心维护的dd更新版本。该程序，dc3dd，是GNU dd的修补版本，包括许多对计算机取证有用的功能（[dc3dd,
    n.d.](#BIB6)），例如：
- en: • Piecewise and overall hashing with multiple algorithms—Supports MD5, SHA-1,
    SHA-256, and SHA-512.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: • 分段和整体散列，支持多种算法——支持MD5、SHA-1、SHA-256和SHA-512。
- en: • Progress meter with automatic input/output file-size probing.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: • 带有自动输入/输出文件大小探测的进度条。
- en: • Combined log for hashes and errors.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: • 散列和错误的组合日志。
- en: • Error grouping—Produces one error message for identical sequential errors.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: • 错误分组——对于相同的连续错误，只产生一条错误消息。
- en: • Verify mode—Able to hash output files and compare hashes to the acquisition
    hash.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: • 验证模式——能够对输出文件进行散列处理，并将散列与获取散列进行比较。
- en: • Ability to split the output into chunks with numerical or alphabetic extensions.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: • 能够将输出分割成带有数字或字母扩展名的块。
- en: • Ability to write multiple output files simultaneously.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: • 能够同时写入多个输出文件。
- en: The program is open source software licensed under the GNU Public license version
    3 (GPLv3) and is distributed online through SourceForge and was updated to version
    7.0 in August 2010 ([dc3dd, n.d.](#BIB6)). At this point in the book, you should
    be fairly comfortable compiling programs and have all the tools needed, so here
    are the abbreviated steps.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 该程序是开源软件，根据 GNU 公共许可证第3版（GPLv3）获得许可，并通过 SourceForge 在线分发，并在2010年8月更新到了版本7.0（[dc3dd,
    n.d.](#BIB6)）。在本书的这一点上，你应该对编译程序相当熟悉并且拥有所需的所有工具，所以以下是简化的步骤。
- en: '![image](img/F100068u06-05-9781597496513.jpg)'
  id: totrans-178
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-05-9781597496513.jpg)'
- en: At this point, you could proceed with imaging. However, typing out the entire
    dc3dd command each time is not only tedious but can result in typos that could
    cause irreparable damage. So create a shell script, which not only acquires the
    device but also records various system characteristics, date/time stamps, and
    creates log files, which can be helpful as you write your report at a later time.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一点上，你可以继续进行成像。然而，每次都输入整个 dc3dd 命令不仅繁琐，而且可能导致因拼写错误而造成无法修复的损害。因此，创建一个 shell
    脚本，它不仅可以获取设备，还可以记录各种系统特性、日期/时间戳，并创建日志文件，这些在你稍后编写报告时可能很有帮助。
- en: 'We will place the acquire script in /usr/local/bin so you can easily run the
    script from any directory as /usr/local/bin is in your execution path by default:'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将获取脚本放置在 /usr/local/bin 中，这样你就可以从任何目录轻松地运行脚本，因为默认情况下 /usr/local/bin 在你的执行路径中：
- en: '![image](img/F100068u06-06-9781597496513.jpg)'
  id: totrans-181
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-06-9781597496513.jpg)'
- en: 'Next, copy the following into the script, save by pressing Ctrl-O, and exit
    with Ctrl-X:'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，将以下内容复制到脚本中，通过按 Ctrl-O 保存，然后通过按 Ctrl-X 退出：
- en: '![image](img/F100068u06-07a-9781597496513.jpg)'
  id: totrans-183
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-07a-9781597496513.jpg)'
- en: '![image](img/F100068u06-07b-9781597496513.jpg)'
  id: totrans-184
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-07b-9781597496513.jpg)'
- en: 'Next, you have to change permissions, so that you can run the script and then
    run it without parameters to see the usage help:'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，你必须更改权限，以便你可以运行脚本，然后不带参数运行它以查看使用帮助：
- en: '![image](img/F100068u06-08-9781597496513.jpg)'
  id: totrans-186
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-08-9781597496513.jpg)'
- en: The great thing about this script, and open source in general, is that you can
    simply change it as you see fit. If you do not want to track client name, then
    simply remove it from the script.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 这个脚本以及开源软件的伟大之处在于，你可以根据需要简单地修改它。如果你不想跟踪客户名称，只需从脚本中删除它。
- en: Next, we have to mount the UMS device on your Ubuntu workstation. As covered
    in [Chapter 1](CHP001.html) in the Ubuntu VM setup, it is critical that you have
    disabled automount on your workstation. If you did not do this, please review
    the steps necessary and complete before presenting the UMS devices to the VM.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们必须在你的 Ubuntu 工作站上挂载 UMS 设备。正如在 [第1章](CHP001.html) 中关于 Ubuntu VM 设置所讨论的，关键在于你已经禁用了工作站上的自动挂载。如果你没有这样做，请查看必要的步骤并在向
    VM 展示 UMS 设备之前完成。
- en: Additionally, the ideal situation would first connect the Android device to
    a hardware-based USB write blocker. However, some write blockers seem to have
    trouble when the connected device exposes more than one device ID. You should
    experiment with your USB write blocker and, ideally, have this working first.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，理想情况下，首先应将 Android 设备连接到基于硬件的 USB 写保护器。然而，一些写保护器似乎在连接的设备暴露出多个设备 ID 时会遇到问题。你应该尝试使用你的
    USB 写保护器，理想情况下，首先让这个工作。
- en: Note
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Tableau UltraBlock USB
  id: totrans-191
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Tableau UltraBlock USB
- en: The Tableau UltraBlock USB model T8, running the latest firmware from August
    9, 2009, was only able to pass through the first USB device found on the reference
    HTC Incredible, and so we were unable to use it when analyzing a device. Tableau
    has a new UltraBlock USB device which may work; however, we have not verified
    this. Examiners should test the various USB write blockers they have for compatibility.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: Tableau UltraBlock USB 模型 T8，运行着2009年8月9日的最新固件，仅能通过参考 HTC Incredible 上找到的第一个USB设备，因此在分析设备时我们无法使用它。Tableau
    有一个新的 UltraBlock USB 设备可能有效；然而，我们尚未验证这一点。审查员应该测试他们拥有的各种USB写保护器以确认兼容性。
- en: 'Next, we need to determine to what devices the UMS is mapped. This information
    is displayed in the kernel logs and can be easily accessed with the “dmesg” command:'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们需要确定 UMS 映射到哪些设备。此信息显示在内核日志中，可以通过“dmesg”命令轻松访问：
- en: '![image](img/F100068u06-09-9781597496513.jpg)'
  id: totrans-194
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-09-9781597496513.jpg)'
- en: 'As discussed previously, the HTC Incredible exposes three USB interfaces in
    addition to ADB:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 如先前所讨论，除了 ADB 之外，HTC Incredible 还暴露了三个 USB 接口：
- en: • CD-ROM for device driver install (sr1)
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: • 用于设备驱动程序安装的 CD-ROM (sr1)
- en: • eMMC UMS device (sdb)
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: • eMMC UMS 设备 (sdb)
- en: • SD card UMS device (sdc)
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: • SD卡UMS设备（sdc）
- en: However, the differences between /dev/sdb and /dev/sdc are not easily discernible
    until the UMS or Disk drive feature is enabled on the Android device. Once enabled,
    you should then examine the output of dmesg again.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，/dev/sdb和/dev/sdc之间的区别在Android设备上启用UMS或磁盘驱动器功能之前不容易辨别。启用后，您应该再次检查dmesg的输出。
- en: Warning
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: Use hardware write blocker
  id: totrans-201
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用硬件写保护器
- en: Although the automount feature on the Ubuntu workstation has been disabled,
    it is critical that the forensic analyst connects only the Android device to the
    workstation through a hardware write blocker to ensure no changes are made to
    the device. All hardware should be thoroughly tested prior to active use in a
    case.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管Ubuntu工作站上的自动挂载功能已被禁用，但法医分析师通过硬件写保护器仅将Android设备连接到工作站至关重要，以确保不对设备进行任何更改。所有硬件在案件中的积极使用之前都应经过彻底测试。
- en: '![image](img/F100068u06-10-9781597496513.jpg)'
  id: totrans-203
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-10-9781597496513.jpg)'
- en: 'It is now clearer that /dev/sdb is the 7 GB storage device (which is the eMMC)
    while the 2 GB SD card is mapped to /dev/sdc. We can now acquire the devices using
    our acquire script or any forensic imaging tool available on your forensic workstation.
    The script takes the following six parameters:'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 现在更清楚的是，/dev/sdb是7GB存储设备（即eMMC），而2GB的SD卡映射到/dev/sdc。我们现在可以使用获取脚本或您的法医工作站上可用的任何法医成像工具获取设备。脚本需要以下六个参数：
- en: 1. Client —This parameter creates the folder structure, examples might be “sheriffs-office”
    or a client name such as “viaforensics.”
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 1.客户——此参数创建文件夹结构，示例可能是“sheriffs-office”或如“viaforensics”的客户名称。
- en: 2. Case—This parameter provides a case name, such as af-book.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 2.案例——此参数提供了一个案例名称，例如 af-book。
- en: 3. Tag—This parameter is tag number for the evidence you are forensically imaging,
    item001 in our example.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 3.标签——此参数是您正在法医成像的证据的标签编号，在我们的示例中是item001。
- en: 4. Serialno—This is the serial number of the device, disk, SD card, etc. If
    you do not have access to a serial number, you can type any text you choose such
    as unknown-serialno.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 4.序列号——这是设备、磁盘、SD卡等的序列号。如果您无法访问序列号，可以输入您选择的任何文本，例如unknown-serialno。
- en: 5. Sourcedev—This is the device you want to acquire such as /dev/sdb, /dev/sdc,
    etc. You can determine this using dmesg which is explained next.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 5.源设备——这是您想要获取的设备，如/dev/sdb、/dev/sdc等。您可以使用dmesg来确定，下面将解释dmesg。
- en: 6. Destpath—The top-level directory where the folders should be created. It
    could be your home directory (~) or perhaps a folder called clients (~/clients).
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 6.目标路径——应创建文件夹的顶级目录。它可以是您的家目录(~)或称为clients的文件夹(~/clients)。
- en: For this example, create a folder in your home directory called sd-emmc and
    then run the acquire script with sudo permissions.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 对于此示例，在您的家目录中创建一个名为sd-emmc的文件夹，然后使用sudo权限运行获取脚本。
- en: '![image](img/F100068u06-11-9781597496513.jpg)'
  id: totrans-212
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-11-9781597496513.jpg)'
- en: 'You can then use the same general command, but change the parameters to image
    the eMMC which, for the device, is located at /dev/sdb. After these commands complete,
    the forensic images and log files are in ~/sd-emmc and are structured as follows:'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，您可以使用相同的通用命令，但更改参数以成像eMMC，对于设备来说，它位于/dev/sdb。完成这些命令后，法医图像和日志文件位于~/sd-emmc，并按以下结构组织：
- en: '![image](img/F100068u06-12-9781597496513.jpg)'
  id: totrans-214
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-12-9781597496513.jpg)'
- en: For each UMS device forensically imaged, we not only have the verified image
    but also a hashlog for the dd image, log file with date, time, system info and
    commands run, an error log, and finally a listing of each log file and its sha256
    hash. This ensures sufficient details are known about the imaging process.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 对于每个法医成像的UMS设备，我们不仅拥有经过验证的映像，还有dd映像的hashlog，带有日期、时间、系统信息和运行的命令的日志文件，错误日志，最后是每个日志文件及其sha256哈希的列表。这确保了关于成像过程有足够的细节。
- en: Tip
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 提示
- en: Encrypted apps on the SD card
  id: totrans-217
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: SD卡上的加密应用
- en: If apps are installed on the SD card, they are encrypted and thus, if the files
    are examined from the SD card image, they will be unreadable. However, when the
    SD card is not mounted on your forensic workstation, the unencrypted .apk files
    are mounted in /mnt/asec. If an investigation relies on .apk app analysis, ensure
    you acquire a copy of the unencrypted files too.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 如果在SD卡上安装了应用，它们会被加密，因此，如果从SD卡映像检查文件，它们将无法读取。但是，当SD卡未在您的法医工作站上挂载时，未加密的.apk文件将挂载在/mnt/asec中。如果调查依赖于.apk应用分析，请确保您也获取未加密文件的副本。
- en: Logical techniques
  id: totrans-219
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 逻辑技术
- en: As discussed at the start of this chapter, logical forensic techniques extract
    data that is allocated. This is typically achieved by accessing the file system.
    Logical techniques are often the first type of examination a forensic analyst
    will run because they are not only easier to execute but often provide sufficient
    data for the case. Android forensics physical techniques can provide far more
    data. However, they are more difficult to successfully execute and take considerably
    more effort to analyze.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 正如本章开始时所讨论的，逻辑取证技术可以提取已分配的数据。这通常是通过访问文件系统来实现的。逻辑技术往往是取证分析师首先运行的一种检查类型，因为它们不仅更容易执行，而且通常能为案件提供足够的数据。安卓取证物理技术可以提供更多的数据。然而，它们更难以成功执行，并且需要更多的努力进行分析。
- en: Logical techniques also have the advantage of working in far more scenarios
    as the only requirement is that USB debugging is enabled. In other words, Android
    forensics logical techniques do not require root access.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 逻辑技术还有更多的应用场景，因为唯一的要求是启用USB调试。换句话说，安卓取证逻辑技术不需要根权限。
- en: In this section, we first cover techniques that are freely available (although
    AFLogical is only free for active law enforcement and government agencies) followed
    by a review of available commercial software.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们首先介绍免费提供的技术（尽管AFLogical仅对活跃的法律执法和政府机构免费），然后是可用商业软件的回顾。
- en: ADB Pull
  id: totrans-223
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ADB Pull
- en: In [Chapter 4](CHP004.html), the recursive adb pull command was demonstrated
    several times as various parts of the file system were copied to the Ubuntu workstation
    for further analysis. Unless an Android device has root access or is running a
    custom ROM, the adb daemon running on the device that proxies the recursive copy
    only runs with shell permissions. As such, some of the more forensically relevant
    files are not accessible. However, there are still files which can be accessed.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第4章](CHP004.html)中，递归adb pull命令被多次演示，因为文件系统的不同部分被复制到Ubuntu工作站以进行进一步分析。除非安卓设备具有根权限或运行自定义ROM，否则在设备上运行的adb守护进程，代理递归复制，只具有shell权限。因此，一些更具取证意义的文件无法访问。然而，仍然有一些可以访问的文件。
- en: 'If you attempt to access files that the shell user does not have permissions
    to, it simply does not copy the files:'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您尝试访问shell用户没有权限的文件，它根本不会复制这些文件：
- en: '![image](img/F100068u06-13-9781597496513.jpg)'
  id: totrans-226
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-13-9781597496513.jpg)'
- en: 'However, if you have sufficient privileges (root in the next example), then
    this method is very simple and effective:'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，如果您有足够的权限（下一个示例中的根权限），那么这种方法非常简单有效：
- en: '![image](img/F100068u06-14-9781597496513.jpg)'
  id: totrans-228
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-14-9781597496513.jpg)'
- en: As you can see from the output above, the entire “/data” partition was copied
    to a local directory in just over three and a half minutes. The directory structure
    is maintained during the copy so you can then simply browse or otherwise analyze
    the files of interest from the workstation.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 如您从上面的输出中所见，整个“/data”分区在三分半多一点的时间内被复制到了本地目录。在复制过程中保持了目录结构，因此您可以从工作站简单地浏览或分析感兴趣的文件。
- en: 'As most phones will not have root access (at least by default), this technique
    may appear to be of little value. However, it is a powerful utility to understand
    and there are several scenarios ideal for this approach. These scenarios include:'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: '由于大多数手机默认情况下不会有根权限，这种方法似乎价值不大。然而，了解这个工具非常有用，并且有几种情况非常适合这种方法。这些场景包括： '
- en: • On nonrooted devices, an adb pull can still access useful files such as unencrypted
    apps, most of the tmpfs file systems that can include user data such as browser
    history, and system information found in “/proc,” “/sys,” and other readable directories.
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: • 在未获得根权限的设备上，adb pull仍然可以访问有用的文件，例如未加密的应用程序，大部分包含用户数据的tmpfs文件系统，例如浏览器历史记录，以及“/proc”、“/sys”和其他可读目录中的系统信息。
- en: • On rooted devices, a pull of nearly all directories is quite simple and certain
    files and directories from “/data” would be of interest.
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: • 在已获得根权限的设备上，几乎可以简单地进行所有目录的提取，并且“/data”中的某些文件和目录会很有价值。
- en: • When utilizing the physical technique, it is not always possible to mount
    some acquired file systems such as YAFFS2\. If adbd is running with root permissions,
    you can quickly extract a logical copy of the file system with adb pull.
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: • 当使用物理技术时，并不总是能够挂载一些获取的文件系统，如YAFFS2。如果adbd以根权限运行，您可以使用adb pull快速提取文件系统的逻辑副本。
- en: As adb is not only a free utility in the Android SDK but also very versatile,
    it should be one of the primary logical tools used on a device.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 由于adb不仅是Android SDK中的免费工具，而且功能非常多样，它应该是设备上使用的首要逻辑工具之一。
- en: Warning
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: adb Pull issues
  id: totrans-236
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: adb拉取问题
- en: Some recursive pulls using adb can fail in the middle of the data transfer due
    to permission or other issues. You should closely monitor the results of the command
    to determine if any issues were encountered. Breaking the recursive pull of large
    directories into smaller data pulls may yield better results.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 由于权限或其他问题，一些使用adb的递归拉取操作可能会在数据传输过程中失败。你应该密切监控命令的结果，以确定是否遇到任何问题。将大型目录的递归拉取分解为较小的数据拉取可能会得到更好的结果。
- en: Backup Analysis
  id: totrans-238
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 备份分析
- en: When Android was first released, it did not provide a mechanism for users to
    backup their personal data. As a result, a number of backup applications were
    developed and distributed on the Android Market. For users running custom ROMs,
    there was an even more powerful backup utility developed called nandroid.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 当Android首次发布时，并没有为用户提供备份个人数据的机制。因此，在Android Market上开发并分发了许多备份应用。对于运行定制ROM的用户，开发了一个更强大的备份工具，称为nandroid。
- en: Many of the backup utilities have a “Save to SD Card” option (which users found
    extremely convenient) as well as several options to save to “the cloud.” Either
    way, users could take a backup of their devices, and if needed they could restore
    required data. This is not only a great way for users to protect themselves from
    data loss, but it can be a great source of information for forensic analysts.
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 许多备份工具都有一个“保存到SD卡”的选项（用户发现这非常方便），以及几个“保存到云端”的选项。无论如何，用户可以备份他们的设备，如果需要，他们可以恢复所需的数据。这不仅用户保护自己免受数据丢失的好方法，而且对于法医分析师来说，这也是一个很好的信息来源。
- en: 'One of the more popular backup apps is RerWare’s My Backup Pro which can take
    a backup of device data using Content Provider and even the entire “/data/data”
    files if the device has root access. The user can choose between saving to the
    SD card and saving to RerWare’s server. The app supports ([RerWare, LLC, n.d.](#BIB11))
    the following:'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 较受欢迎的备份应用之一是RerWare的My Backup Pro，它可以使用内容提供者备份设备数据，如果设备有root权限，甚至可以备份整个“/data/data”文件。用户可以选择保存到SD卡或保存到RerWare的服务器。该应用支持以下功能（[RerWare,
    LLC, n.d.](#BIB11)）：
- en: • Application install files (if phone has root access, this includes APK + Data
    and Market Links)
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: • 应用安装文件（如果手机有root权限，包括APK + 数据和_market链接）
- en: • Contacts
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: • 联系人
- en: • Call log
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: • 通话记录
- en: • Browser bookmarks
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: • 浏览器书签
- en: • SMS (text messages)
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: • 短信（文本消息）
- en: • MMS (attachments in messages)
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: • 彩信（消息中的附件）
- en: • System settings
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: • 系统设置
- en: • Home screens (including HTC Sense UI)
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: • 主屏幕（包括HTC Sense UI）
- en: • Alarms
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: • 闹钟
- en: • Dictionary
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: • 词典
- en: • Calendars
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: • 日历
- en: • Music playlists
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: • 音乐播放列表
- en: • Integrated third-party applications
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: • 集成的第三方应用程序
- en: The last bullet, “integrated third-party applications,” refers to companies
    who provide RerWare hooks for data backup. At least initially, RerWare would pay
    developers to include RerWare backup support in their apps.
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 最后一个条目，“集成的第三方应用程序”，指的是提供RerWare钩子进行数据备份的公司。至少最初，RerWare会支付开发者在其应用中包含RerWare备份支持。
- en: Interestingly, the app runs not only on Android but also on Windows Mobile,
    Blackberry, and soon Symbian OS. The user can take a backup on one platform and
    restore on a completely different supported OS. RerWare saves a single SQLite
    file to the SD card when the device backup is stored locally.
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 有趣的是，该应用不仅运行在Android上，还运行在Windows Mobile、Blackberry上，并且很快将支持Symbian OS。用户可以在一个平台上进行备份，然后在完全不同的支持操作系统上进行恢复。当设备备份存储在本地时，RerWare会将单个SQLite文件保存到SD卡上。
- en: In the more recent releases of Android, a new backup API is now available. Developers
    can simply integrate these APIs into their apps and the rest of the backup is
    handled by Android and Google. This provides the users with secure, cloud-based
    backups with consistency across apps, and will likely become the de facto standard.
    Unfortunately, current research has not yet discovered useful artifacts from the
    new backup APIs left on an Android device.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 在Android的最新版本中，现在提供了一个新的备份API。开发者只需将这些API集成到他们的应用中，其余的备份工作由Android和Google处理。这为用户提供了安全、基于云的备份，并在应用之间保持一致性，很可能会成为事实上的标准。不幸的是，目前的研究尚未发现新的备份API在Android设备上留下的有用痕迹。
- en: Regardless of the backup app, forensic analysts should determine if one was
    installed and, if so, where the backup data is stored. The SD card should be examined
    as well as other devices such as a computer or laptop. The data saved in a backup
    is obviously of significant value in an examination.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 无论使用哪种备份应用，取证分析师都应确定是否安装了备份应用，如果安装了，备份数据存储在哪里。应该检查SD卡，以及其他设备，如计算机或笔记本电脑。备份中保存的数据在检查中显然具有重大价值。
- en: AFLogical
  id: totrans-259
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: AFLogical
- en: AFLogical is an Android forensics logical technique which is distributed free
    to law enforcement and government agencies. The app, developed by viaForensics,
    extracts data using Content Providers, which are a key feature of the Android
    platform. This is the same technique that commercial forensics tools use for logical
    forensics.
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: AFLogical是一种Android取证逻辑技术，免费提供给执法和政府部门。由viaForensics开发的应用程序通过内容提供者提取数据，这是Android平台的一个关键特性。这正是商业取证工具用于逻辑取证的技术。
- en: 'Recall that Android’s security model is effective in limiting access to app
    data except in a few circumstances. Here is a quick recap of the key components
    of Android’s security model:'
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，Android的安全模型在限制应用数据访问方面是有效的，但在少数情况下除外。以下是Android安全模型关键组件的快速回顾：
- en: • Each application is assigned a unique Linux user and group id.
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: • 每个应用都会分配一个唯一的Linux用户和组ID。
- en: • Apps execute using their specific user ID in a dedicated process and Dalvik
    VM.
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: • 应用使用其特定的用户ID在专用进程和Dalvik VM中执行。
- en: • Each app has dedicated storage, generally in “/data/data,” that only the app
    can access.
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 每个应用都有专用的存储空间，通常位于“/data/data”目录下，只有应用本身可以访问。
- en: However, the Android framework does provide a mechanism by which apps can share
    data. An app developer can include support for Content Providers within their
    application, which allows them to share data with other apps. The developer controls
    what data is exposed to other apps. During the install of an app, the user controls
    whether or not an app should gain access to the requested Content Providers.
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，Android框架确实提供了一种机制，允许应用间共享数据。应用开发者可以在他们的应用程序中包含对内容提供者的支持，这使他们能够与其他应用共享数据。开发者控制着哪些数据可以被其他应用访问。在安装应用时，用户可以控制应用是否能够访问请求的内容提供者。
- en: 'Some examples of Content Providers are:'
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 一些内容提供者的例子包括：
- en: • SMS/MMS
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: • 短信/彩信
- en: • Contacts
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: • 联系人
- en: • Calendar
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: • 日历
- en: • Facebook
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: • Facebook
- en: • Gmail
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: • Gmail
- en: And there are many more.
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 等等，还有更多。
- en: 'The AFLogical app takes advantage of the Content Provider architecture to gain
    access to data stored on the device. Similar to commercial Android logical tools,
    USB debugging must be enabled on the device for AFLogical to extract the data.
    The current version, 1.5.1, extracts data from 41 Content Providers and provides
    the output information to the SD card in CSV format and as an info.xml file, which
    provides details about the device and installed apps. AFLogical supports devices
    running Android 1.5 and later, and has been specifically updated to support extraction
    of large data sets such as an SMS database with over 35,000 messages. The currently
    supported Content Providers are:'
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: AFLogical应用利用内容提供者架构来获取设备上存储的数据。类似于商业的Android逻辑工具，需要在设备上启用USB调试，以便AFLogical提取数据。当前版本1.5.1，从41个内容提供者中提取数据，并将输出信息保存到SD卡上，格式为CSV文件和info.xml文件，后者提供有关设备和安装应用的具体信息。AFLogical支持运行Android
    1.5及以上版本的设备，并特别更新以支持提取大型数据集，如包含超过35,000条消息的短信数据库。目前支持的内容提供者包括：
- en: 1. Browser Bookmarks
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 1. 浏览器书签
- en: 2. Browser Searches
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 2. 浏览器搜索
- en: 3. Calendars
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 3. 日历
- en: 4. Calendar Attendees
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 4. 日历参与者
- en: 5. Calendar Events
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 5. 日历事件
- en: 6. Calendar Extended Properties
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 6. 日历扩展属性
- en: 7. Calendar Reminders
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 7. 日历提醒
- en: 8. Call Log Calls
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 8. 通话记录
- en: 9. Contacts Contact Methods
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 9. 联系人联系方式
- en: 10. Contacts Extensions
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 10. 联系人扩展
- en: 11. Contacts Groups
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 11. 联系人分组
- en: 12. Contacts Organizations
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 12. 联系人组织
- en: 13. Contacts Phones
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: 13. 联系人电话
- en: 14. Contacts Settings
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 14. 联系人设置
- en: 15. External Media
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: 15. 外部媒体
- en: 16. External Image Media
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 16. 外部图片媒体
- en: 17. External Image Thumb Media
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 17. 外部图片缩略媒体
- en: 18. External Videos
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 18. 外部视频
- en: 19. IM Account
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: 19. 即时通讯账户
- en: 20. IM Accounts
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 20. 即时通讯账户
- en: 21. IM Chats
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: 21. 即时通讯聊天
- en: 22. IM Contacts Provider (IM Contacts)
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: 22. 即时通讯联系人提供者（即时通讯联系人）
- en: 23. IM Invitations
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 23. 即时通讯邀请
- en: 24. IM Messages
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: 24. 即时通讯消息
- en: 25. IM Providers
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: 25. 即时通讯提供者
- en: 26. IM Provider Settings
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: 26. 即时通讯提供者设置
- en: 27. Internal Image Media
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: 27. 内部图片媒体
- en: 28. Internal Image Thumb Media
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: 28. 内部图片缩略媒体
- en: 29. Internal Videos
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: 29. 内部视频
- en: 30. Maps-Friends
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 30. 地图-朋友
- en: 31. Maps-Friends extra
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: 31. 地图-朋友额外信息
- en: 32. Maps-Friends contacts
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: 32. 地图-朋友联系人
- en: 33. MMS
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 33. 彩信
- en: 34. Mms Parts Provider (MMSParts)
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: 34. Mms部件提供者（MMSParts）
- en: 35. Notes
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: 35. 笔记
- en: 36. People
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: 36. 人员
- en: 37. People Deleted
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: 37. 已删除的人员
- en: 38. Phone Storage (HTC Incredible)
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: 38. 手机存储（HTC Incredible）
- en: 39. Search History
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: 39. 搜索历史
- en: 40. SMS
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: 40. 短信
- en: 41. Social Contracts Activities
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 41. 社交合同活动
- en: Let’s walk through the steps for running AFLogical on a device. First, ensure
    you have downloaded AFLogical, which requires registration and approval from viaForensics.
    (You can access the AFLogical page at [http://viaforensics.com/products/tools/aflogical/](http://viaforensics.com/products/tools/aflogical/).)
    Next, you need to replace the user’s SD card with an SD card you control and ensure
    that USB debugging is enabled on the device. Then connect the Android device to
    your Ubuntu workstation and make sure you pass the USB connection through to the
    VM.
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们逐步了解在设备上运行AFLogical的步骤。首先，确保你已经下载了AFLogical，这需要通过viaForensics进行注册和批准。（你可以访问AFLogical页面：[http://viaforensics.com/products/tools/aflogical/](http://viaforensics.com/products/tools/aflogical/)。）接下来，你需要用你控制的SD卡替换用户的SD卡，并确保设备上启用了USB调试。然后将Android设备连接到你的Ubuntu工作站，并确保将USB连接传递到虚拟机。
- en: Warning
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: Replace user’s SD card
  id: totrans-317
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 替换用户的SD卡
- en: This version of AFLogical writes content directly to the SD card and it is important
    that the user’s SD card is removed and replaced with the examiner’s SD card. Failure
    to do this will either write data to the user’s SD card or AFLogical will fail
    as it cannot write to the SD card. The commercial version of this app will eventually
    replace the writing to the SD card in favor of port forwarding over adb.
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: 这个版本的AFLogical直接将内容写入SD卡，确保移除用户的SD卡并用检查者的SD卡替换是重要的。如果未执行此操作，将导致数据写入用户的SD卡，或者因为无法写入SD卡而使AFLogical失败。该应用程序的商业版本最终将用通过adb进行端口转发替换写入SD卡。
- en: 'From a terminal session, verify you can see the device:'
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: 在终端会话中，验证你是否可以看到设备：
- en: '![image](img/F100068u06-15-9781597496513.jpg)'
  id: totrans-320
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-15-9781597496513.jpg)'
- en: 'Assuming you saved the AFLogical app in your home directory, you can install
    it with the following command:'
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你将AFLogical应用程序保存在你的主目录中，你可以使用以下命令进行安装：
- en: '![image](img/F100068u06-16-9781597496513.jpg)'
  id: totrans-322
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-16-9781597496513.jpg)'
- en: 'Note: If AFLogical is already installed on the device, an error will display
    and you must uninstall the existing app before you can install the new version.
    To uninstall, run the following command:'
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: 注意：如果设备上已经安装了AFLogical，将显示错误，你必须卸载现有应用程序才能安装新版本。要卸载，请运行以下命令：
- en: '![image](img/F100068u06-17-9781597496513.jpg)'
  id: totrans-324
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-17-9781597496513.jpg)'
- en: 'After the application is successfully installed, you can run the program from
    either the Android device directly or via command line. If you run the app from
    command line, you can simply start the app and then complete using the device
    or have it run automated. To run the app and extraction automatically, execute
    the following:'
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: 成功安装应用程序后，你可以直接从Android设备或通过命令行运行程序。如果你从命令行运行应用程序，你可以简单地启动应用程序，然后使用设备完成操作，或者让它自动运行。要自动运行应用程序和提取，请执行以下操作：
- en: '![image](img/F100068u06-18-9781597496513.jpg)'
  id: totrans-326
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-18-9781597496513.jpg)'
- en: The program immediately starts and begins to extract data from all supported
    Content Providers. If you are viewing the screen, you would see an image similar
    to [Fig. 6.7](#F0040).
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: 程序立即启动并开始从所有支持的内容提供者提取数据。如果你正在查看屏幕，你会看到一个类似于[图6.7](#F0040)的图像。
- en: '![image](img/F100068f06-07-9781597496513.jpg)'
  id: totrans-328
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-07-9781597496513.jpg)'
- en: FIGURE 6.7 AFLogical, extract all from command line.
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.7 AFLogical，从命令行提取所有内容。
- en: 'Or you can simply start the app with the following:'
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，你可以使用以下命令简单地启动应用程序：
- en: '![image](img/F100068u06-19-9781597496513.jpg)'
  id: totrans-331
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-19-9781597496513.jpg)'
- en: And then complete the acquisition using the screen presented on the device as
    shown in [Fig. 6.8](#F0045).
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: 然后使用设备上显示的屏幕完成获取，如[图6.8](#F0045)所示。
- en: '![image](img/F100068f06-08-9781597496513.jpg)'
  id: totrans-333
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-08-9781597496513.jpg)'
- en: FIGURE 6.8 AFLogical, run from command line.
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.8 AFLogical，从命令行运行。
- en: Otherwise, you can simply run the app directly from the All Apps screen on the
    device as shown in [Fig. 6.9](#F0050). First, access the Android app menu, look
    for a program called viaForensics and click on the icon to launch the app.
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: 否则，你可以直接从设备上的所有应用程序屏幕运行应用程序，如[图6.9](#F0050)所示。首先，访问Android应用程序菜单，寻找一个名为viaForensics的程序，并点击图标启动应用程序。
- en: '![image](img/F100068f06-09-9781597496513.jpg)'
  id: totrans-336
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-09-9781597496513.jpg)'
- en: FIGURE 6.9 AFLogical in All Apps list.
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.9 AFLogical在所有应用程序列表中。
- en: You will then be presented with the AFLogical data extraction screen. You can
    select or deselect individual Content Providers or leave all of them selected.
    Next, you hit Capture which will start the data collection process as illustrated
    in [Fig. 6.10](#F0055).
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，您将看到 AFLogical 数据提取屏幕。您可以选中或取消选中单个内容提供者，或者选择全部保留选中状态。然后点击捕获，这将开始如图 6.10
    所示的数据收集过程。
- en: '![image](img/F100068f06-10-9781597496513.jpg)'
  id: totrans-339
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-10-9781597496513.jpg)'
- en: FIGURE 6.10 AFLogical capturing data.
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.10 AFLogical 捕获数据。
- en: Once the data collection is complete, you will receive the corresponding message
    shown in [Fig. 6.11](#F0060).
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: 数据收集完成后，您将收到如图 6.11 所示的相应消息。
- en: '![image](img/F100068f06-11-9781597496513.jpg)'
  id: totrans-342
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-11-9781597496513.jpg)'
- en: FIGURE 6.11 AFLogical, data extraction complete.
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.11 AFLogical，数据提取完成。
- en: 'The extracted data are saved to the SD card of the device in a directory called
    forensics and a subdirectory named after the date in YYYYMMDD.HHMM format. For
    this example, we moved the files from the SD card to an AFLogical directory on
    the local file system using adb pull. If you examine that folder, you see:'
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
  zh: 提取的数据保存在设备的 SD 卡上的一个名为 forensics 的目录中，以及一个以日期（YYYYMMDD.HHMM 格式）命名的子目录中。在这个例子中，我们使用
    adb pull 命令将文件从 SD 卡移动到本地文件系统上的 AFLogical 目录。如果您检查该文件夹，您会看到：
- en: '![image](img/F100068u06-20-9781597496513.jpg)'
  id: totrans-345
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-20-9781597496513.jpg)'
- en: 'This then contains the extracted data:'
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
  zh: 这包含了提取的数据：
- en: '![image](img/F100068u06-21a-9781597496513.jpg)'
  id: totrans-347
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-21a-9781597496513.jpg)'
- en: The CSV files can be viewed using any editor or spreadsheet. There is also a
    file in the directory called info.xml, which contains information about the device
    including the IMSI, IMEI, Android version, network provider, and more, as well
    as the list of all installed apps.
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
  zh: CSV 文件可以使用任何编辑器或表格程序查看。目录中还有一个名为 info.xml 的文件，其中包含有关设备的信息，包括 IMSI、IMEI、Android
    版本、网络提供商等，以及所有已安装应用的列表。
- en: '![image](img/F100068u06-22a-9781597496513.jpg)'
  id: totrans-349
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-22a-9781597496513.jpg)'
- en: '![image](img/F100068u06-22b-9781597496513.jpg)'
  id: totrans-350
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-22b-9781597496513.jpg)'
- en: The data can now be analyzed by the forensic examiner and easily shared with
    others.
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: 现在法医检查员可以分析这些数据，并且可以轻松地与其他人共享。
- en: Warning
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
  zh: 警告
- en: Uninstall AFLogical
  id: totrans-353
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 卸载 AFLogical
- en: 'Do not forget to uninstall AFLogical. Failure to uninstall the app would mean
    that the Android device could potentially be returned to the owner with the forensic
    agent still accessible. To uninstall AFLogical, key in the following command:'
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
  zh: 不要忘记卸载 AFLogical。如果未能卸载该应用，意味着 Android 设备可能会在法医代理仍然可以访问的情况下归还给所有者。要卸载 AFLogical，请输入以下命令：
- en: adb uninstall com.viaforensics.android
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
  zh: adb uninstall com.viaforensics.android
- en: This should return Success. Alternately, you can go to the home screen, press
    Menu, select Applications, Manage Applications, viaForensics, and finally Uninstall.
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
  zh: 这应该会显示成功。另外，您也可以回到主屏幕，按下菜单，选择应用程序，管理应用程序，选择 viaForensics，最后点击卸载。
- en: Commercial Providers
  id: totrans-357
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 商业供应商
- en: Many of the commercial mobile forensic software vendors now support Android.
    To date, the forensic software only supports a logical examination of an Android
    device using the same Content Provider technique used by AFLogical. It can be
    helpful for a forensic examiner to understand how each of the forensic software
    vendors implement Android support.
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
  zh: 目前，许多商业移动法医软件供应商已支持 Android。迄今为止，法医软件仅支持使用与 AFLogical 相同的内容提供者技术对 Android 设备进行逻辑检查。对于法医检查员来说，了解每个法医软件供应商如何实现
    Android 支持可能是有帮助的。
- en: 'Each software company provided an evaluation copy of their software as well
    as an overview of their platform, which is included at the beginning of each section.
    A Motorola Droid running Android 2.2 was used for the examination. This section
    is not intended to evaluate each platform, but rather provide a helpful overview.
    The following forensic software packages were provided (reviewed in alphabetical
    order):'
  id: totrans-359
  prefs: []
  type: TYPE_NORMAL
  zh: 每家软件公司都提供了一份软件评估版以及各自平台的概述，这些内容包含在每个章节的开头部分。本次评估使用了运行 Android 2.2 系统的摩托罗拉 Droid
    手机。本节目的并非对每个平台进行评估，而是提供一个有帮助的概览。以下是为本次评估提供的法医软件包（按字母顺序排列）：
- en: • Cellebrite UFED
  id: totrans-360
  prefs: []
  type: TYPE_NORMAL
  zh: • Cellebrite UFED
- en: • Compelson MOBILedit!
  id: totrans-361
  prefs: []
  type: TYPE_NORMAL
  zh: • Compelson MOBILedit!
- en: • EnCase Neutrino
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
  zh: • EnCase Neutrino
- en: • Micro Systemation XRY
  id: totrans-363
  prefs: []
  type: TYPE_NORMAL
  zh: • Micro Systemation XRY
- en: • Paraben Device Seizure
  id: totrans-364
  prefs: []
  type: TYPE_NORMAL
  zh: • Paraben Device Seizure
- en: • viaForensics’ viaExtract
  id: totrans-365
  prefs: []
  type: TYPE_NORMAL
  zh: • viaForensics 的 viaExtract
- en: Two additional forensic software packages were tested. However, issues were
    encountered which prevented their inclusion at this time. These vendors do provide
    a forensic solution for Android and, if interested, you should review their offerings
    independently. The software packages omitted were Oxygen Forensic Suite 2010 and
    Logicube’s CellDEK.
  id: totrans-366
  prefs: []
  type: TYPE_NORMAL
  zh: 测试了另外两个法医软件包。然而，遇到的问题阻止了它们这次的包含。这些供应商确实为Android提供了一种法医解决方案，如果你感兴趣，应该独立查看他们的产品。此次省略的软件包包括Oxygen
    Forensic Suite 2010和Logicube的CellDEK。
- en: The challenge with any such overview is that the forensic software is updated
    frequently enough that a newer version likely already exists. Forensic examiners
    and security engineers interested in a particular software package should check
    the vendor’s web site or contact them directly.
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
  zh: 任何此类概述的挑战在于，法医软件的更新频率很高，可能已经存在一个更新的版本。对特定软件包感兴趣的司法检查员和安全工程师应检查供应商的网站或直接与他们联系。
- en: Cellebrite UFED
  id: totrans-368
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: Cellebrite UFED
- en: 'The following overview of Cellebrite was provided by the vendor:'
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是由供应商提供的Cellebrite概述：
- en: The Cellebrite UFED Forensic system is a stand-alone device capable of acquiring
    data from approximately 1600 mobile devices and storing the information on a USB
    drive, SD card or PC. UFED also has a built-in SIM card reader and cloner. The
    ability to clone a SIM card is a powerful feature as you can create and insert
    a clone of the original SIM and the phone will function normally. However, it
    will not register on the mobile carrier’s network, eliminating the need for Faraday
    bags and the possibility that the data on the phone will be updated (or erased).
    The UFED package ships with about 70 cables for connecting to most mobile devices
    available today. Connection protocols supported include serial, USB, infrared,
    and Bluetooth.
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
  zh: Cellebrite UFED 法医系统是一个独立的设备，能够从大约1600种移动设备中获取数据，并将信息存储在USB驱动器、SD卡或PC上。UFED还内置了SIM卡读取器和克隆器。克隆SIM卡的能力是一项强大的功能，因为你只需创建并插入原始SIM的克隆版，手机就能正常使用。然而，它不会在移动运营商的网络中注册，这就省去了法拉第袋的必要性，也避免了手机数据被更新（或删除）的可能。UFED套件附带了大约70根线缆，用于连接现今大多数可用的移动设备。支持的连接协议包括串行、USB、红外线和蓝牙。
- en: Cellebrite also distributes the UFED Report Manager, which provides an intuitive
    reporting interface and allows the user to export data/reports into Excel, MS
    Outlook, Outlook Express, and CSV or to simply print the report.
  id: totrans-371
  prefs: []
  type: TYPE_NORMAL
  zh: Cellebrite还提供了UFED报告管理器，它提供了一个直观的报告界面，并允许用户将数据/报告导出到Excel、MS Outlook、Outlook
    Express、CSV，或者直接打印报告。
- en: 'The UFED device fully supports Unicode and thus, can process phones with any
    language enabled. Also, the following data types are extracted:'
  id: totrans-372
  prefs: []
  type: TYPE_NORMAL
  zh: UFED设备完全支持Unicode，因此可以处理任何语言启用的手机。此外，以下数据类型被提取：
- en: • Phone Book
  id: totrans-373
  prefs: []
  type: TYPE_NORMAL
  zh: • 电话簿
- en: • Text Messages
  id: totrans-374
  prefs: []
  type: TYPE_NORMAL
  zh: • 短信
- en: • Call History (Received, Dialed, Missed)
  id: totrans-375
  prefs: []
  type: TYPE_NORMAL
  zh: • 通话记录（接收、拨出、未接）
- en: • SIM ID Cloning
  id: totrans-376
  prefs: []
  type: TYPE_NORMAL
  zh: • SIM ID 克隆
- en: • Deleted Text Messages off SIM/USIM
  id: totrans-377
  prefs: []
  type: TYPE_NORMAL
  zh: • 从SIM/USIM删除的短信
- en: • Audio Recordings
  id: totrans-378
  prefs: []
  type: TYPE_NORMAL
  zh: • 音频录音
- en: • Videos
  id: totrans-379
  prefs: []
  type: TYPE_NORMAL
  zh: • 视频
- en: • Pictures
  id: totrans-380
  prefs: []
  type: TYPE_NORMAL
  zh: • 图片
- en: • Phone Details (IMEI/ESN phone number)
  id: totrans-381
  prefs: []
  type: TYPE_NORMAL
  zh: • 手机详情（IMEI/ESN手机号码）
- en: Installation
  id: totrans-382
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 安装
- en: The UFED system is a stand-alone unit and is packaged in a soft case containing
    the UFED device, user manual, software CD-ROM, USB Bluetooth radio (Cambridge
    Silicon Radio Ltd), 250 MB USB drive, and roughly 72 cables for connecting to
    supported devices.
  id: totrans-383
  prefs: []
  type: TYPE_NORMAL
  zh: UFED系统是一个独立的单元，包装在一个软壳中，包含UFED设备、用户手册、软件CD-ROM、USB蓝牙收音机（剑桥硅无线电有限公司）、250MB USB驱动器和大约72根用于连接支持设备的线缆。
- en: The UFED system provides several mechanisms by which the firmware and software
    can be updated. After setting the date and time, an examiner can simply connect
    the UFED system to the network via an Ethernet cable, provided DHCP and Internet
    access are available. Next, select Services, Upgrade, Upgrade Application Now,
    and select HTTP Server as the source. For this test, the latest Application software,
    version 1.1.0.5, was located and installed. As the UFED system is a stand-alone
    solution, no additional installs are necessary.
  id: totrans-384
  prefs: []
  type: TYPE_NORMAL
  zh: UFED系统提供了几种机制，通过这些机制可以更新固件和软件。在设置日期和时间之后，检查员只需通过以太网电缆将UFED系统连接到网络，前提是提供DHCP和互联网访问。接下来，选择服务、升级、立即升级应用程序，并选择HTTP服务器作为源。对于这次测试，安装了最新的应用程序软件，版本1.1.0.5。由于UFED系统是一个独立的解决方案，无需进行其他安装。
- en: Acquisition
  id: totrans-385
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 获取
- en: 'The acquisition of the Motorola Droid was quite fast and simple on the UFED
    system. After powering the device on, select Extract Phone Data, Motorola CDMA,
    Moto. A855 Droid (Android), USB disk drive (destination), and the desired Content
    types. The following instructions were then displayed by the UFED system (see
    [Fig. 6.12](#F0065)):'
  id: totrans-386
  prefs: []
  type: TYPE_NORMAL
  zh: 在UFED系统上对摩托罗拉Droid的获取非常快速和简单。打开设备电源后，选择提取手机数据，摩托罗拉CDMA，Moto. A855 Droid (Android)，USB磁盘驱动器（目标位置），以及所需的内容类型。然后UFED系统显示了以下指令（见[图6.12](#F0065)）：
- en: '![image](img/F100068u06-23-9781597496513.jpg)'
  id: totrans-387
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-23-9781597496513.jpg)'
- en: '![image](img/F100068f06-12-9781597496513.jpg)'
  id: totrans-388
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-12-9781597496513.jpg)'
- en: FIGURE 6.12 UFED instructions for Android device.
  id: totrans-389
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.12 UFED针对Android设备的指令。
- en: 'It should be noted that the contacts list will be saved to the SD card if the
    suggested steps are followed. After performing these steps, you hit Continue and
    the acquisition proceeds. The UFED system next prompts:'
  id: totrans-390
  prefs: []
  type: TYPE_NORMAL
  zh: '应该注意的是，如果按照建议的步骤操作，联系人列表将被保存到SD卡上。执行这些步骤后，点击继续，获取过程将继续进行。UFED系统接下来提示： '
- en: '![image](img/F100068u06-24-9781597496513.jpg)'
  id: totrans-391
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-24-9781597496513.jpg)'
- en: 'And after this step is completed, the acquisition proceeds. You may be prompted
    to set UMS again before the acquisition is complete. The acquisition process took
    just over three minutes and provided the following prompt:'
  id: totrans-392
  prefs: []
  type: TYPE_NORMAL
  zh: 在此步骤完成后，将继续进行获取。在获取完成之前，你可能会再次被提示设置UMS。获取过程耗时超过三分钟，并提供了以下提示：
- en: '![image](img/F100068u06-25-9781597496513.jpg)'
  id: totrans-393
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-25-9781597496513.jpg)'
- en: 'The results from the acquisition were stored on the flash drive that was plugged
    into the UFED. A 25 MB folder was created on this drive with folders for videos,
    audio, and images. There were also three files of interest created: [PhoneBook
    2010_11_23 (001).htm](http://PhoneBook2010_11_23(001).htm), [SMSMessages 2010_11_23
    (001).htm](http://SMSMessages2010_11_23(001).htm), and [Report.htm](http://Report.htm).
    All these can be viewed in a web browser. The file Report.htm contains the entire
    report of the extraction. This contains sections for Phone Examination Report
    Properties, Phone Examination Report Index, Phone Contacts, Phone SMS—Text Messages,
    Phone Incoming Calls List, Phone Outgoing Calls List, Phone Missed Calls List,
    Images, Ringtones, Audio, and Video.'
  id: totrans-394
  prefs: []
  type: TYPE_NORMAL
  zh: 获取的结果存储在插入UFED的闪存驱动器上。在此驱动器上创建了一个25 MB的文件夹，其中包含视频、音频和图片的文件夹。还创建了三个感兴趣的文件：[电话簿
    2010_11_23 (001).htm](http://PhoneBook2010_11_23(001).htm)，[短信消息 2010_11_23 (001).htm](http://SMSMessages2010_11_23(001).htm)，和[报告.htm](http://Report.htm)。所有这些都可以在网页浏览器中查看。报告.htm文件包含了提取的完整报告。这包括手机检查报告属性、手机检查报告索引、手机联系人、手机短信—文本消息、手机来电列表、手机去电列表、手机未接来电列表、图片、铃声、音频和视频部分。
- en: The entire acquisition process took approximately ten minutes. After the acquisition
    was completed, a quick examination of the SD card revealed a file named 00001.vcf
    that contained the contact information from the export process.
  id: totrans-395
  prefs: []
  type: TYPE_NORMAL
  zh: 整个获取过程大约需要十分钟。在获取完成后，快速检查SD卡发现一个名为00001.vcf的文件，其中包含了导出过程中的联系人信息。
- en: Phone information was well laid out and was quite accurate.
  id: totrans-396
  prefs: []
  type: TYPE_NORMAL
  zh: 电话信息布局良好且相当准确。
- en: Data presentation and analysis
  id: totrans-397
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 数据展示与分析
- en: 'The acquisition data was stored on a flash drive connected to the UFED system
    and contained a folder that stored videos, audio files, and images as well as
    three HTML files, which contained the report data:'
  id: totrans-398
  prefs: []
  type: TYPE_NORMAL
  zh: 获取的数据存储在连接到UFED系统的闪存驱动器上，包含一个存储视频、音频文件和图片的文件夹以及三个HTML文件，这些文件包含了报告数据：
- en: 1. PhoneBook 2010_11_23 (001).htm
  id: totrans-399
  prefs: []
  type: TYPE_NORMAL
  zh: 1. 电话簿 2010_11_23 (001).htm
- en: 2. SMSMessages 2010_11_23 (001).htm
  id: totrans-400
  prefs: []
  type: TYPE_NORMAL
  zh: 2. 短信消息 2010_11_23 (001).htm
- en: 3. Report.htm
  id: totrans-401
  prefs: []
  type: TYPE_NORMAL
  zh: 3. 报告.htm
- en: These files can be viewed in a web browser and samples from the report are displayed
    in [Fig. 6.13](#F0070), in which thorough phone information was captured.
  id: totrans-402
  prefs: []
  type: TYPE_NORMAL
  zh: 这些文件可以在网页浏览器中查看，报告样本显示在[图6.13](#F0070)中，其中捕获了详尽的手机信息。
- en: '![image](img/F100068f06-13-9781597496513.jpg)'
  id: totrans-403
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-13-9781597496513.jpg)'
- en: FIGURE 6.13 UFED phone information reporting.
  id: totrans-404
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.13 UFED手机信息报告。
- en: '[Fig. 6.14](#F0075) shows how the Phone Contacts are laid out.'
  id: totrans-405
  prefs: []
  type: TYPE_NORMAL
  zh: '[图6.14](#F0075)显示了电话联系人的布局。'
- en: '![image](img/F100068f06-14-9781597496513.jpg)'
  id: totrans-406
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-14-9781597496513.jpg)'
- en: FIGURE 6.14 UFED phone contacts reporting.
  id: totrans-407
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.14 UFED电话联系人报告。
- en: '[Fig. 6.15](#F0080) shows text messages displayed chronologically with detailed
    information on whether the message was sent or received.'
  id: totrans-408
  prefs: []
  type: TYPE_NORMAL
  zh: '[图6.15](#F0080)按时间顺序显示了短信，并详细说明了短信是发送还是接收。'
- en: '![image](img/F100068f06-15-9781597496513.jpg)'
  id: totrans-409
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-15-9781597496513.jpg)'
- en: FIGURE 6.15 UFED SMS reporting.
  id: totrans-410
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.15 UFED SMS 报告。
- en: However, deleted text messages are not displayed, nor are MMS messages.
  id: totrans-411
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，已删除的短信和 MMS 消息不会显示。
- en: Call logs are displayed chronologically as shown in [Fig. 6.16](#F0085), and
    include the length of the call. They are categorized into Incoming, Outgoing,
    and Missed sections.
  id: totrans-412
  prefs: []
  type: TYPE_NORMAL
  zh: 通话记录按时间顺序显示，如图 [6.16](#F0085) 所示，并包括通话时长。它们被分类为来电、去电和未接部分。
- en: '![image](img/F100068f06-16-9781597496513.jpg)'
  id: totrans-413
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/F100068f06-16-9781597496513.jpg)'
- en: FIGURE 6.16 UFED phone calls reporting.
  id: totrans-414
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.16 UFED 电话通话报告。
- en: Several calls were deleted from the call logs; however, UFED was able to extract
    and display the details.
  id: totrans-415
  prefs: []
  type: TYPE_NORMAL
  zh: 通话记录中删除了几个电话；然而，UFED 能够提取并显示详细信息。
- en: All of the images found on the phone are reported, along with a thumbnail of
    the image and details, including file name, size, date and time created, and resolution,
    as shown in [Fig. 6.17](#F0090).
  id: totrans-416
  prefs: []
  type: TYPE_NORMAL
  zh: 手机上找到的所有图像都会被报告，包括图像的缩略图和详细信息，如文件名、大小、创建日期和时间以及分辨率，如图 [6.17](#F0090) 所示。
- en: '![image](img/F100068f06-17-9781597496513.jpg)'
  id: totrans-417
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/F100068f06-17-9781597496513.jpg)'
- en: FIGURE 6.17 UFED images reporting.
  id: totrans-418
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.17 UFED 图像报告。
- en: Deleted images did not appear, and it seemed as though a duplicate of each image
    was created. Both audio and video files are reported. The report includes file
    name, file size, date and time created, and a link to view or listen to the media,
    as shown in [Fig. 6.18](#F0095).
  id: totrans-419
  prefs: []
  type: TYPE_NORMAL
  zh: 已删除的图像没有出现，似乎每张图像都创建了一个副本。音频和视频文件都被报告。报告包括文件名、文件大小、创建日期和时间以及查看或收听媒体的链接，如图 [6.18](#F0095)
    所示。
- en: '![image](img/F100068f06-18-9781597496513.jpg)'
  id: totrans-420
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/F100068f06-18-9781597496513.jpg)'
- en: FIGURE 6.18 UFED audio and video reporting.
  id: totrans-421
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.18 UFED 音频和视频报告。
- en: No deleted videos were returned and songs uploaded to the device did not appear
    in the report. The audio files that were reported were returned from Google Maps
    Navigation.
  id: totrans-422
  prefs: []
  type: TYPE_NORMAL
  zh: 没有返回已删除的视频，而且上传到设备的歌曲也没有出现在报告中。报告中的音频文件来自 Google 地图导航。
- en: Compelson MOBILedit!
  id: totrans-423
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: Compelson MOBILedit!
- en: 'The following overview of MOBILedit! was provided by the vendor:'
  id: totrans-424
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是由供应商提供的 MOBILedit! 概述：
- en: With just a single click, MOBILedit! Forensic collects all possible data from
    mobile phones and generates extensive reports onto a PC that can be stored or
    printed. It is the most universal mobile phone solution with software supporting
    most GSM phones and open architecture allowing the support of any phone. The system
    allows you to customize the output making it completely adaptable to the needs
    of your judicial system.
  id: totrans-425
  prefs: []
  type: TYPE_NORMAL
  zh: 只需单击一下，MOBILedit! Forensic 就可以从手机中收集所有可能的数据，并在电脑上生成详尽的报告，以便存储或打印。这是最通用的手机解决方案，软件支持大多数
    GSM 手机，开放架构允许支持任何手机。系统允许你自定义输出，使其完全适应你司法系统的需求。
- en: MOBILedit! Forensic does a complete analysis of the phone including its phone
    book, last dialed numbers, missed calls, received calls, MMS messages, SMS messages,
    photos, videos, files, phone details, calendar, notes, tasks, and much more.
  id: totrans-426
  prefs: []
  type: TYPE_NORMAL
  zh: MOBILedit! Forensic 对手机进行彻底分析，包括电话簿、最后拨打的号码、未接电话、已接电话、MMS 消息、SMS 消息、照片、视频、文件、手机详情、日历、便签、任务等等。
- en: MOBILedit! Forensic caters to the entire world with reports that can be generated
    in any language. You are able to prepare creative templates according to your
    specific needs. You construct all the text that you would like to see appear in
    every final report. It also allows for XML export, so that you can connect the
    application with other systems. The XSL module exports and nicely formats all
    data in the package to an Internet browser. You can burn, send, and share the
    report as needed.
  id: totrans-427
  prefs: []
  type: TYPE_NORMAL
  zh: MOBILedit! Forensic 为全球服务，报告可以用任何语言生成。你可以根据特定需求准备创意模板。你构建所有希望在每个最终报告中出现的文本。它还允许
    XML 导出，以便你可以将应用程序与其他系统连接。XSL 模块将所有数据导出并格式化，以便在互联网浏览器中查看。你可以根据需要刻录、发送和分享报告。
- en: MOBILedit! Forensic reports can be created without the touch of a human hand.
    While there is no need to import or export stubs of data from SIMs or phones,
    it is possible in manual investigation mode in MOBILedit! Forensic. It is read-only
    and hence, it prevents changes in the device, which could mean the disappearance
    of evidence. All items are also protected against later modifications by MD5 hash
    codes used in digital signatures. It helps you to quickly locate the possible
    place of modification.
  id: totrans-428
  prefs: []
  type: TYPE_NORMAL
  zh: MOBILedit! 法医报告可以无需人工干预自动生成。在MOBILedit! 法医中，无需从SIM卡或手机导入或导出数据存根，但在手动调查模式下是可能的。它是只读的，因此可以防止设备上的更改，这可能导致证据的消失。所有项目还通过数字签名中使用的MD5哈希码受到后期修改的保护。它可以帮助您快速定位可能修改的位置。
- en: MOBILedit! Forensic also has frequent updates and upgrades so that you can be
    sure you are using the absolute latest in technology. Its detailed reports and
    user-friendly design make it a pleasure to work with.
  id: totrans-429
  prefs: []
  type: TYPE_NORMAL
  zh: MOBILedit! 法医还经常更新和升级，因此您可以确保使用的是绝对最新的技术。其详尽的报告和用户友好的设计使其成为一种工作的乐趣。
- en: Installation
  id: totrans-430
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 安装
- en: The MOBILedit!4 Forensic application was downloaded from [www.mobiledit.com](http://www.mobiledit.com)
    and the install only took a few minutes. After the installation is completed and
    the application is run for the first time, you are presented with a prompt to
    check for updates.
  id: totrans-431
  prefs: []
  type: TYPE_NORMAL
  zh: 从 [www.mobiledit.com](http://www.mobiledit.com) 下载了MOBILedit!4 法医应用程序，安装仅需几分钟。安装完成后，首次运行应用程序，系统会提示您检查更新。
- en: To activate the software, Compelson sends an e-mail with an “activation card”
    attachment. This PDF file includes installation instructions as well as an activation
    key that worked without any issues.
  id: totrans-432
  prefs: []
  type: TYPE_NORMAL
  zh: 为了激活软件，Compelson会发送一封带有“激活卡”附件的电子邮件。这个PDF文件包括安装说明以及一个无需任何问题即可使用的激活密钥。
- en: Acquisition
  id: totrans-433
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 获取
- en: To begin the acquisition, the examiner must first connect the Android device
    to the forensic workstation using USB and ensure USB debugging is enabled. MOBILedit!
    attempts to detect the device as shown in [Fig. 6.19](#F0100).
  id: totrans-434
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始获取，检查员首先需要使用USB将Android设备连接到法医工作站，并确保启用了USB调试。MOBILedit! 尝试检测设备，如图 [6.19](#F0100)
    所示。
- en: '![image](img/F100068f06-19-9781597496513.jpg)'
  id: totrans-435
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/F100068f06-19-9781597496513.jpg)'
- en: FIGURE 6.19 detect Android device.
  id: totrans-436
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.19 检测Android设备。
- en: After clicking “Finish,” there was a notification prompting the installation
    of the “Connector” app on the device, shown in [Fig. 6.20](#F0105).
  id: totrans-437
  prefs: []
  type: TYPE_NORMAL
  zh: 点击“完成”后，出现了提示在设备上安装“连接器”应用的通知，如图 [6.20](#F0105) 所示。
- en: '![image](img/F100068f06-20-9781597496513.jpg)'
  id: totrans-438
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/F100068f06-20-9781597496513.jpg)'
- en: FIGURE 6.20 Install the connector.
  id: totrans-439
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.20 安装连接器。
- en: Following the quick installation, you create a name for the investigation and
    select the type of data you want to extract. In the example shown in [Fig. 6.21](#F0110),
    the option to take a backup of the “Whole file system” was selected, which then
    executed without error and presented a success status as illustrated in [Fig.
    6.22](#F0115).
  id: totrans-440
  prefs: []
  type: TYPE_NORMAL
  zh: 在快速安装后，您为调查创建一个名称，并选择要提取的数据类型。在如图 [6.21](#F0110) 所示的示例中，选择了备份“整个文件系统”的选项，该选项无误执行，并显示了如图
    [6.22](#F0115) 所示的成功状态。
- en: '![image](img/F100068f06-21-9781597496513.jpg)'
  id: totrans-441
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/F100068f06-21-9781597496513.jpg)'
- en: FIGURE 6.21 Take backup of the whole file system.
  id: totrans-442
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.21 备份整个文件系统。
- en: '![image](img/F100068f06-22-9781597496513.jpg)'
  id: totrans-443
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/F100068f06-22-9781597496513.jpg)'
- en: FIGURE 6.22 Operation completed successfully.
  id: totrans-444
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.22 操作成功完成。
- en: You can then decide if you want to add this to an already existing case or create
    a new one. For this example, shown in [Fig. 6.23](#F0120), a new case was created
    and a data export format option of XLS was selected.
  id: totrans-445
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，您可以决定是将此添加到现有案例中，还是创建一个新案例。对于本例中，如图 [6.23](#F0120) 所示，创建了一个新案例，并选择了XLS数据导出格式选项。
- en: '![image](img/F100068f06-23-9781597496513.jpg)'
  id: totrans-446
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/F100068f06-23-9781597496513.jpg)'
- en: FIGURE 6.23 Data export format.
  id: totrans-447
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.23 数据导出格式。
- en: Data presentation and analysis
  id: totrans-448
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 数据呈现和分析
- en: Immediately following the acquisition of the device, MOBILedit displays statistics
    on the devices that were acquired, as well as a view of the application data available
    for analysis. [Fig. 6.24](#F0125) shows the main screen where the examiner can
    see specific device information including the IMEI number, serial number, and
    details on the amount of Phone memory, Battery signal, Network signal, and Memory
    card space available on the device.
  id: totrans-449
  prefs: []
  type: TYPE_NORMAL
  zh: 在获取设备后，MOBILedit立即显示已获取设备的统计信息，以及可供分析的应用程序数据视图。[图6.24](#F0125)展示了主屏幕，检查人员可以查看特定设备信息，包括IMEI号码、序列号以及设备上的电话内存量、电池信号、网络信号和内存卡可用空间等详细信息。
- en: '![image](img/F100068f06-24-9781597496513.jpg)'
  id: totrans-450
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-24-9781597496513.jpg)'
- en: FIGURE 6.24 Main screen.
  id: totrans-451
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.24 主屏幕。
- en: The next option in the Tree View is the Phonebook where the examiner can view
    all contacts stored within the Phonebook including e-mail address, phone numbers,
    nicknames, and any notes entered regarding the contact, as shown in [Fig. 6.25](#F0130).
  id: totrans-452
  prefs: []
  type: TYPE_NORMAL
  zh: 在树视图中下一个选项是电话簿，检查人员可以查看电话簿中存储的所有联系人，包括电子邮件地址、电话号码、昵称以及关于联系人的任何备注，如图[6.25](#F0130)所示。
- en: '![image](img/F100068f06-25-9781597496513.jpg)'
  id: totrans-453
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-25-9781597496513.jpg)'
- en: FIGURE 6.25 Phonebook.
  id: totrans-454
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.25 电话簿。
- en: Call logs are next and are separated into Missed calls, Last dialed numbers,
    and Received calls as shown in [Fig. 6.26](#F0135).
  id: totrans-455
  prefs: []
  type: TYPE_NORMAL
  zh: 通话记录紧随其后，被分为未接电话、最后拨打的号码和已接电话，如图[6.26](#F0135)所示。
- en: '![image](img/F100068f06-26-9781597496513.jpg)'
  id: totrans-456
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-26-9781597496513.jpg)'
- en: FIGURE 6.26 Call logs—Missed calls.
  id: totrans-457
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.26 通话记录—未接电话。
- en: SMS messages are similarly separated into categories including Inbox, Sent items,
    and Drafts. Each section contains the date and time the message was received (or
    sent), the message content, and who the message was from. Contact names are linked
    to the Phonebook, so both name and phone numbers are displayed. [Fig. 6.27](#F0140)
    shows the SMS message inbox.
  id: totrans-458
  prefs: []
  type: TYPE_NORMAL
  zh: 短信同样被分为不同类别，包括收件箱、已发送和草稿箱。每个部分都包含了消息接收（或发送）的日期和时间、消息内容以及发件人信息。联系人姓名与电话簿链接，因此可以显示姓名和电话号码。[图6.27](#F0140)展示了短信收件箱。
- en: '![image](img/F100068f06-27-9781597496513.jpg)'
  id: totrans-459
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-27-9781597496513.jpg)'
- en: FIGURE 6.27 SMS messages—Inbox.
  id: totrans-460
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.27 短信—收件箱。
- en: Any MMS messages are displayed within the “MMS Storage” folder, shown in [Fig.
    6.28](#F0145). On the left-hand side, information about the message is displayed,
    including the subject, number it was sent from, number it was sent to, and date
    and time. On the right-hand side is a preview of the actual image.
  id: totrans-461
  prefs: []
  type: TYPE_NORMAL
  zh: 所有MMS消息都显示在“MMS存储”文件夹中，如图[6.28](#F0145)所示。在左侧，显示有关消息的信息，包括主题、发送者号码、接收者号码以及日期和时间。在右侧是实际图像的预览。
- en: '![image](img/F100068f06-28-9781597496513.jpg)'
  id: totrans-462
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-28-9781597496513.jpg)'
- en: FIGURE 6.28 MMS storage.
  id: totrans-463
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.28 MMS存储。
- en: Selecting the Calendar option will literally pull up a calendar within the reporting
    tool as shown in [Fig. 6.29](#F0150).
  id: totrans-464
  prefs: []
  type: TYPE_NORMAL
  zh: 选择日历选项将在报告工具中拉起一个日历，如图[6.29](#F0150)所示。
- en: '![image](img/F100068f06-29-9781597496513.jpg)'
  id: totrans-465
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-29-9781597496513.jpg)'
- en: FIGURE 6.29 Calendar.
  id: totrans-466
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.29 日历。
- en: Additional data extracted from the device or SD card is shown within the “files”
    directory. This directory contains a listing of the file system on the device.
    While some of these folders are empty (such as cache, config, and data), there
    are also some folders which contain raw files acquired from the device. For example,
    within the SD card folder, the subfolder “secret stuff” contained two files shown
    in [Fig. 6.30](#F0155).
  id: totrans-467
  prefs: []
  type: TYPE_NORMAL
  zh: 从设备或SD卡提取的额外数据显示在“文件”目录中。此目录包含了设备上的文件系统列表。尽管这些文件夹有些是空的（如缓存、配置和数据），但也有包含从设备获取的原始文件的文件夹。例如，在SD卡文件夹中，子文件夹“secret
    stuff”包含两个文件，如图[6.30](#F0155)所示。
- en: '![image](img/F100068f06-30-9781597496513.jpg)'
  id: totrans-468
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-30-9781597496513.jpg)'
- en: FIGURE 6.30 SD card files.
  id: totrans-469
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.30 SD卡文件。
- en: Finally, the tool also provides a hex dump capability for specified files. After
    selecting “Hex Dump,” and then a file (in this example, a .jpg file was selected),
    the hex dump is viewed on the right-hand side using a hex editor as shown in [Fig.
    6.31](#F0160).
  id: totrans-470
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，该工具还为指定文件提供了十六进制转储功能。选择“十六进制转储”后，再选择一个文件（在此示例中，选择了一个.jpg文件），十六进制转储内容将在右侧的十六进制编辑器中显示，如图[6.31](#F0160)所示。
- en: '![image](img/F100068f06-31-9781597496513.jpg)'
  id: totrans-471
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-31-9781597496513.jpg)'
- en: FIGURE 6.31 Hex dump.
  id: totrans-472
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.31 十六进制转储。
- en: Most of the raw user data files on the Android can be found within the “data”
    folder and, when MOBILedit created an entry in the Tree View for this folder (under
    the “Files” directory), it did not contain any files.
  id: totrans-473
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Android 上的大多数原始用户数据文件可以在“data”文件夹中找到，当 MOBILedit 在树形视图中为此文件夹（位于“文件”目录下）创建条目时，它并不包含任何文件。
- en: One thing to note is that when the acquisition and analysis was complete, the
    “MOBILedit! Connector” application was still installed on the device. Examiners
    should strongly consider manually uninstalling the software from the device after
    the investigation is complete.
  id: totrans-474
  prefs: []
  type: TYPE_NORMAL
  zh: 需要注意的是，在采集和分析完成后，“MOBILedit! Connector”应用程序仍然安装在设备上。调查员在调查完成后应考虑手动从设备上卸载该软件。
- en: EnCase Neutrino
  id: totrans-475
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: EnCase Neutrino
- en: 'The following overview of Neutrino was provided by the vendor:'
  id: totrans-476
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是供应商提供的中微子概述：
- en: EnCase® Neutrino® is designed for law enforcement, security analysts, and eDiscovery
    specialists who need to forensically collect and review data from mobile devices.
    Investigators can process and analyze mobile device data alongside other types
    of digital evidence within any EnCase® product.
  id: totrans-477
  prefs: []
  type: TYPE_NORMAL
  zh: EnCase® Neutrino® 旨在为执法部门、安全分析师和 eDiscovery 专家提供法医级别的移动设备数据收集和审查。调查员可以在任何 EnCase®
    产品中处理和分析移动设备数据，同时与其他类型的数字证据一起工作。
- en: 'The solution features hardware support and parsing capabilities for the most
    common mobile devices and Smartphone operating systems including iPhone, Palm,
    BlackBerry®, Android, Windows Mobile, Motorola, Nokia, Samsung, and many more.
    Investigators can collect, analyze, and preserve all potentially relevant data
    including:'
  id: totrans-478
  prefs: []
  type: TYPE_NORMAL
  zh: 该解决方案具有对最常见的移动设备和智能手机操作系统（包括 iPhone、Palm、BlackBerry®、Android、Windows Mobile、Motorola、Nokia、Samsung
    和更多）的硬件支持和解析能力。调查员可以收集、分析和保存所有可能相关的数据，包括：
- en: • Device Settings
  id: totrans-479
  prefs: []
  type: TYPE_NORMAL
  zh: • 设备设置
- en: • Contacts
  id: totrans-480
  prefs: []
  type: TYPE_NORMAL
  zh: • 联系人
- en: • Call logs
  id: totrans-481
  prefs: []
  type: TYPE_NORMAL
  zh: • 通话记录
- en: • E-mail
  id: totrans-482
  prefs: []
  type: TYPE_NORMAL
  zh: • 电子邮件
- en: • Images
  id: totrans-483
  prefs: []
  type: TYPE_NORMAL
  zh: • 图像
- en: • SMS/MMS
  id: totrans-484
  prefs: []
  type: TYPE_NORMAL
  zh: • 短信/彩信
- en: • Calendars
  id: totrans-485
  prefs: []
  type: TYPE_NORMAL
  zh: • 日历
- en: • Other files stored on the device
  id: totrans-486
  prefs: []
  type: TYPE_NORMAL
  zh: • 设备上存储的其他文件
- en: 'With EnCase Neutrino an investigator can:'
  id: totrans-487
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 EnCase Neutrino，调查员可以：
- en: • Collect data from a wide variety of devices, following an easy to use wizard
  id: totrans-488
  prefs: []
  type: TYPE_NORMAL
  zh: • 使用易于使用的向导从各种设备采集数据
- en: • Correlate data from multiple devices and computer media
  id: totrans-489
  prefs: []
  type: TYPE_NORMAL
  zh: • 将来自多个设备和计算机媒体的数据相关联
- en: • Seamlessly integrate collected data into EnCase Forensic or EnCase Enterprise
    for analysis
  id: totrans-490
  prefs: []
  type: TYPE_NORMAL
  zh: • 将采集的数据无缝集成到 EnCase 法医或 EnCase 企业版中进行分析
- en: • Parse data quickly to improve speed of investigation process
  id: totrans-491
  prefs: []
  type: TYPE_NORMAL
  zh: • 快速解析数据，以提高调查过程的速度
- en: • Access more data on selected devices in comparison to similar products
  id: totrans-492
  prefs: []
  type: TYPE_NORMAL
  zh: • 相比类似产品，访问选定设备上的更多数据
- en: Installation
  id: totrans-493
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 安装
- en: The installation of EnCase Neutrino first required installing EnCase, then Neutrino.
    The software installation proceeded without issue when following the on-screen
    instructions. To use the software, you must have a hardware USB dongle provided
    by EnCase.
  id: totrans-494
  prefs: []
  type: TYPE_NORMAL
  zh: 安装 EnCase Neutrino 首先需要安装 EnCase，然后才是 Neutrino。按照屏幕上的指示操作，软件安装顺利进行。要使用该软件，你必须拥有
    EnCase 提供的硬件 USB 令牌。
- en: Acquisition
  id: totrans-495
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 采集
- en: The acquisition of an Android device by Neutrino is handled in a single screen.
    First, you select the device, manufacturer, and model. Next, you enter basic information
    about the case and the device. Finally, you connect the device to your forensic
    workstation and click “Acquire Current Item.” [Fig. 6.32](#F0165) shows the acquisition
    screen.
  id: totrans-496
  prefs: []
  type: TYPE_NORMAL
  zh: Neutrino 对 Android 设备的采集在单一界面上处理。首先，选择设备、制造商和型号。接下来，输入有关案件和设备的基本信息。最后，将设备连接到你的法医工作站，并点击“采集当前项目”。[图
    6.32](#F0165) 显示了采集界面。
- en: '![image](img/F100068f06-32-9781597496513.jpg)'
  id: totrans-497
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-32-9781597496513.jpg)'
- en: FIGURE 6.32 Neutrino acquisition screen.
  id: totrans-498
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.32 中微子采集界面。
- en: The acquisition took less than one minute. Once completed, click Generate Report
    to see the results of the acquisition.
  id: totrans-499
  prefs: []
  type: TYPE_NORMAL
  zh: 采集过程不到一分钟就完成了。完成后，点击生成报告以查看采集结果。
- en: Data presentation and analysis
  id: totrans-500
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 数据展示与分析
- en: Neutrino reports have a short and a detailed report. The short report, shown
    in [Fig. 6.33](#F0170), shows all of the entries of the detailed report but with
    fewer details.
  id: totrans-501
  prefs: []
  type: TYPE_NORMAL
  zh: Neutrino 报告有简短和详细两种。简短报告如[图 6.33](#F0170)所示，显示了详细报告的所有条目，但细节较少。
- en: '![image](img/F100068f06-33-9781597496513.jpg)'
  id: totrans-502
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-33-9781597496513.jpg)'
- en: FIGURE 6.33 Neutrino contacts in short report.
  id: totrans-503
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.33 Neutrino 联系人简报。
- en: And the detailed view provides much greater detail about the contacts as shown
    in [Fig. 6.34](#F0175).
  id: totrans-504
  prefs: []
  type: TYPE_NORMAL
  zh: 并且详细视图如[图 6.34](#F0175)所示，提供了关于联系人的更多详细信息。
- en: '![image](img/F100068f06-34-9781597496513.jpg)'
  id: totrans-505
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-34-9781597496513.jpg)'
- en: FIGURE 6.34 Neutrino contacts in detailed report.
  id: totrans-506
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.34 详细报告中的中微子联系人。
- en: The SMS section also has a short and detailed view. The short view only shows
    the other phone number in the conversation, the date and time of the message,
    the message direction (sent or received), and the message contents. The detailed
    view, shown in [Fig. 6.35](#F0180), includes information such as the name associated
    with the phone number involved with the message and the status of the message.
  id: totrans-507
  prefs: []
  type: TYPE_NORMAL
  zh: 短信部分也有简略和详细视图。简略视图只显示对话中的另一个电话号码、消息的日期和时间、消息方向（发送或接收）以及消息内容。详细视图，如图[6.35](#F0180)所示，包括与消息相关的电话号码的名称以及消息的状态等信息。
- en: '![image](img/F100068f06-35-9781597496513.jpg)'
  id: totrans-508
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-35-9781597496513.jpg)'
- en: FIGURE 6.35 Neutrino SMS in detailed report.
  id: totrans-509
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.35 详细报告中的中微子SMS。
- en: MMS messages only appear in the detailed view, shown in [Fig. 6.36](#F0185).
  id: totrans-510
  prefs: []
  type: TYPE_NORMAL
  zh: MMS消息只出现在详细视图中，如图[6.36](#F0185)所示。
- en: '![image](img/F100068f06-36-9781597496513.jpg)'
  id: totrans-511
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-36-9781597496513.jpg)'
- en: FIGURE 6.36 Neutrino MMS in detailed report.
  id: totrans-512
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.36 详细报告中的中微子MMS。
- en: No deleted SMS messages were recovered. The detailed view of the user’s web
    history, shown in [Fig. 6.37](#F0190), provides considerable details.
  id: totrans-513
  prefs: []
  type: TYPE_NORMAL
  zh: 没有恢复任何已删除的短信。用户网页历史的详细视图，如图[6.37](#F0190)所示，提供了大量细节。
- en: '![image](img/F100068f06-37-9781597496513.jpg)'
  id: totrans-514
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-37-9781597496513.jpg)'
- en: FIGURE 6.37 Neutrino web history in detailed report.
  id: totrans-515
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.37 详细报告中的中微子网页历史。
- en: The only photos recovered from the device were the images sent as MMS, not the
    photos or videos saved on the device’s SD card.
  id: totrans-516
  prefs: []
  type: TYPE_NORMAL
  zh: 从设备中恢复的仅有照片是作为MMS发送的图片，而不是保存在设备SD卡上的照片或视频。
- en: The report can be exported in other formats, such as to HTML, so that the entire
    report can be viewed in one page, as illustrated in [Fig. 6.38](#F0195)
  id: totrans-517
  prefs: []
  type: TYPE_NORMAL
  zh: 报告可以导出为其他格式，例如HTML，以便整个报告可以在一页中查看，如图[6.38](#F0195)所示。
- en: '![image](img/F100068f06-38-9781597496513.jpg)'
  id: totrans-518
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-38-9781597496513.jpg)'
- en: FIGURE 6.38 Neutrino report exported as HTML.
  id: totrans-519
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.38 以HTML格式导出的中微子报告。
- en: Micro Systemation XRY
  id: totrans-520
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: Micro Systemation XRY
- en: 'The following overview of XRY was provided by the vendor:'
  id: totrans-521
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是由供应商提供的XRY概述：
- en: XRY is a dedicated mobile device forensic tool developed by Micro Systemation
    (MSAB) based in Stockholm.
  id: totrans-522
  prefs: []
  type: TYPE_NORMAL
  zh: XRY是由位于斯德哥尔摩的Micro Systemation（MSAB）公司开发的一款专业的移动设备取证工具。
- en: 'XRY has been available since 2002 and “XRY Complete” is a package containing
    the software and hardware to allow logical and physical analysis of mobile devices.
    The product comes shipped in a handy portable case with bespoke interior and all
    the necessary hardware included, which are as follows:'
  id: totrans-523
  prefs: []
  type: TYPE_NORMAL
  zh: 自2002年以来，XRY一直可用，“XRY Complete”是一个包含软件和硬件的套件，可进行移动设备的逻辑和物理分析。产品配有一个便捷的便携式箱子，内部定制，包含所有必要的硬件，如下所示：
- en: • XRY Forensic Pack Software License Key
  id: totrans-524
  prefs: []
  type: TYPE_NORMAL
  zh: • XRY取证包软件许可密钥
- en: • Communication hub for USB, Bluetooth, and Infrared connectivity
  id: totrans-525
  prefs: []
  type: TYPE_NORMAL
  zh: • 用于USB、蓝牙和红外连接的通信枢纽
- en: • SIM ID cloner device
  id: totrans-526
  prefs: []
  type: TYPE_NORMAL
  zh: • SIM ID克隆设备
- en: • Pack of SIM clone cards
  id: totrans-527
  prefs: []
  type: TYPE_NORMAL
  zh: • 一套SIM卡克隆卡
- en: • Write-protected universal memory card reader
  id: totrans-528
  prefs: []
  type: TYPE_NORMAL
  zh: • 带写保护的通用存储卡读卡器
- en: • Complete set of cables for logical and physical acquisition
  id: totrans-529
  prefs: []
  type: TYPE_NORMAL
  zh: • 用于逻辑和物理获取的完整电缆套件
- en: • XACT Hex Viewer software application
  id: totrans-530
  prefs: []
  type: TYPE_NORMAL
  zh: • XACT十六进制查看器软件应用
- en: • XRY Reader Tool for distribution to third parties
  id: totrans-531
  prefs: []
  type: TYPE_NORMAL
  zh: • 用于分发至第三方的XRY阅读工具
- en: XRY was designed and refined with the input of forensic investigators and a
    wizard guides you through the entire process to assist the examination. The new
    unified Logical/Physical extraction Wizard and the resulting reports help to show
    the examiner the full contents of the device in a neat, clean, and professional
    manner.
  id: totrans-532
  prefs: []
  type: TYPE_NORMAL
  zh: XRY是经过法医调查员反馈设计和优化的，向导会引导你完成整个流程以协助检查。新的统一逻辑/物理提取向导和生成的报告有助于以整洁、清晰、专业的方式向检查员展示设备的全部内容。
- en: One of the unique features of XRY is the Device Manual with a complete and detailed
    list of available support for each device; identifying what data can be retrieved,
    and also what cannot be recovered which is sometimes just as relevant to investigators.
  id: totrans-533
  prefs: []
  type: TYPE_NORMAL
  zh: XRY的独特功能之一是设备手册，其中包含每个设备完整且详细的可用支持列表；指出了可以检索哪些数据，以及哪些数据无法恢复，这对于调查人员有时同样重要。
- en: All extractions, logical or physical, are saved in an XRY file which remains—for
    forensic security purposes. From the XRY file, you can create reports as required
    in Word, Excel, Open Office, or PDF. You can include case data, and references,
    choose what data is included in the report or not and then distribute it to other
    parties involved in the investigation; lawyers, prosecutors or other investigators.
    MSAB offer a free XRY reader and you can provide this to third parties to allow
    them to make notes on the report—while still maintaining the original forensic
    integrity of the data.
  id: totrans-534
  prefs: []
  type: TYPE_NORMAL
  zh: 所有提取（逻辑或物理）都保存在一个XRY文件中，出于法医安全目的保留该文件。从XRY文件中，你可以根据需要创建Word、Excel、Open Office或PDF格式的报告。你可以包括案件数据和相关引用，选择报告中包含哪些数据，然后将其分发给调查中涉及的其他方；律师、检察官或其他调查员。MSAB提供了一个免费的XRY阅读器，你可以将其提供给第三方，让他们在报告上做笔记——同时保持数据的原始法医完整性。
- en: Within the package is the XACT Hex Viewer application to undertake more detailed
    examination of the raw data recovered and assist with searching and manual decoding
    to supplement the automatic decoding available in XRY Physical.
  id: totrans-535
  prefs: []
  type: TYPE_NORMAL
  zh: 在该软件包内是XACT十六进制查看器应用程序，用于对恢复的原始数据进行更详细的检查，并协助搜索和手动解码，以补充XRY Physical中可用的自动解码。
- en: Version 5.1 of the XRY Forensic Pack was released on June 28, 2010 with additional
    support for the Apple iPad.
  id: totrans-536
  prefs: []
  type: TYPE_NORMAL
  zh: XRY法医包5.1版于2010年6月28日发布，增加了对Apple iPad的支持。
- en: Installation
  id: totrans-537
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 安装
- en: XRY is a Windows application that you install from a single setup program provided
    by the vendor. The setup includes an installation wizard, checks for software
    updates online, and takes approximately 15 minutes. The software requires the
    use of a hardware dongle to operate.
  id: totrans-538
  prefs: []
  type: TYPE_NORMAL
  zh: XRY是一个Windows应用程序，你可以通过供应商提供的单个安装程序进行安装。安装包括一个安装向导，在线检查软件更新，大约需要15分钟。该软件需要使用硬件加密狗才能运行。
- en: Acquisition
  id: totrans-539
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 采集
- en: After the installation is complete, run the software, select Extract Data, and
    then choose to extract data from a phone. After that, you must identify the device
    type, which can be done in several ways. For this example, a search was executed
    by selecting Name Search, search for Droid, and select Motorola Droid A855, and
    then select Next. This is illustrated in [Fig. 6.39](#F0200).
  id: totrans-540
  prefs: []
  type: TYPE_NORMAL
  zh: 安装完成后，运行软件，选择“提取数据”，然后选择从手机中提取数据。之后，你必须识别设备类型，这可以通过几种方式完成。对于此示例，通过选择“名称搜索”，搜索Droid，选择Motorola
    Droid A855，然后选择“下一步”执行了搜索。这如图[6.39](#F0200)所示。
- en: '![image](img/F100068f06-39-9781597496513.jpg)'
  id: totrans-541
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-39-9781597496513.jpg)'
- en: FIGURE 6.39 XRY—Search device type.
  id: totrans-542
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.39 XRY—搜索设备类型。
- en: Although the MSAB forensic suite supports physical extractions of some devices,
    only logical extraction is available for Android. After selecting logical acquisition,
    the software displays the data available for extraction as shown in [Fig. 6.40](#F0205).
  id: totrans-543
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管MSAB法医套件支持某些设备的物理提取，但Android设备仅支持逻辑提取。选择逻辑采集后，软件会显示可用于提取的数据，如图[6.40](#F0205)所示。
- en: '![image](img/F100068f06-40-9781597496513.jpg)'
  id: totrans-544
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-40-9781597496513.jpg)'
- en: FIGURE 6.40 XRY data types available for Droid extraction.
  id: totrans-545
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.40 XRY Droid提取可用的数据类型。
- en: Select Next and then the option to extract data by cable and a full read and
    finally click Next to start data extraction. When the extraction is complete,
    you see the extraction complete screen shown in [Fig. 6.41](#F0210).
  id: totrans-546
  prefs: []
  type: TYPE_NORMAL
  zh: 选择“下一步”，然后选择通过电缆提取数据并进行完整读取的选项，最后点击“下一步”开始数据提取。提取完成后，你会看到如图[6.41](#F0210)所示的提取完成屏幕。
- en: '![image](img/F100068f06-41-9781597496513.jpg)'
  id: totrans-547
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-41-9781597496513.jpg)'
- en: FIGURE 6.41 XRY extraction complete.
  id: totrans-548
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.41 XRY提取完成。
- en: Data presentation and analysis
  id: totrans-549
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 数据展示与分析
- en: After extraction, the application displays the data within the application and
    is easy to navigate. The contact list includes not only the details of a contact
    but where the contact was stored, as shown in [Fig. 6.42](#F0215).
  id: totrans-550
  prefs: []
  type: TYPE_NORMAL
  zh: 提取后，应用程序在内部显示数据，易于导航。联系人列表不仅包括联系人的详细信息，还显示了联系人的存储位置，如图[6.42](#F0215)所示。
- en: '![image](img/F100068f06-42-9781597496513.jpg)'
  id: totrans-551
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-42-9781597496513.jpg)'
- en: FIGURE 6.42 XRY contacts list.
  id: totrans-552
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.42 XRY联系人列表。
- en: The call logs provide the type of call (dialed or received), name, number, time,
    duration, and storage location, as shown in [Fig. 6.43](#F0220).
  id: totrans-553
  prefs: []
  type: TYPE_NORMAL
  zh: 通话记录提供了通话类型（拨打或接听）、姓名、号码、时间、时长和存储位置，如图[6.43](#F0220)所示。
- en: '![image](img/F100068f06-43-9781597496513.jpg)'
  id: totrans-554
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-43-9781597496513.jpg)'
- en: FIGURE 6.43 XRY call log.
  id: totrans-555
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.43 XRY通话记录。
- en: '[Fig. 6.44](#F0225) shows the SMS messages including the number, name, message,
    time, status, storage, index, and the folder it is located in.'
  id: totrans-556
  prefs: []
  type: TYPE_NORMAL
  zh: '[图6.44](#F0225)展示了包括号码、姓名、短信内容、时间、状态、存储、索引以及所在文件夹的短信信息。'
- en: '![image](img/F100068f06-44-9781597496513.jpg)'
  id: totrans-557
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-44-9781597496513.jpg)'
- en: FIGURE 6.44 XRY SMS.
  id: totrans-558
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.44 XRY短信。
- en: '[Fig. 6.45](#F0230) shows that the only image extracted from the device was
    from an MMS.'
  id: totrans-559
  prefs: []
  type: TYPE_NORMAL
  zh: '[图6.45](#F0230)显示，从设备中提取的唯一图像来自一条彩信。'
- en: '![image](img/F100068f06-45-9781597496513.jpg)'
  id: totrans-560
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-45-9781597496513.jpg)'
- en: FIGURE 6.45 XRY images.
  id: totrans-561
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.45 XRY图像。
- en: Other data was extracted. However, it is not displayed in a dedicated report
    section. For example, you can review the web browser history, web site bookmarks,
    and Google search history in the Log section of the report.
  id: totrans-562
  prefs: []
  type: TYPE_NORMAL
  zh: 其他数据被提取了。然而，它并没有在专门的报告部分中显示。例如，你可以在报告的日志部分查看网页浏览器历史、网站书签和谷歌搜索历史。
- en: MSAB also has a tool called XACT, which provides a hex view of specific entries.
    For example, [Fig. 6.46](#F0235) shows the contents of an SMS message.
  id: totrans-563
  prefs: []
  type: TYPE_NORMAL
  zh: MSAB还有一个名为XACT的工具，它提供了特定条目的十六进制视图。例如，[图6.46](#F0235)展示了短信内容。
- en: '![image](img/F100068f06-46-9781597496513.jpg)'
  id: totrans-564
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-46-9781597496513.jpg)'
- en: FIGURE 6.46 XACT—SMS message.
  id: totrans-565
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.46 XACT—短信内容。
- en: Paraben Device Seizure
  id: totrans-566
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: Paraben设备查扣
- en: 'The following overview of Device Seizure was provided by the vendor:'
  id: totrans-567
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是供应商提供的Device Seizure概述：
- en: Paraben’s Device Seizure (DS) is a handheld forensics tool that enables the
    investigator to perform logical and physical data acquisitions, deleted data recovery,
    and full data dumps, on approximately 2400 models of cell phones, PDAs/smartphones,
    and portable GPS units. Physical data acquisition—often where deleted data is
    found—is possible from approximately two-thirds of the supported models. Furthermore,
    DS has been documented and verified as being 100% forensically sound, meaning
    the digital evidence is never altered in any way. These functions are all possible
    through a standard USB data cable connection with any PC.
  id: totrans-568
  prefs: []
  type: TYPE_NORMAL
  zh: Paraben的Device Seizure（DS）是一款手持式取证工具，使调查人员能够对大约2400种型号的手机、PDA/智能手机和便携式GPS设备执行逻辑和物理数据获取、删除数据恢复以及完整数据转储。物理数据获取—通常是找到删除数据的地方—大约有三分之二的支持型号可以做到。此外，DS被记录并验证为100%符合取证要求，意味着数字证据在任何情况下都不会被改变。通过任何PC的标准USB数据线连接，这些功能都是可能的。
- en: 'Over the past two years Google’s Android operating system for mobile devices
    has had a significant impact on the industry. Paraben focuses on staying in step
    with the latest innovations and has added support for the Android OS to DS. With
    the release of DS version 4.0, an investigator has the capabilities of acquiring
    the most commonly sought-after data such as call logs, address book, and SMS messages.
    Beyond these data types, DS will also acquire multimedia files—MMS messages, images,
    video, and audio files. The full list of data types that can be acquired from
    Android models are as follows:'
  id: totrans-569
  prefs: []
  type: TYPE_NORMAL
  zh: 过去两年中，谷歌的Android移动设备操作系统对行业产生了重大影响。Paraben专注于与最新的创新保持同步，并将对Android操作系统的支持添加到DS中。随着DS
    4.0版本的发布，调查人员能够获取最常见的数据，如通话记录、地址簿和短信。除了这些数据类型，DS还将获取多媒体文件—彩信、图像、视频和音频文件。可以从Android型号获取的完整数据类型列表如下：
- en: • Address Book including contacts groups, organizations, and address book settings,
    along with the standard name, phone number, and address
  id: totrans-570
  prefs: []
  type: TYPE_NORMAL
  zh: • 地址簿，包括联系人分组、组织以及地址簿设置，以及标准的姓名、电话号码和地址
- en: • SMS messages
  id: totrans-571
  prefs: []
  type: TYPE_NORMAL
  zh: • 短信
- en: • MMS messages
  id: totrans-572
  prefs: []
  type: TYPE_NORMAL
  zh: • 彩信
- en: • Call history
  id: totrans-573
  prefs: []
  type: TYPE_NORMAL
  zh: • 通话记录
- en: • Contact methods
  id: totrans-574
  prefs: []
  type: TYPE_NORMAL
  zh: • 联系方式
- en: • Browser history
  id: totrans-575
  prefs: []
  type: TYPE_NORMAL
  zh: • 浏览器历史
- en: • External image media (metadata)
  id: totrans-576
  prefs: []
  type: TYPE_NORMAL
  zh: • 外部图像媒体（元数据）
- en: • External image thumbnail media (metadata)
  id: totrans-577
  prefs: []
  type: TYPE_NORMAL
  zh: • 外部图像缩略媒体（元数据）
- en: • External media, audio, and miscellaneous data (metadata)
  id: totrans-578
  prefs: []
  type: TYPE_NORMAL
  zh: • 外部媒体、音频和杂项数据（元数据）
- en: • External videos (metadata)
  id: totrans-579
  prefs: []
  type: TYPE_NORMAL
  zh: • 外部视频（元数据）
- en: • List of all applications installed and their version
  id: totrans-580
  prefs: []
  type: TYPE_NORMAL
  zh: • 所有已安装应用程序及其版本的列表
- en: Installation
  id: totrans-581
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 安装
- en: Paraben DS version 4.1.3971.37683 was installed on the Windows forensic workstation.
    The setup process required the installation of many required drivers that took
    a considerable amount of time. The software must be registered prior to use, which
    is achieved either using a hardware dongle or through a registration key file
    provided by Paraben. To install the registration key file, you simply copy the
    file into the DS install directory, which is likely C:\Program Files\Paraben Corporation\Device
    Seizure.
  id: totrans-582
  prefs: []
  type: TYPE_NORMAL
  zh: 在Windows取证工作站上安装了Paraben DS版本4.1.3971.37683。安装过程需要安装许多必要的驱动，这需要相当长的时间。软件在使用前必须注册，可以通过硬件加密狗或通过Paraben提供的注册密钥文件来完成。要安装注册密钥文件，只需将文件复制到DS安装目录中，该目录通常是C:\Program
    Files\Paraben Corporation\Device Seizure。
- en: Acquisition
  id: totrans-583
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 获取
- en: 'To start the acquisition of a new Android device, you first open a new case
    and complete the required case information section. You then choose “Data Acquisition”
    and select Android at which point the following directions are provided:'
  id: totrans-584
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始获取新的Android设备，首先你需要打开一个新案例并完成所需的案例信息部分。然后选择“数据获取”，并选择Android，此时会提供以下指引：
- en: '![image](img/F100068u06-26-9781597496513.jpg)'
  id: totrans-585
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-26-9781597496513.jpg)'
- en: According to these instructions, Motorola phones are not supported. However,
    the acquisition of the Motorola Droid was successful.
  id: totrans-586
  prefs: []
  type: TYPE_NORMAL
  zh: 根据这些说明，摩托罗拉手机不被支持。然而，摩托罗拉Droid的获取是成功的。
- en: Follow the instructions, then click “Next” at which point DS attempts to identify
    the phone. Ensure the identified device information is accurate and click “Next”
    as shown in [Fig. 6.47](#F0240).
  id: totrans-587
  prefs: []
  type: TYPE_NORMAL
  zh: 按照说明操作，然后点击“下一步”，此时DS尝试识别手机。确保识别的设备信息准确无误，然后如图6.47所示点击“下一步”。
- en: '![image](img/F100068f06-47-9781597496513.jpg)'
  id: totrans-588
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-47-9781597496513.jpg)'
- en: FIGURE 6.47 Device Seizure device identification.
  id: totrans-589
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.47 设备扣押设备识别。
- en: The next screen provides a list of supported data types that DS can extract
    from the device. All were selected, which includes acquiring the part of the file
    system it can read and the SD card, so the acquisition process is slow. [Fig.
    6.48](#F0245) shows the DS acquisition timing.
  id: totrans-590
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个屏幕提供了DS可以从设备中提取的支持数据类型列表。全部被选中，包括获取它可以读取的文件系统部分和SD卡，因此获取过程较慢。[图6.48](#F0245)展示了DS获取时间。
- en: '![image](img/F100068f06-48-9781597496513.jpg)'
  id: totrans-591
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-48-9781597496513.jpg)'
- en: FIGURE 6.48 Device Seizure acquisition timing.
  id: totrans-592
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.48 设备扣押获取时间。
- en: The acquisition completed approximately two hours later and the prompt to sort
    files was accepted. The process of sorting the files took considerable time, but
    was less than two hours. At that point, the acquisition process was complete.
    [Fig. 6.49](#F0250) shows the DS acquisition complete output.
  id: totrans-593
  prefs: []
  type: TYPE_NORMAL
  zh: 获取过程在大约两小时后完成，并接受了整理文件的提示。整理文件的过程花费了相当长的时间，但少于两小时。在那时，获取过程完成。[图6.49](#F0250)展示了DS获取完成的输出。
- en: '![image](img/F100068f06-49-9781597496513.jpg)'
  id: totrans-594
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-49-9781597496513.jpg)'
- en: FIGURE 6.49 Device Seizure acquisition complete.
  id: totrans-595
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.49 设备扣押获取完成。
- en: Data presentation and analysis
  id: totrans-596
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 数据展示与分析
- en: Device Seizure displays the acquired data with the application in an easy to
    browse and navigate structure. The acquired directory structures are shown in
    [Fig. 6.50](#F0255).
  id: totrans-597
  prefs: []
  type: TYPE_NORMAL
  zh: 设备扣押以易于浏览和导航的结构显示获取的数据和应用程序。获取的目录结构如图6.50所示。
- en: '![image](img/F100068f06-50-9781597496513.jpg)'
  id: totrans-598
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-50-9781597496513.jpg)'
- en: FIGURE 6.50 Device Seizure Droid directory structure.
  id: totrans-599
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.50 设备扣押Droid目录结构。
- en: Contacts provide not only the name, notes, phone numbers, and e-mail, but also
    helpful fields, such as number of times contacted, last time contacted, and a
    photo, if available, as shown in [Fig. 6.51](#F0260).
  id: totrans-600
  prefs: []
  type: TYPE_NORMAL
  zh: 联系人不仅提供姓名、备注、电话号码和电子邮件，还提供了一些有用的字段，如联系次数、最后联系时间以及可用的照片，如图6.51所示。
- en: '![image](img/F100068f06-51-9781597496513.jpg)'
  id: totrans-601
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-51-9781597496513.jpg)'
- en: FIGURE 6.51 Device Seizure contacts.
  id: totrans-602
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.51 设备扣押联系人。
- en: The SMS reporting provides the expected fields, but deleted messages were not
    included. The report does not cross-reference the contact data with the phone
    number, so the examiner must either know the phone number or handle the cross-referencing
    themselves. [Fig. 6.52](#F0265) shows the DS SMS.
  id: totrans-603
  prefs: []
  type: TYPE_NORMAL
  zh: 短信报告提供了预期的字段，但已删除的信息并未包括在内。报告没有将联系人数据与电话号码进行交叉参考，因此检查员必须知道电话号码或自行处理交叉参考。[图6.52](#F0265)展示了DS短信。
- en: '![image](img/F100068f06-52-9781597496513.jpg)'
  id: totrans-604
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-52-9781597496513.jpg)'
- en: FIGURE 6.52 Device Seizure SMS.
  id: totrans-605
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.52 设备扣押短信。
- en: However, the call logs do perform the cross-reference and display the date,
    message type, duration, number, number type, name, or whether the call was a new
    call (presumably the first time that number appeared in the call logs). [Fig.
    6.53](#F0270) shows the call logs.
  id: totrans-606
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，通话记录确实进行了交叉引用并显示了日期、信息类型、持续时间、号码、号码类型、名称，或者是否为新通话（大概是该号码第一次出现在通话记录中）。[图 6.53](#F0270)
    显示了通话记录。
- en: '![image](img/F100068f06-53-9781597496513.jpg)'
  id: totrans-607
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-53-9781597496513.jpg)'
- en: FIGURE 6.53 Device Seizure call logs.
  id: totrans-608
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.53 设备查获的通话记录。
- en: A complete web history is available and parsed, including visit count and bookmarks.
    However, the data view is quite long and only the beginning information is displayed
    in [Fig. 6.54](#F0275).
  id: totrans-609
  prefs: []
  type: TYPE_NORMAL
  zh: 完整的网络历史记录可供使用并进行分析，包括访问次数和书签。但是，数据视图相当长，仅在 [图 6.54](#F0275) 中显示了开头的信息。
- en: '![image](img/F100068f06-54-9781597496513.jpg)'
  id: totrans-610
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-54-9781597496513.jpg)'
- en: FIGURE 6.54 Device Seizure web history.
  id: totrans-611
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.54 设备查获的网络历史记录。
- en: Device Seizure allows the examiner to select any file and extract it to the
    forensic workstation for additional analysis. This is helpful for viewing or analyzing
    file types not supported natively in the DS environment. As the file sorting option
    was chosen during the acquisition stage, each extracted file was identified and
    grouped by type allowing quick access to files of interest. This is shown in [Fig.
    6.55](#F0280).
  id: totrans-612
  prefs: []
  type: TYPE_NORMAL
  zh: 设备查获允许检查员选择任何文件并将其提取到取证工作站进行进一步分析。这对于查看或分析 DS 环境中不支持的原生文件类型很有帮助。由于在获取阶段选择了文件分类选项，因此每个提取的文件都被识别并按类型分组，从而可以快速访问感兴趣的文件。这在
    [图 6.55](#F0280) 中显示。
- en: '![image](img/F100068f06-55-9781597496513.jpg)'
  id: totrans-613
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-55-9781597496513.jpg)'
- en: FIGURE 6.55 Device Seizure’s file sorter.
  id: totrans-614
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.55 设备查获的文件分类器。
- en: viaForensics’ ViaExtract
  id: totrans-615
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: viaForensics 的 ViaExtract
- en: 'The following overview of viaExtract was provided by the vendor:'
  id: totrans-616
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是通过供应商提供的 viaExtract 概述：
- en: viaExtract is the latest Android forensic solution from viaForensics, a leader
    and innovator in the field. In addition to their mobile forensics white papers
    and book, viaForensics’ provides a free Android forensics solution for law enforcement
    and government agencies called AFLogical.
  id: totrans-617
  prefs: []
  type: TYPE_NORMAL
  zh: viaExtract 是来自 viaForensics 的最新安卓取证解决方案，该公司是该领域的领先者和创新者。除了他们的移动取证白皮书和书籍外，viaForensics
    还为执法和政府部门提供了一个免费的安卓取证解决方案，名为 AFLogical。
- en: Building on this experience, viaForensics developed viaExtract, which extracts,
    analyzes, and reports on data in Android devices. viaExtract is a modular solution
    and will next offer an Android forensic physical technique based on viaForensics’
    research and development. Up to date information on viaExtract is available online
    at [http://viaforensics.com/products/viaextract/](http://viaforensics.com/products/viaextract/)
    including support for Android forensics physical techniques, additional supported
    mobile platforms, and advanced forensic recovery techniques.
  id: totrans-618
  prefs: []
  type: TYPE_NORMAL
  zh: 基于这一经验，viaForensics 开发了 viaExtract，该工具能够提取、分析和报告安卓设备中的数据。viaExtract 是一个模块化解决方案，接下来将提供基于
    viaForensics 研究和开发的安卓取证物理技术。关于 viaExtract 的最新信息可以在网上找到，网址是 [http://viaforensics.com/products/viaextract/](http://viaforensics.com/products/viaextract/)，包括对安卓取证物理技术的支持、其他支持的移动平台以及先进的取证恢复技术。
- en: viaForensics is a forensics and security firm that actively investigates mobile
    devices and traditional computers. Their direct experience as examiners has led
    to the development of a tool specifically tailored to forensic examiners. The
    tool was designed for frequent updates as the mobile forensic discipline is changing
    rapidly. A unique debug and reporting system integrated into viaExtract simplifies
    the process of sending debug and sanitized data to viaForensics to assist with
    the design and improvement of viaExtract operating on the diverse Android ecosystem.
  id: totrans-619
  prefs: []
  type: TYPE_NORMAL
  zh: viaForensics 是一家取证和安全公司，积极调查移动设备和传统计算机。他们作为检查员的直接经验导致开发了一个专门为取证检查员量身定做的工具。该工具旨在频繁更新，因为移动取证学科正在迅速变化。集成到
    viaExtract 中的独特调试和报告系统简化了将调试和净化数据发送到 viaForensics 的过程，以协助设计和改进在多样化的安卓生态系统中运行的
    viaExtract。
- en: Installation
  id: totrans-620
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 安装
- en: 'The viaExtract software is distributed as a virtual machine, so it runs on
    Microsoft Windows, Apple OS X, Linux, or other operating systems that run supported
    virtualization software. The software is fully configured, as are necessary drivers
    and supporting libraries, which greatly simplifies the installation. There are
    several supported virtualization packages, which are free, including:'
  id: totrans-621
  prefs: []
  type: TYPE_NORMAL
  zh: viaExtract软件作为虚拟机分发，因此它可以在运行支持虚拟化软件的Microsoft Windows、Apple OS X、Linux或其他操作系统上运行。该软件完全配置好，包括必要的驱动程序和支持库，这大大简化了安装过程。有几个支持虚拟化软件包是免费的，包括：
- en: • Oracle’s VirtualBox
  id: totrans-622
  prefs: []
  type: TYPE_NORMAL
  zh: • Oracle的VirtualBox
- en: • VMWare Player
  id: totrans-623
  prefs: []
  type: TYPE_NORMAL
  zh: • VMWare Player
- en: A number of commercial packages are also available. The virtual machine is downloaded
    from viaForensics’ web site and then imported into the supported software. Examiners
    can use features built into virtualization software, such as taking snapshots
    to restore the software to a pristine state after each case, or integrate it directly
    into their host operating system by sharing data storage and other valuable features.
  id: totrans-624
  prefs: []
  type: TYPE_NORMAL
  zh: 市场上也有许多商业软件包可供选择。虚拟机从viaForensics的网站下载，然后导入到支持的软件中。检查员可以使用虚拟化软件内置的功能，例如在每次案例后恢复软件到原始状态快照，或者直接将其集成到宿主操作系统中，共享数据存储和其他宝贵功能。
- en: Acquisition
  id: totrans-625
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 收购
- en: After viaExtract is imported into the host system’s virtualization software
    and is running, the forensic examiner logs into the Ubuntu virtual machine and
    runs viaExtract as shown in [Fig. 6.56](#F0285).
  id: totrans-626
  prefs: []
  type: TYPE_NORMAL
  zh: 将viaExtract导入到宿主系统的虚拟化软件并运行后，法医检查员登录到Ubuntu虚拟机并运行viaExtract，如图[Fig. 6.56](#F0285)所示。
- en: '![image](img/F100068f06-56-9781597496513.jpg)'
  id: totrans-627
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-56-9781597496513.jpg)'
- en: FIGURE 6.56 viaExtract software.
  id: totrans-628
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.56 viaExtract软件。
- en: The examiner can then start a new case or open a previous one, as illustrated
    in [Fig. 6.57](#F0290).
  id: totrans-629
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，检查员可以开始一个新案例或打开一个旧案例，如图[Fig. 6.57](#F0290)所示。
- en: '![image](img/F100068f06-57-9781597496513.jpg)'
  id: totrans-630
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-57-9781597496513.jpg)'
- en: FIGURE 6.57 viaExtract—New case.
  id: totrans-631
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.57 viaExtract—新案例。
- en: After entering the case details, the examiner can then choose to extract data
    directly from an Android device or to load from a previous data extraction located
    on the file system. The latter feature is useful for cases where the examiner
    used viaForensics’ free AFLogical software to extract data from Android devices.
    It also allows the examiner to generate a new forensic report from a previous
    device’s extracted data, which is quite useful as new reporting features are added.
  id: totrans-632
  prefs: []
  type: TYPE_NORMAL
  zh: 输入案例详情后，检查员可以选择直接从Android设备提取数据，或者从文件系统上的先前数据提取加载。后者对于检查员使用viaForensics的免费AFLogical软件从Android设备提取数据的案例非常有用。它还允许检查员根据以前设备提取的数据生成新的法医报告，这在使用新报告功能时非常有帮助。
- en: For this example, we will extract data from an Android device by clicking Forward.
    We are then presented with the Load data screen, which provides directions for
    enabling USB debugging. After you click OK the data extraction begins, as shown
    in [Fig. 6.58](#F0295).
  id: totrans-633
  prefs: []
  type: TYPE_NORMAL
  zh: 在此示例中，我们将通过点击前进从Android设备中提取数据。然后我们会看到加载数据屏幕，提供启用USB调试的指导。点击确定后，数据提取就开始了，如图[Fig.
    6.58](#F0295)所示。
- en: '![image](img/F100068f06-58-9781597496513.jpg)'
  id: totrans-634
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-58-9781597496513.jpg)'
- en: FIGURE 6.58 viaExtract—Data extraction.
  id: totrans-635
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.58 通过viaExtract—数据提取。
- en: After the data extraction is complete, the examiner is presented with a list
    of data extracts and has the ability to select what they want to include in the
    forensic analysis and report, as shown in [Fig. 6.59](#F0300).
  id: totrans-636
  prefs: []
  type: TYPE_NORMAL
  zh: 数据提取完成后，检查员会看到一个数据提取列表，并可以选择他们希望在法医分析和报告中包含的内容，如图[Fig. 6.59](#F0300)所示。
- en: '![image](img/F100068f06-59-9781597496513.jpg)'
  id: totrans-637
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-59-9781597496513.jpg)'
- en: FIGURE 6.59 viaExtract—Forensic analysis and report.
  id: totrans-638
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.59 通过viaExtract—法医分析和报告。
- en: After the selections are completed and the examiner clicks Apply, the report
    logic is executed and the data extraction is complete.
  id: totrans-639
  prefs: []
  type: TYPE_NORMAL
  zh: 完成选择并点击应用后，报告逻辑被执行，数据提取完成。
- en: Data presentation and analysis
  id: totrans-640
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 数据展示和分析
- en: After the data extraction is complete, viaExtract presents the analyzed data
    to the user. By navigating the selections on the left side of the application,
    the examiner can view different sections of the report. For example, the first
    section presented is the Device Information section as shown in [Fig. 6.60](#F0305).
  id: totrans-641
  prefs: []
  type: TYPE_NORMAL
  zh: 数据提取完成后，viaExtract向用户展示分析后的数据。通过导航应用程序左侧的选择项，检查员可以查看报告的不同部分。例如，首先展示的是设备信息部分，如图[Fig.
    6.60](#F0305)所示。
- en: '![image](img/F100068f06-60-9781597496513.jpg)'
  id: totrans-642
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-60-9781597496513.jpg)'
- en: FIGURE 6.60 viaExtract—Device info.
  id: totrans-643
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.60 viaExtract—设备信息。
- en: Next, [Fig. 6.61](#F0310) shows browser history and bookmarks that are available
    in the report.
  id: totrans-644
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，[图6.61](#F0310)显示了报告中可用的浏览器历史和书签。
- en: '![image](img/F100068f06-61-9781597496513.jpg)'
  id: totrans-645
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-61-9781597496513.jpg)'
- en: FIGURE 6.61 viaExtract—Browser history and bookmarks.
  id: totrans-646
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.61 viaExtract—浏览器历史和书签。
- en: 'In this example, you can see several features of the report view, including:'
  id: totrans-647
  prefs: []
  type: TYPE_NORMAL
  zh: 在此示例中，你可以看到报告视图的几个功能，包括：
- en: • Ability to filter, on the fly, any section of the report
  id: totrans-648
  prefs: []
  type: TYPE_NORMAL
  zh: • 能够即时筛选报告的任何部分
- en: • Ability to sort ascending or descending on any column
  id: totrans-649
  prefs: []
  type: TYPE_NORMAL
  zh: • 能够对任何一列进行升序或降序排序
- en: In the next example, a filter of [viaforensics.com](http://viaforensics.com)
    was applied against 29 people records and 2 remained. However, many of the fields
    were displayed to the right of the screenshot as shown in [Fig. 6.62](#F0315).
  id: totrans-650
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一个示例中，对29条人员记录应用了[viaforensics.com](http://viaforensics.com)的筛选条件，结果剩下2条。然而，许多字段显示在截图右侧，如图6.62所示。
- en: '![image](img/F100068f06-62-9781597496513.jpg)'
  id: totrans-651
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-62-9781597496513.jpg)'
- en: FIGURE 6.62 viaExtract—People records filtered.
  id: totrans-652
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.62 viaExtract—筛选过的人员记录。
- en: In total, viaExtract currently supports just over 41 Content Providers. However,
    in the next release, roughly 100 Content Providers will be actively queried. If
    the device responds to the Content Provider, the extraction and subsequent reporting
    will succeed. [Fig. 6.63](#F0320) is an example of the Call Logs.
  id: totrans-653
  prefs: []
  type: TYPE_NORMAL
  zh: 总的来说，viaExtract目前支持41个以上的内容提供者。然而，在下一个版本中，将积极查询大约100个内容提供者。如果设备响应内容提供者，提取和随后的报告将成功。[图6.63](#F0320)是通话记录的一个示例。
- en: '![image](img/F100068f06-63-9781597496513.jpg)'
  id: totrans-654
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-63-9781597496513.jpg)'
- en: FIGURE 6.63 viaExtract—Call logs.
  id: totrans-655
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.63 viaExtract—通话记录。
- en: '[Fig. 6.64](#F0325) shows the video media metadata.'
  id: totrans-656
  prefs: []
  type: TYPE_NORMAL
  zh: '[图6.64](#F0325)显示了视频媒体元数据。'
- en: '![image](img/F100068f06-64-9781597496513.jpg)'
  id: totrans-657
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-64-9781597496513.jpg)'
- en: FIGURE 6.64 viaExtract—Video media metadata.
  id: totrans-658
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.64 viaExtract—视频媒体元数据。
- en: Reports can also be exported to PDF format as shown in [Fig. 6.65](#F0330).
  id: totrans-659
  prefs: []
  type: TYPE_NORMAL
  zh: 报告也可以导出为PDF格式，如图6.65所示。
- en: '![image](img/F100068f06-65-9781597496513.jpg)'
  id: totrans-660
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-65-9781597496513.jpg)'
- en: FIGURE 6.65 viaExtract—Export to PDF.
  id: totrans-661
  prefs: []
  type: TYPE_NORMAL
  zh: 图6.65 viaExtract—导出为PDF。
- en: Physical techniques
  id: totrans-662
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 物理技术
- en: Forensic techniques that acquire physical images of the targeted data storage
    typically result in exponentially more data being recovered and often circumvent
    pass code protection. These techniques provide access to not only deleted data
    but also data that was simply discarded as the system no longer required it. For
    example, some systems track the last time a web site was visited and the date
    field is updated each time the site is accessed again. The previous date and time
    data was not specifically deleted but was not tracked by the system. On Android
    devices using YAFFS2, the previous values are recoverable provided garbage collection
    did not occur. As such, the physical techniques provide access to not only deleted
    data but also access to obsolete data on the system.
  id: totrans-663
  prefs: []
  type: TYPE_NORMAL
  zh: 法医技术通常获取目标数据存储的物理映像，从而指数级地恢复更多数据，并且常常绕过程序保护。这些技术不仅可以访问已删除的数据，还可以访问系统不再需要而仅是废弃的数据。例如，一些系统记录上次访问网站的时间，并且每次再次访问该站点时更新日期字段。以前的日期和时间数据并未被明确删除，但系统没有跟踪它们。在采用YAFFS2的Android设备上，只要垃圾回收没有发生，就可以恢复以前的值。因此，物理技术不仅可以访问已删除的数据，还可以访问系统上的过时数据。
- en: 'The Android forensics physical techniques fall into two broad categories:'
  id: totrans-664
  prefs: []
  type: TYPE_NORMAL
  zh: 安卓法医物理技术分为两大类：
- en: '• Hardware: Methods which connect hardware to the device or physically extract
    device components'
  id: totrans-665
  prefs: []
  type: TYPE_NORMAL
  zh: • 硬件：将硬件连接到设备或物理提取设备组件的方法
- en: '• Software: Techniques which run as software on devices with root access and
    provide a full physical image of the data partitions'
  id: totrans-666
  prefs: []
  type: TYPE_NORMAL
  zh: • 软件：在具有root访问权限的设备上运行的技术，并提供数据分区的完整物理映像
- en: The hardware-based methods required specialized and often expensive equipment
    and training but can be very effective on devices where root access is unattainable.
    The software-based physical techniques are a more direct path to acquisition and
    are often the best place to start. Of course, before software-based techniques
    are possible, you must have root access on the device.
  id: totrans-667
  prefs: []
  type: TYPE_NORMAL
  zh: 基于硬件的方法需要专业且通常昂贵的设备和培训，但对于无法获得root访问权限的设备可能非常有效。基于软件的物理技术是获取的直接路径，通常是最佳起点。当然，在软件技术可行之前，你必须在设备上拥有root访问权限。
- en: Hardware-Based Physical Techniques
  id: totrans-668
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 基于硬件的物理技术
- en: The two hardware-based physical techniques are JTAG and chip-off and a brief
    overview is provided in this section.
  id: totrans-669
  prefs: []
  type: TYPE_NORMAL
  zh: 本节提供了两种基于硬件的物理技术：JTAG 和芯片摘除的简要概述。
- en: JTAG
  id: totrans-670
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: JTAG
- en: The JTAG was created in the 1980s to develop a standard for testing the wiring
    and interconnects on printed circuit boards (PCB). By 1990, the standard was complete
    and became an Institute of Electrical and Electronics Engineers standard, specifically
    IEEE 1149.1-1990 ([IEEE SA, n.d.](#BIB10)), and then a later update in 2001 named
    IEEE 1149.1-2001\. The standard was widely accepted and today most PCBs have JTAG
    test access ports (TAPs) that facilitate access to the central processing unit
    (CPU).
  id: totrans-671
  prefs: []
  type: TYPE_NORMAL
  zh: JTAG 是在 20 世纪 80 年代创建的，旨在开发一个用于测试印刷电路板（PCB）上的布线和互连的标准。到 1990 年，该标准已完成，成为电气和电子工程师学会的标准，即
    IEEE 1149.1-1990（[IEEE SA, n.d.](#BIB10)），后来在 2001 年进行了更新，名为 IEEE 1149.1-2001。该标准被广泛接受，如今大多数
    PCB 都有 JTAG 测试访问端口（TAPs），便于访问中央处理单元（CPU）。
- en: 'A JTAG TAP exposes various signals and most mobile devices include the following:'
  id: totrans-672
  prefs: []
  type: TYPE_NORMAL
  zh: JTAG TAP 暴露了各种信号，大多数移动设备包括以下内容：
- en: 1. TDI—Test Data In
  id: totrans-673
  prefs: []
  type: TYPE_NORMAL
  zh: 1. TDI—测试数据输入
- en: 2. TDO—Test Data Out
  id: totrans-674
  prefs: []
  type: TYPE_NORMAL
  zh: 2. TDO—测试数据输出
- en: 3. TCK—Test Clock
  id: totrans-675
  prefs: []
  type: TYPE_NORMAL
  zh: 3. TCK—测试时钟
- en: 4. TMS—Test Mode Select
  id: totrans-676
  prefs: []
  type: TYPE_NORMAL
  zh: 4. TMS—测试模式选择
- en: 5. TRST—Test Reset
  id: totrans-677
  prefs: []
  type: TYPE_NORMAL
  zh: 5. TRST—测试重置
- en: 6. RTCK—Return Test Clock
  id: totrans-678
  prefs: []
  type: TYPE_NORMAL
  zh: 6. RTCK—返回测试时钟
- en: A major obstacle to JTAG is locating the TAPs on the PCB and tracing them to
    the CPU to determine which pad is responsible for each test function. This is
    very difficult to achieve even if the chip manufacturer has published a CPU map.
    In addition, it can be extremely difficult to trace the JTAG functions from the
    chip and it may require first removing the CPU from the PCB. Device manufacturers
    have JTAG schematics, but they are generally considered company confidential and
    are only released to authorized service centers. Another approach is to determine
    the functions of each pad by reading the voltage at each pad and, based on the
    reference voltage, identifying the function. In some instances the JTAG pin-outs
    are published by flasher box manufacturers or various online groups. [Fig. 6.66](#F0335)
    is an example of the JTAG pin-outs for a T-Mobile HTC G1\. The six pin-outs are
    indicated by the small white circles and the legend on the right provides the
    detailed information.
  id: totrans-679
  prefs: []
  type: TYPE_NORMAL
  zh: JTAG 的一个主要障碍是在 PCB 上定位 TAP 并追踪到 CPU，以确定每个测试功能的负责焊盘。即使芯片制造商已经发布了 CPU 地图，这也很难实现。此外，从芯片追踪
    JTAG 功能可能非常困难，可能需要首先从 PCB 上移除 CPU。设备制造商拥有 JTAG 原理图，但通常被认为是公司机密，只发布给授权服务中心。另一种方法是，通过读取每个焊盘的电压来确定每个焊盘的功能，并根据参考电压识别功能。在某些情况下，刷机盒制造商或各种在线团体会发布
    JTAG 引脚输出。[图 6.66](#F0335) 是一个 T-Mobile HTC G1 JTAG 引脚输出的例子。六个引脚输出由小白圈指示，右侧的图例提供了详细信息。
- en: '![image](img/F100068f06-66-9781597496513.jpg)'
  id: totrans-680
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/F100068f06-66-9781597496513.jpg)'
- en: FIGURE 6.66 T-Mobile HTC G-1 PCB.
  id: totrans-681
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.66 T-Mobile HTC G-1 PCB。
- en: In most cases, your soldered wire leads to the pads on the PCB, and the other
    side is connected to a special device (flasher box) which, through software, will
    manage the CPU. Some companies make custom connectors which support a specific
    device and simplify the connection to the pads by placing the PCB between two
    jig boards with pogo pins. The pogo pins make contact with the JTAG pads on the
    PCB and can then easily connect to the flasher box. However, experienced engineers
    may find that soldering the leads directly to the PCB provides a more stable connection.
  id: totrans-682
  prefs: []
  type: TYPE_NORMAL
  zh: 在大多数情况下，你的焊接线连接到 PCB 上的焊盘，另一端连接到一个特殊设备（刷机盒），通过软件管理 CPU。一些公司制作了定制连接器，支持特定设备，并通过将
    PCB 放在两个带有弹簧针的夹具板之间简化与焊盘的连接。弹簧针与 PCB 上的 JTAG 焊盘接触，然后可以轻松连接到刷机盒。然而，有经验的工程师可能会发现直接将引线焊接在
    PCB 上可以提供更稳定的连接。
- en: Once the leads are connected to the appropriate pads, power must be applied
    to the board to boot the CPU. Each CPU manufacturer publishes the reference voltage
    for their hardware and this voltage must not be exceeded. Some flasher boxes provide
    an option for managing the voltage but in general the power should be managed
    through an external power supply with a built-in digital voltmeter to ensure accuracy.
    Once the board is powered on, the flasher box software has the ability to perform
    a full binary memory dump of the NAND flash. However, the connection is serial
    and takes a considerable amount of time. Despite all of the complexities, if the
    JTAG technique is executed properly, the phone can be reassembled and will function
    normally with no data loss.
  id: totrans-683
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦引线连接到适当的焊盘，就必须给主板供电以启动CPU。每个CPU制造商都会发布其硬件的参考电压，这个电压绝不能超过。一些编程器盒子提供了管理电压的选项，但一般来说，应该通过内置数字电压表的
    external 电源来管理电力，以确保准确。主板供电后，编程器盒软件能够执行NAND闪存的完整二进制内存转储。然而，这种连接是串行的，需要相当长的时间。尽管存在所有这些复杂性，如果正确执行JTAG技术，手机可以重新组装并且能够正常工作，不会有数据丢失。
- en: Though JTAG is an option for extracting data from an Android device’s NAND flash,
    it is very difficult and should only be attempted by qualified personnel with
    sufficient training and specific experience in soldering small PCB connections.
    Errors in soldering to the JTAG pads or applying the wrong voltage to the board
    could not only disable JTAG but can also seriously damage the device. For these
    reasons, JTAG is not typically the first choice for a physical forensic image
    of an Android device.
  id: totrans-684
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管JTAG是从Android设备NAND闪存中提取数据的一种选择，但它非常困难，只有经过足够培训并且具有焊接小型PCB连接特定经验的合格人员才应尝试。如果在JTAG焊盘上焊接出错或给主板施加了错误的电压，不仅可能导致JTAG失效，还可能严重损坏设备。因此，JTAG通常不是获取Android设备物理取证镜像的首选方法。
- en: Chip-off
  id: totrans-685
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 芯片移除
- en: Chip-off is a technique where the NAND flash chips are physically removed from
    the device and examined externally. The chip-off technique allows for the recovery
    of damaged devices and also circumvents pass code-protected devices. This removal
    process is generally destructive—it is quite difficult to reattach the NAND flash
    to the PCB and have the device operate.
  id: totrans-686
  prefs: []
  type: TYPE_NORMAL
  zh: 芯片移除是一种从设备中物理移除NAND闪存芯片并在外部进行检查的技术。芯片移除技术允许恢复损坏的设备，并且绕过密码保护的设备。这种移除过程通常是破坏性的——将NAND闪存重新连接到PCB并使设备运行相当困难。
- en: 'There are three primary steps in the chip-off technique:'
  id: totrans-687
  prefs: []
  type: TYPE_NORMAL
  zh: 芯片移除技术有三个主要步骤：
- en: 1. The NAND flash chip is physically removed from the device by either de-soldering
    it, or using special equipment that uses a blast of hot air and a vacuum to remove
    the chip. There are also techniques that heat the chip to a specified temperature.
    It is quite easy to damage the NAND flash in this process and specialized hardware,
    and even controlling software, exists for the extraction.
  id: totrans-688
  prefs: []
  type: TYPE_NORMAL
  zh: 1. NAND闪存芯片通过焊接拆除或使用喷射热空气和真空的特殊设备来从设备中物理移除。还有一些技术是将芯片加热到特定温度。在这个过程中很容易损坏NAND闪存，因此存在用于提取的专业硬件甚至控制软件。
- en: 2. The removal process often damages the connectors on the bottom of the chip,
    so it must first be cleaned and then repaired. The process of repairing the conductive
    balls on the bottom of the chip is referred to as reballing.
  id: totrans-689
  prefs: []
  type: TYPE_NORMAL
  zh: 2. 移除过程通常会损坏芯片底部的连接器，因此必须先进行清洁，然后再进行修复。修复芯片底部导电球的过程被称为重新焊接。
- en: 3. The chip is then inserted into a specialized hardware device, so that it
    can be read. The devices generally must be programmed for a specific NAND flash
    chip and support a number of the more popular chips already.
  id: totrans-690
  prefs: []
  type: TYPE_NORMAL
  zh: 3. 然后将芯片插入专用的硬件设备中，以便读取。这些设备通常必须针对特定的NAND闪存芯片进行编程，并且已经支持许多较流行的芯片。
- en: At this point, you now have a physical image of the data stored on the NAND
    flash chip.
  id: totrans-691
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一点上，你现在有了存储在NAND闪存芯片上的数据的物理镜像。
- en: Although the chip-off process is quite effective, it also has a large barrier
    to entry. The cost of the equipment and tools is prohibitive and an examiner must
    again have very specialized training and skills. There is always the risk that
    the NAND flash chip will be damaged with chip-off, generally in its removal from
    the PCB. Finally, a clean room with protections from static electricity is also
    desirable. While local or even State law enforcement agencies and forensic firms
    may find the cost of chip-off too prohibitive, it is certainly a valid techniques
    that larger agencies would find useful in their suite of forensic techniques.
  id: totrans-692
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管芯片脱焊过程非常有效，但其进入门槛也很高。设备和工具的成本非常高，检查员必须具备非常专业的培训和技能。在脱焊过程中，NAND闪存芯片在从PCB上移除时可能会损坏。最后，还需要一个防静电的干净房间。虽然地方甚至州执法机构和取证公司可能会发现芯片脱焊的成本过高，但这绝对是一个大型机构在其取证技术组合中会发现有用的有效技术。
- en: Software-Based Physical Techniques and Privileges
  id: totrans-693
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 基于软件的物理技术和权限
- en: 'Software-based physical techniques have a number of advantages over the hardware-based
    techniques. Software-based techniques:'
  id: totrans-694
  prefs: []
  type: TYPE_NORMAL
  zh: 基于软件的物理技术相对于基于硬件的技术有诸多优势。软件技术：
- en: • Are easier to execute;
  id: totrans-695
  prefs: []
  type: TYPE_NORMAL
  zh: • 更容易执行；
- en: • Often provide direct access to file systems to allow a complete copy of all
    logical files (simplifies some analysis);
  id: totrans-696
  prefs: []
  type: TYPE_NORMAL
  zh: • 通常直接访问文件系统，以便完整复制所有逻辑文件（简化某些分析）；
- en: • Provide very little risk of damaging the device or data loss.
  id: totrans-697
  prefs: []
  type: TYPE_NORMAL
  zh: • 对设备或数据损坏的风险非常小。
- en: To execute the software-based physical techniques, you first must gain root
    privileges and then run the acquisition programs.
  id: totrans-698
  prefs: []
  type: TYPE_NORMAL
  zh: 要执行基于软件的物理技术，首先必须获得root权限，然后运行采集程序。
- en: 'Unfortunately, root privileges on Android devices are not enabled by default.
    However, it is possible to gain root privileges in certain scenarios, several
    of which we will cover next. There are some major challenges to obtaining root
    privileges to keep in mind though:'
  id: totrans-699
  prefs: []
  type: TYPE_NORMAL
  zh: 不幸的是，Android设备默认不启用root权限。然而，在某些情况下可能获得root权限，我们接下来会介绍其中一些情况。但是，需要记住获取root权限的一些主要挑战：
- en: 1. Gaining root privileges changes the device in many situations.
  id: totrans-700
  prefs: []
  type: TYPE_NORMAL
  zh: 1. 获取root权限在很多情况下都会改变设备。
- en: 2. The techniques for root privileges differ not only for each manufacturer
    and device but for each version of Android and even the Linux kernel in use. Just
    based on the Android devices and versions developed to date, there are literally
    thousands of possible permutations.
  id: totrans-701
  prefs: []
  type: TYPE_NORMAL
  zh: 2. 获取root权限的技术不仅因制造商和设备而异，而且针对每个Android版本甚至使用的Linux内核都不同。仅根据到目前为止开发的Android设备和版本，就有数千种可能的组合。
- en: 3. Many of the exploits used to gain root privileges are discussed online and
    often contain inaccurate information.
  id: totrans-702
  prefs: []
  type: TYPE_NORMAL
  zh: 3. 许多用于获取root权限的漏洞在线上被讨论，而且常常包含不准确的信息。
- en: Given this, gaining root privileges can be quite difficult and is always very
    frustrating.
  id: totrans-703
  prefs: []
  type: TYPE_NORMAL
  zh: 鉴于此，获取root权限可能相当困难，而且常常令人非常沮丧。
- en: 'There are three primary types of root privileges:'
  id: totrans-704
  prefs: []
  type: TYPE_NORMAL
  zh: 有三种主要的root权限类型：
- en: 1. Temporary root privileges attained by a root exploit, which does not survive
    a reboot. Typically the adb daemon is not running as root in this instance.
  id: totrans-705
  prefs: []
  type: TYPE_NORMAL
  zh: 1. 通过root漏洞获得的临时root权限，在重启后不会保留。在这种情况下，通常adb守护进程不会以root身份运行。
- en: 2. Full root access attained through a custom ROM or persistent root exploit.
    Custom ROMs often run the adb daemon as root while most of the persistent root
    exploits do not.
  id: totrans-706
  prefs: []
  type: TYPE_NORMAL
  zh: 2. 通过自定义ROM或持久root漏洞获得的完全root访问。自定义ROM通常以root身份运行adb守护进程，而大多数持久root漏洞则不会。
- en: 3. Recovery mode root attained by flashing a custom recovery partition or part
    of a custom ROM. Custom ROMs often run the adb daemon as root as do most of the
    modified recovery partitions.
  id: totrans-707
  prefs: []
  type: TYPE_NORMAL
  zh: 3. 通过刷入自定义恢复分区或自定义ROM的一部分来在恢复模式下获取root。自定义ROM通常以root身份运行adb守护进程，大多数修改后的恢复分区也是如此。
- en: Android enthusiasts who want root access are typically only interested in full,
    sustained root privileges. However, from a forensics standpoint, temporary root
    privileges or root access via a custom recovery mode are preferred.
  id: totrans-708
  prefs: []
  type: TYPE_NORMAL
  zh: 想要获取root权限的Android爱好者通常只对完全、持续的root权限感兴趣。然而，从取证的角度来看，更倾向于使用临时root权限或通过自定义恢复模式获取root访问。
- en: If you need to gain access on a new device or Android version, you must have
    a separate device used for testing to ensure that the process works and no data
    are lost. Testing, although time consuming, is an important step in this situation.
  id: totrans-709
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你需要在新的设备或Android版本上获取访问权限，你必须有一个用于测试的单独设备，以确保该过程有效且不会丢失数据。测试虽然耗时，但在这种情况下是一个重要的步骤。
- en: The following sections cover each step in detail.
  id: totrans-710
  prefs: []
  type: TYPE_NORMAL
  zh: 以下各节详细介绍了每个步骤。
- en: su
  id: totrans-711
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: su
- en: The first thing a forensic examiner should check is whether the device already
    has root privileges. This is the easiest of any technique discussed and is certainly
    worth the short time it takes to test. The device must have USB debugging enabled
    but even if the device is locked, you should still check. If the device is not
    pass code locked, make sure USB debugging is enabled, which was covered in [Chapter
    3](CHP003.html).
  id: totrans-712
  prefs: []
  type: TYPE_NORMAL
  zh: 法医检查员首先应该检查的是设备是否已经拥有root权限。这是我们所讨论的任何技术中最简单的，绝对值得花费很短的时间来测试。设备必须启用USB调试，即使设备被锁定，你也应该检查。如果设备没有密码锁定，请确保已启用USB调试，这将在[第3章](CHP003.html)中介绍。
- en: 'Next, connect the device to your workstation and attempt to gain root privileges
    by requesting super user access with the “su” command as follows:'
  id: totrans-713
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，将设备连接到你的工作站，尝试通过以下方式请求超级用户访问权限以获取root权限：
- en: '![image](img/F100068u06-27-9781597496513.jpg)'
  id: totrans-714
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/F100068u06-27-9781597496513.jpg)'
- en: 'In this instance, root privileges were not granted. This is the typical result
    of the command. However, the following was on a device that had root access:'
  id: totrans-715
  prefs: []
  type: TYPE_NORMAL
  zh: 在此例中，没有授予root权限。这是该命令典型的输出结果。然而，以下情况出现在一个已经拥有root访问权限的设备上：
- en: '![image](img/F100068u06-28-9781597496513.jpg)'
  id: totrans-716
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/F100068u06-28-9781597496513.jpg)'
- en: 'Instead of receiving a permission denied error, root privileges were granted.
    This is indicated by the new # prompt. Sometimes a device will allow root access
    but require the user to grant the privileges by clicking OK on a prompt displayed
    on the device. If the device is not pass code protected, you should check to see
    if the prompt is displayed.'
  id: totrans-717
  prefs: []
  type: TYPE_NORMAL
  zh: 与其收到权限被拒绝的错误，不如直接授予root权限。这可以通过新的#提示符体现出来。有时设备会允许root访问，但要求用户点击设备上显示的提示上的OK来授权权限。如果设备没有密码保护，你应该检查是否有提示显示。
- en: Researching Root Privilege Exploits
  id: totrans-718
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 研究Root权限漏洞
- en: If the device does not already have root privileges, you can research possible
    techniques online. This process can be very frustrating as there are many inexperienced
    people who request help on the various discussion boards. However, while there
    are substantial amounts of inaccurate information, there are also very knowledgeable
    resources and techniques which do work.
  id: totrans-719
  prefs: []
  type: TYPE_NORMAL
  zh: 如果设备尚未拥有root权限，你可以在线研究可能的技巧。这个过程可能会非常令人沮丧，因为许多经验不足的人在各种讨论板上寻求帮助。然而，尽管存在大量不准确的信息，也有一些知识渊博的资源和技术是确实有效的。
- en: Although there are many sites available that discuss Android root exploits,
    one truly stands above all others. The site, xda-developers, is an extremely popular
    and active site and is self-described as “the largest Internet community of smartphone
    enthusiasts and developers for the Android and Windows Mobile platforms” ([Android
    & Windows Phone, n.d.](#BIB2)). Many of the other web sites post various root
    exploits but generally link back to a discussion thread on xda-developers.
  id: totrans-720
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管有许多讨论Android root漏洞的网站，但有一个网站无疑是最出色的。xda-developers网站极其受欢迎且活跃，它自称是“Android和Windows
    Mobile平台智能手机爱好者和开发者最大的互联网社区”（[Android & Windows Phone, n.d.](#BIB2)）。其他许多网站发布了各种root漏洞，但通常都会链接到xda-developers上的一个讨论主题。
- en: Often the best approach to researching root exploits is to simply search the
    Internet with your preferred search engine, have a test device, and a lot of patience.
  id: totrans-721
  prefs: []
  type: TYPE_NORMAL
  zh: 研究root漏洞的最佳方法通常是使用你喜欢的搜索引擎简单地搜索互联网，拥有一个测试设备，以及大量的耐心。
- en: Recovery Mode
  id: totrans-722
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 恢复模式
- en: Recovery mode is an operating mode for Android that was designed to apply updates,
    format the device, and perform other maintenance on the devices. The stock recovery
    mode on most devices is very basic, only provides a number of limited functions,
    and certainly does not provide root privileges in a shell.
  id: totrans-723
  prefs: []
  type: TYPE_NORMAL
  zh: 恢复模式是Android的一个操作模式，旨在应用更新、格式化设备以及执行设备上的其他维护工作。大多数设备上的默认恢复模式非常基础，只提供一些有限的功能，而且肯定不会在shell中提供root权限。
- en: Custom recovery partitions, on the other hand, nearly always allow root privileges
    through the shell. These new recovery partitions are typically installed by the
    user when the device is rooted and provide various functions that simplify the
    backup and update processes needed from the custom ROMS.
  id: totrans-724
  prefs: []
  type: TYPE_NORMAL
  zh: 另一方面，自定义恢复分区几乎总是允许通过shell获取root权限。这些新的恢复分区通常由用户在设备被root时安装，并提供各种简化自定义ROMS备份和更新过程的功能。
- en: As with researching root exploits, examiners should use extreme caution when
    installing a custom recovery partition as the process often contains kernel and
    radio updates that could render the device unusable (often referred to as “bricked”)
    if there are incompatibilities between the device, kernel, and radio firmware.
    Extensive testing must be performed on a lab device first to ensure no issues
    occur. And forensic examiners should understand what is being modified on the
    device during the installation of a custom recovery firmware.
  id: totrans-725
  prefs: []
  type: TYPE_NORMAL
  zh: 与研究root漏洞一样，安装自定义恢复分区的检查员应该极度小心，因为该过程通常包含可能导致设备无法使用的内核和无线电更新（通常称为“变砖”），如果设备、内核和无线电固件之间存在不兼容。首先必须在实验室设备上进行大量测试，以确保没有问题发生。并且法医检查员应该了解在安装自定义恢复固件时设备上正在被修改的内容。
- en: 'The software that powers recovery mode is stored on a dedicated partition and
    is quite small. On many devices, you can see details of the recovery partition
    by examining /proc/mtd:'
  id: totrans-726
  prefs: []
  type: TYPE_NORMAL
  zh: 支持恢复模式的软件存储在专用分区上，体积相当小。在许多设备上，你可以通过检查/proc/mtd来了解恢复分区的详细信息：
- en: '![image](img/F100068u06-29-9781597496513.jpg)'
  id: totrans-727
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-29-9781597496513.jpg)'
- en: 'This list is from a T-Mobile HTC G1 and you can see that the recovery partition
    has a size of 0x500000 bytes, which is 5 MB (0x500000 = 5,242,880 then divide
    by 1024 twice to convert to KB and finally MB). Here are the sizes from other
    phones used throughout this book:'
  id: totrans-728
  prefs: []
  type: TYPE_NORMAL
  zh: 这个列表来自T-Mobile HTC G1，你可以看到恢复分区的容量为0x500000字节，即5 MB（0x500000 = 5,242,880，然后除以1024两次转换为KB，最后为MB）。以下是本书中使用的其他手机的大小：
- en: '• T-Mobile HTC G1: 5 MB'
  id: totrans-729
  prefs: []
  type: TYPE_NORMAL
  zh: • T-Mobile HTC G1：5 MB
- en: '• HTC Incredible: 4 MB'
  id: totrans-730
  prefs: []
  type: TYPE_NORMAL
  zh: • HTC Incredible：4 MB
- en: '• Motorola Droid: 4 MB'
  id: totrans-731
  prefs: []
  type: TYPE_NORMAL
  zh: • 摩托罗拉Droid：4 MB
- en: '• Google Nexus One: 4 MB'
  id: totrans-732
  prefs: []
  type: TYPE_NORMAL
  zh: • 谷歌Nexus One：4 MB
- en: This is helpful to understand as we explore techniques to replace the small
    but important recovery partition in the next section.
  id: totrans-733
  prefs: []
  type: TYPE_NORMAL
  zh: 这有助于我们理解在下一节中探索替换虽小但重要的恢复分区技术。
- en: 'In the previous section covering techniques for circumventing pass code-protected
    devices, accessing the recovery mode was one possible solution. In the same fashion,
    it is advisable to check the recovery partition for root privileges as it will
    enable the software-based physical techniques. First, boot the device into recovery
    mode as covered in [Table 6.2](#T0015), or simply search the Internet for the
    specific key combination for your device. Once the device is in recovery mode,
    connect it to your Ubuntu VM and run adb as follows:'
  id: totrans-734
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一节介绍绕过密码保护设备的技术时，访问恢复模式是可能的解决方案之一。同样，建议检查恢复分区是否具有root权限，因为它将启用基于软件的物理技术。首先，按照[表6.2](#T0015)所述启动设备进入恢复模式，或者直接在互联网上搜索你设备的特定键组合。设备进入恢复模式后，将其连接到你的Ubuntu
    VM，并按以下方式运行adb：
- en: '![image](img/F100068u06-30-9781597496513.jpg)'
  id: totrans-735
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-30-9781597496513.jpg)'
- en: 'In this case, adb discovered a device in recovery mode. However, many devices
    will simply not have adb access enabled in recovery mode, especially on stock
    devices. In such a case, you can then determine if the shell has root privileges
    as follows:'
  id: totrans-736
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个情况下，adb发现了一个处于恢复模式的设备。然而，许多设备在恢复模式下根本不支持adb访问，尤其是在原厂设备上。在这种情况下，你可以按照以下方法判断shell是否具有root权限：
- en: '![image](img/F100068u06-31-9781597496513.jpg)'
  id: totrans-737
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-31-9781597496513.jpg)'
- en: 'As we discussed previously, if you are presented with a # prompt, this indicates
    root privileges. If instead you have a $ prompt, you do not have root privileges.
    However, you should at least try to gain them by running the su command.'
  id: totrans-738
  prefs: []
  type: TYPE_NORMAL
  zh: 如我们之前所讨论的，如果你看到一个#提示符，这表示你有root权限。如果你看到的是$提示符，则你没有root权限。不过，你至少应该尝试通过运行su命令来获取它们。
- en: Boot Loaders
  id: totrans-739
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 引导加载程序
- en: As discussed in [Chapter 2](CHP002.html), the boot loader is a small program
    that is executed early in the Android boot process and is responsible for, among
    other details, selecting and loading the main kernel. On certain devices, special
    software exists, typically developed by the manufacturer, which can interact with
    the boot loader. This software is capable of writing new images to the NAND flash
    of a device. Manufacturers use this software to fix nonfunctional devices and
    likely in other situations such as development and testing. Forensic examiners
    can also use the software to flash a utility or exploit to a device’s NAND flash,
    which will provide root privileges. However, the boot loaders of most devices
    are shipped from the factory in a locked state, which prevents such updates.
  id: totrans-740
  prefs: []
  type: TYPE_NORMAL
  zh: 如 [第 2 章](CHP002.html) 所讨论的，引导加载器是 Android 启动过程中早期执行的小程序，负责（除其他细节外）选择和加载主内核。在某些设备上，存在特殊软件，通常由制造商开发，可以与引导加载器交互。这种软件能够将新镜像写入设备的
    NAND 闪存。制造商使用此软件修复无法正常工作的设备，可能在其他情况下如开发和测试也会使用。法医检查员也可以使用该软件将实用程序或利用程序刷新到设备的 NAND
    闪存，这将提供 root 权限。然而，大多数设备的引导加载器在出厂时处于锁定状态，这阻止了此类更新。
- en: One example of software that interacts with Motorola Android devices is a program
    called RSD Lite developed by Motorola. RSD Lite is proprietary software and appears
    to only be distributed to Motorola Service Centers for device repair. It is assumed
    that anyone using this software has full authorization to do so, and this overview
    is only provided as a example of how some Android devices are flashed.
  id: totrans-741
  prefs: []
  type: TYPE_NORMAL
  zh: 一个与 Motorola 安卓设备交互的软件示例是 Motorola 开发的名为 RSD Lite 的程序。RSD Lite 是专有软件，似乎只分发给
    Motorola 服务中心用于设备维修。可以认为任何使用此软件的人都拥有完全授权，本概述仅作为某些安卓设备刷新操作的示例。
- en: There are many web sites which discuss RSD Lite and provide guides for using
    the software. One such site, [modmymobile.com](http://modmymobile.com), provides
    an article entitled “[Guide] Flashing Linux Motorola’s with RSD Lite Versions,”
    which offers step-by-step instructions for the software ([[Guide] Flashing Linux,
    n.d.](#BIB8)).
  id: totrans-742
  prefs: []
  type: TYPE_NORMAL
  zh: 有许多网站讨论 RSD Lite 并提供该软件的使用指南。[modmymobile.com](http://modmymobile.com) 就是这样一个网站，它提供了一篇名为“[指南]
    使用 RSD Lite 版本刷新 Linux Motorola 手机”的文章，该文章提供了软件的逐步操作说明([[Guide] Flashing Linux,
    n.d.](#BIB8)]。
- en: Provided the device is supported and the boot loader is unlocked, you connect
    the device to your workstation and then run the software, which detects the phone.
    You must then provide the appropriate .sbf file and then click Start to flash
    the device as shown in [Fig. 6.67](#F0340).
  id: totrans-743
  prefs: []
  type: TYPE_NORMAL
  zh: 在设备得到支持且引导加载器已解锁的情况下，你可以将设备连接到工作站，然后运行软件，软件会检测到手机。然后你必须提供适当的 .sbf 文件，然后点击开始，如
    [图 6.67](#F0340) 所示刷新设备。
- en: '![image](img/F100068f06-67-9781597496513.jpg)'
  id: totrans-744
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068f06-67-9781597496513.jpg)'
- en: FIGURE 6.67 RSD Lite.
  id: totrans-745
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6.67 RSD Lite。
- en: After the process is completed and the device is restarted, the new recovery
    partition (and any other areas modified by the .sbf file used) is ready. RSD Lite
    may provide a good option for forensic analysts who have proper authorization
    to use RSD Lite.
  id: totrans-746
  prefs: []
  type: TYPE_NORMAL
  zh: 完成过程并重新启动设备后，新的恢复分区（以及由使用的 .sbf 文件修改的任何其他区域）就准备好了。对于有适当授权使用 RSD Lite 的法医分析师来说，RSD
    Lite 可能是一个很好的选择。
- en: sbf_flash
  id: totrans-747
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: sbf_flash
- en: 'Similar to Motorola’s RSD Lite is a utility called sbf_flash that does not
    carry the license and usage restrictions of RSD Lite. The application was developed
    and posted online by an Android enthusiast and, while distributed in many places
    online, it is best to retrieve it from the author’s blog OPTICALDELUSION, which
    is updated when new versions are available. This utility was developed on Linux,
    and now also runs on OS X, and thus, greatly simplifies the flashing of data to
    the NAND flash via an unlocked boot loader. The latest version of sbf_flash is
    1.15 and it supports the following:'
  id: totrans-748
  prefs: []
  type: TYPE_NORMAL
  zh: 与 Motorola 的 RSD Lite 类似的一个工具是 sbf_flash，它没有 RSD Lite 的许可和使用的限制。这个应用程序是由一个安卓爱好者开发并在网上发布的，虽然在网上很多地方都可以找到，但最好是从作者的博客
    OPTICALDELUSION 上获取，该博客会在新版本可用时更新。这个工具是在 Linux 上开发的，现在也可以在 OS X 上运行，因此大大简化了通过解锁引导加载器向
    NAND 闪存刷新数据的过程。sbf_flash 的最新版本是 1.15，它支持以下功能：
- en: '![image](img/F100068u06-32-9781597496513.jpg)'
  id: totrans-749
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-32-9781597496513.jpg)'
- en: To use sbf_flash, you must first verify that the device is supported. For this
    example, we will cover the Motorola Droid; however, other devices are supported.
    The device must be placed in bootloader mode, which is accomplished by holding
    the up direction on the D pad while pressing the power button. The boot loader
    is easily recognized on the Motorola Droid by a solid black screen with the kernel
    version, USB status, and battery status in white text. Ensure the battery is fully
    charged before attempting this process as you could easily brick the device if
    the flashing process is interrupted with a power failure. Also, you must have
    the SBF file saved to your forensic workstation so you can flash it to the device.
    This is where extensive testing must occur prior to working on the target device
    to ensure compatibility and a detailed understanding of the process.
  id: totrans-750
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用sbf_flash，你首先必须确认设备是被支持的。对于本例，我们将涵盖摩托罗拉Droid；然而，其他设备也被支持。设备必须置于引导加载模式，这可以通过在按下电源键的同时按住D-pad上的上方向键来实现。在摩托罗拉Droid上，引导加载程序很容易通过一个全黑的屏幕识别，屏幕上有白色的内核版本、USB状态和电池状态文本。在尝试此过程之前，请确保电池充满电，因为如果刷新过程中断电，你可能会很容易地损坏设备。此外，你必须在取证工作站上保存SBF文件，以便你可以将其刷新到设备上。在进行目标设备操作之前，必须进行大量测试以确保兼容性和对过程的详细了解。
- en: 'With the Droid in bootloader mode, we can query the device with sbf_flash as
    follows:'
  id: totrans-751
  prefs: []
  type: TYPE_NORMAL
  zh: 当Droid处于引导加载模式时，我们可以使用sbf_flash查询设备，如下所示：
- en: '![image](img/F100068u06-33a-9781597496513.jpg)'
  id: totrans-752
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/F100068u06-33a-9781597496513.jpg)'
- en: '![image](img/F100068u06-33b-9781597496513.jpg)'
  id: totrans-753
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/F100068u06-33b-9781597496513.jpg)'
- en: The sbf_flash utility looks for a device in bootloader mode and immediately
    flashes the image file to the NAND flash. The status of the update process is
    displayed on screen and afterwards the Droid is rebooted.
  id: totrans-754
  prefs: []
  type: TYPE_NORMAL
  zh: sbf_flash工具查找处于引导加载模式的设备，并立即将镜像文件刷新到NAND闪存。更新过程的状态会在屏幕上显示，之后Droid将重新启动。
- en: '![image](img/F100068u06-34-9781597496513.jpg)'
  id: totrans-755
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/F100068u06-34-9781597496513.jpg)'
- en: You should be prepared to immediately boot the device into recovery mode as
    later versions of the Motorola Droid’s firmware implemented a routine that checks
    the hash signatures of the existing recovery partition against the stock recovery
    partition for that Android version. If there is a disparity, the system will rebuild
    the stock recovery partition during the boot process and thus overwrite the modified
    recovery image.
  id: totrans-756
  prefs: []
  type: TYPE_NORMAL
  zh: 你应该准备好立即将设备引导进入恢复模式，因为摩托罗拉Droid后续版本的固件实现了一个检查现有恢复分区与该Android版本的标准恢复分区的哈希签名是否一致的程序。如果有差异，系统将在引导过程中重建标准恢复分区，从而覆盖修改后的恢复镜像。
- en: Once the new SBF file has been flashed, and the device is running in the modified
    recovery mode, you will have root access and can proceed with the software-based
    physical technique.
  id: totrans-757
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦刷新了新的SBF文件，并且设备在修改后的恢复模式下运行，你将获得root权限，并可以继续进行基于软件的物理技术操作。
- en: fastboot
  id: totrans-758
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: fastboot
- en: Fastboot is another utility that flashes images to the NAND flash over USB.
    The source code for fastboot is contained in the AOSP and thus, the utility is
    built when you compile the AOSP code. Like sbf_flash, the boot loader must support
    fastboot, which not only requires a compatible boot loader but also one that has
    security turned off (S-OFF).
  id: totrans-759
  prefs: []
  type: TYPE_NORMAL
  zh: Fastboot是另一种通过USB向NAND闪存刷新图像的工具。Fastboot的源代码包含在AOSP中，因此当你编译AOSP代码时，该工具会被构建。与sbf_flash一样，引导加载程序必须支持fastboot，这不仅需要一个兼容的引导加载程序，还需要一个关闭了安全机制的引导加载程序（S-OFF）。
- en: 'Fastboot was first used on the Google Android developer phone (ADP), which
    was manufactured by HTC. As such, much of the documentation and references for
    fastboot refer to the ADP, and HTC has a helpful reference page for the utility
    ([HTC—Developer Center, n.d.](#BIB9)). This page contains not only various stock
    NAND flash image files for the ADP device but also directions on using fastboot
    and accessing the appropriate mode on the device ([HTC—Developer Center, n.d.](#BIB9)):'
  id: totrans-760
  prefs: []
  type: TYPE_NORMAL
  zh: Fastboot最初是在由HTC制造的谷歌Android开发者手机（ADP）上使用的。因此，关于fastboot的许多文档和参考资料都指向ADP，HTC有一个关于该工具的有用参考页面（[HTC—开发者中心，n.d.](#BIB9)）。这个页面不仅包含ADP设备的各种标准NAND闪存镜像文件，还提供了使用fastboot和访问设备上适当模式的说明（[HTC—开发者中心，n.d.](#BIB9)）：
- en: To enter fastboot mode, power up the device (or reboot it) while holding down
    the BACK key. Hold the BACK key down until the boot loader screen is visible and
    displays “FASTBOOT.” The device is now in fastboot mode and is ready to receive
    fastboot commands. If you want to exit fastboot mode at this point, you can hold
    down the keys MENU+SEND+END (on the ADP, SEND is the “Call” key and END is the
    “End call” key).
  id: totrans-761
  prefs: []
  type: TYPE_NORMAL
  zh: 要进入fastboot模式，在按下BACK键的同时开机（或重启设备）。一直按住BACK键，直到引导加载程序屏幕可见并显示“FASTBOOT”。现在设备处于fastboot模式，可以接收fastboot命令。如果你想在此刻退出fastboot模式，可以按住MENU+SEND+END键（在ADP上，SEND是“通话”键，END是“结束通话”键）。
- en: Note that the boot loader screen may vary across devices. For ADP devices, the
    boot loader screen shows an image of skateboarding robots. Other devices may show
    a different image or color pattern. In all cases, the boot loader screen shows
    the text “FASTBOOT” when in fastboot mode. The boot loader also shows the radio
    version.
  id: totrans-762
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，引导加载程序屏幕可能会因设备而异。对于ADP设备，引导加载程序屏幕会显示滑板机器人图像。其他设备可能会显示不同的图像或颜色图案。在所有情况下，引导加载程序屏幕在fastboot模式下会显示“FASTBOOT”文本。引导加载程序还会显示无线电版本。
- en: 'Once in fastboot mode, verify fastboot detects the device with the following
    command:'
  id: totrans-763
  prefs: []
  type: TYPE_NORMAL
  zh: 进入fastboot模式后，使用以下命令验证fastboot是否检测到设备：
- en: '![image](img/F100068u06-35-9781597496513.jpg)'
  id: totrans-764
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/F100068u06-35-9781597496513.jpg)'
- en: 'Fastboot provides many options that are detailed when you execute fastboot
    with the help parameter as follows:'
  id: totrans-765
  prefs: []
  type: TYPE_NORMAL
  zh: Fastboot提供了许多选项，当你使用以下帮助参数执行fastboot时，这些选项会被详细列出：
- en: '![image](img/F100068u06-36-9781597496513.jpg)'
  id: totrans-766
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/F100068u06-36-9781597496513.jpg)'
- en: 'As you can see, once in flashboot mode, it is quite simple to flash the modified
    recovery partition:'
  id: totrans-767
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所见，一旦进入flashboot模式，刷新修改后的恢复分区就相当简单了：
- en: '![image](img/F100068u06-37-9781597496513.jpg)'
  id: totrans-768
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/F100068u06-37-9781597496513.jpg)'
- en: After this process completes, you can reboot the phone into recovery mode and
    proceed with the software-based physical imaging technique.
  id: totrans-769
  prefs: []
  type: TYPE_NORMAL
  zh: 此过程完成后，你可以将手机重启到恢复模式，并继续使用基于软件的物理成像技术。
- en: AFPhysical Technique
  id: totrans-770
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: AFPhysical技术
- en: The AFPhysical technique was developed by viaForensics to provide a physical
    disk image of Android NAND flash partitions. The technique requires root privileges
    on the device and should support any Android device. The technique, however, is
    not a simple process and the forensic analyst will have to adapt the technique
    for the specific device investigated. This is a direct result of the large variations
    in Android devices not only between manufacturers but between devices running
    different versions of Android.
  id: totrans-771
  prefs: []
  type: TYPE_NORMAL
  zh: AFPhysical技术由viaForensics开发，用于提供Android NAND闪存分区的物理磁盘映像。该技术需要在设备上拥有root权限，并且应该支持任何Android设备。然而，这个过程并不简单，取证分析师需要根据所调查的具体设备调整技术。这是由于Android设备之间存在很大的差异，不仅不同制造商之间存在差异，而且运行不同版本Android的设备之间也存在差异。
- en: 'The overall process for AFPhysical is quite simple:'
  id: totrans-772
  prefs: []
  type: TYPE_NORMAL
  zh: AFPhysical的整个过程相当简单：
- en: 1. Acquire root privileges on the target Android device.
  id: totrans-773
  prefs: []
  type: TYPE_NORMAL
  zh: 1. 在目标Android设备上获取root权限。
- en: 2. Identify NAND flash partitions which need to be imaged.
  id: totrans-774
  prefs: []
  type: TYPE_NORMAL
  zh: 2. 确定需要成像的NAND闪存分区。
- en: 3. Upload forensic binaries to the target Android device.
  id: totrans-775
  prefs: []
  type: TYPE_NORMAL
  zh: 3. 将取证二进制文件上传到目标Android设备。
- en: 4. Acquire physical image of NAND flash partitions.
  id: totrans-776
  prefs: []
  type: TYPE_NORMAL
  zh: 4. 获取NAND闪存分区的物理映像。
- en: 5. Remove forensic binaries if any were stored on nonvolatile storage.
  id: totrans-777
  prefs: []
  type: TYPE_NORMAL
  zh: 5. 如果在非易失性存储上存储了取证二进制文件，请将其删除。
- en: Regardless of the technique, it is assumed you have root privileges on the device.
    For this example, we will use a Motorola Droid. As we are able to flash a modified
    recovery partition to a Motorola Droid, this technique will work on a device even
    if it is pass code locked.
  id: totrans-778
  prefs: []
  type: TYPE_NORMAL
  zh: 无论使用哪种技术，都假定你在设备上拥有root权限。在这个例子中，我们将使用摩托罗拉Droid。由于我们能够将修改后的恢复分区刷新到摩托罗拉Droid，即使设备被密码锁定，这项技术也能在设备上工作。
- en: After we have flashed the modified recovery partition and rebooted into recovery
    mode, connect the device to our Ubuntu VM and verify adb can locate the device
    by running adb devices.
  id: totrans-779
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们刷新了修改后的恢复分区并重启到恢复模式后，将设备连接到我们的Ubuntu VM，并通过运行adb devices验证adb是否可以定位到设备。
- en: '![image](img/F100068u06-38-9781597496513.jpg)'
  id: totrans-780
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/F100068u06-38-9781597496513.jpg)'
- en: 'From there, access the shell to ensure you have root privileges:'
  id: totrans-781
  prefs: []
  type: TYPE_NORMAL
  zh: 在那里，访问shell以确保你有root权限：
- en: '![image](img/F100068u06-39-9781597496513.jpg)'
  id: totrans-782
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/F100068u06-39-9781597496513.jpg)'
- en: 'At this point, we need to understand more about the phone so we can decide
    what needs to be physically imaged. The first place to start is to examine the
    mounted file systems, if any:'
  id: totrans-783
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一点上，我们需要更多地了解手机，以便决定需要物理镜像的内容。首先应该检查已挂载的文件系统（如果有）：
- en: '![image](img/F100068u06-40-9781597496513.jpg)'
  id: totrans-784
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/F100068u06-40-9781597496513.jpg)'
- en: 'Now, we know that the device uses MTD for NAND flash access as well as YAFFS2\.
    To determine partitions exposed by MTD, we execute the following:'
  id: totrans-785
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们知道设备使用MTD来访问NAND闪存以及YAFFS2。为了确定MTD公开的分区，我们执行以下操作：
- en: '![image](img/F100068u06-41-9781597496513.jpg)'
  id: totrans-786
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/F100068u06-41-9781597496513.jpg)'
- en: An examiner should choose to image all of the MTD partitions. However, for this
    example we will focus on mtd8, the user data partition.
  id: totrans-787
  prefs: []
  type: TYPE_NORMAL
  zh: 审查员应选择对所有MTD分区进行镜像。然而，对于本例，我们将专注于mtd8，即用户数据分区。
- en: 'As we are now prepared to acquire the device, it may be helpful to refer back
    to the NAND flash and file system topics in [Chapter 4](CHP004.html) if some of
    the terminology or data structures are confusing. There are four Android physical
    acquisition strategies you can use once you have a device with root access:'
  id: totrans-788
  prefs: []
  type: TYPE_NORMAL
  zh: 由于我们现在准备获取设备，如果有些术语或数据结构令人困惑，可以参考[第4章](CHP004.html)中关于NAND闪存和文件系统的主题。一旦你拥有一个具有root权限的设备，就可以使用四种Android物理获取策略：
- en: 1. Full nanddump of all partitions, including data and OOB (preferred)
  id: totrans-789
  prefs: []
  type: TYPE_NORMAL
  zh: 1. 对所有分区进行完整的nanddump操作，包括数据和OOB（推荐）
- en: 2. A dd image of partitions, which only acquires the data, not the OOB
  id: totrans-790
  prefs: []
  type: TYPE_NORMAL
  zh: 2. 对分区进行dd镜像，只获取数据，不获取OOB
- en: 3. A logical acquisition of files using tar
  id: totrans-791
  prefs: []
  type: TYPE_NORMAL
  zh: 3. 使用tar进行文件的逻辑获取
- en: 4. A logical acquisition of files using adb
  id: totrans-792
  prefs: []
  type: TYPE_NORMAL
  zh: 4. 使用adb进行文件的逻辑获取
- en: 'In addition, there are two primary ways to save the acquired data from the
    device:'
  id: totrans-793
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，有两种主要方式可以保存从设备获取的数据：
- en: 1. Use adb port forward to create a network between the Ubuntu workstation and
    Android device over USB
  id: totrans-794
  prefs: []
  type: TYPE_NORMAL
  zh: 1. 使用adb端口转发通过USB在Ubuntu工作站和Android设备之间建立网络连接
- en: 2. Place an SD card into the device, mount, and save locally
  id: totrans-795
  prefs: []
  type: TYPE_NORMAL
  zh: 2. 将SD卡插入设备，挂载并在本地保存
- en: There are advantages to both approaches. With adb port forwarding, you do not
    need to insert your own device and can immediately create the files on your workstation.
    When you save to the SD card, the acquisition is much faster. Both approaches
    are valid and will be demonstrated here.
  id: totrans-796
  prefs: []
  type: TYPE_NORMAL
  zh: 这两种方法都有优点。使用adb端口转发，你无需插入自己的设备，并且可以立即在工作站上创建文件。当你保存到SD卡时，获取速度会快得多。这两种方法都是有效的，并将在此处进行演示。
- en: We will start with the full nanddump of the user data partition as this provides
    the most complete forensic copy of the data. To achieve the nanddump, you must
    have a version of nanddump compiled for the ARM platform. Cross-compiling nanddump
    is beyond the scope of this book. However, you can either search for the program
    on the Internet or follow directions that are also posted online.
  id: totrans-797
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将从用户数据分区的完整nanddump开始，因为这将提供最完整的数据取证副本。为了实现nanddump，你必须拥有为ARM平台编译的nanddump版本。交叉编译nanddump超出了本书的范围。但是，你可以尝试在网上搜索该程序，或者按照网上发布的指南操作。
- en: Tip
  id: totrans-798
  prefs: []
  type: TYPE_NORMAL
  zh: 提示
- en: Cross-compiling for ARM
  id: totrans-799
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 为ARM进行交叉编译
- en: Cross-compiling source code to run on the ARM platform can be quite difficult
    and there is sparse support for it online. One possible solution is to use Android’s
    Native Development Kit (NDK) to build compatible binaries. Another option is to
    use Linux and install a cross-compiler such as Code Sourcery’s G++ Lite 2009q3-67
    for ARM GNU/Linux from [http://www.codesourcery.com/sgpp/lite/arm/portal/release1039](http://www.codesourcery.com/sgpp/lite/arm/portal/release1039).
    Once a cross-compiler is installed, you must modify the source code’s Makefile
    to indicate the cross-compiling option. Also check this book’s web site at [http://viaforensics.com/education/android-forensics-mobile-security-book/](http://viaforensics.com/education/android-forensics-mobile-security-book/)
    for future updates.
  id: totrans-800
  prefs: []
  type: TYPE_NORMAL
  zh: 将源代码交叉编译以在ARM平台上运行可能相当困难，而且网上对此的支持也很少。一个可能的解决方案是使用Android的本地开发工具包（NDK）来构建兼容的二进制文件。另一个选择是使用Linux并安装交叉编译器，例如从[http://www.codesourcery.com/sgpp/lite/arm/portal/release1039](http://www.codesourcery.com/sgpp/lite/arm/portal/release1039)为ARM
    GNU/Linux安装Code Sourcery的G++ Lite 2009q3-67。安装交叉编译器后，你必须修改源代码的Makefile以指示交叉编译选项。还可以访问本书的网站[http://viaforensics.com/education/android-forensics-mobile-security-book/](http://viaforensics.com/education/android-forensics-mobile-security-book/)以获取未来的更新。
- en: 'To avoid writing any data to the NAND flash, we can again examine the output
    of the mount command and take note that the “/dev” directory is tmpfs and thus,
    is stored in RAM. We can therefore push the forensic utilities to “/dev”:'
  id: totrans-801
  prefs: []
  type: TYPE_NORMAL
  zh: 为了避免向 NAND 闪存写入任何数据，我们可以再次检查 mount 命令的输出，并注意“/dev”目录是 tmpfs，因此存储在 RAM 中。因此，我们可以将取证工具推送到“/dev”：
- en: '![image](img/F100068u06-42-9781597496513.jpg)'
  id: totrans-802
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-42-9781597496513.jpg)'
- en: 'Next we need to make the programs executable on the device. To achieve this,
    we use the chmod command, which changes the permissions of a file including the
    execute flag. We will set all files to allow any user to read or execute the program:'
  id: totrans-803
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们需要让设备上的程序可执行。为此，我们使用 chmod 命令，它更改文件的权限，包括执行标志。我们将设置所有文件，允许任何用户读取或执行程序：
- en: '![image](img/F100068u06-43-9781597496513.jpg)'
  id: totrans-804
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-43-9781597496513.jpg)'
- en: As you can tell, after we execute the “chmod 755” command on the programs, they
    each have the execute bit now set, which is represented by the “x” in the file
    permissions.
  id: totrans-805
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所见，在我们对程序执行了“chmod 755”命令之后，它们现在都设置了可执行位，这在文件权限中的“x”表示。
- en: 'If you decided to save the nanddump to the SD card, ensure you place a properly
    formatted SD card in the device and that it is mounted on the system. Then we
    can execute nanddump as follows:'
  id: totrans-806
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你决定将 nanddump 保存到 SD 卡上，请确保你将一个格式正确的 SD 卡放入设备中，并将其挂载在系统上。然后我们可以如下执行 nanddump：
- en: '![image](img/F100068u06-44-9781597496513.jpg)'
  id: totrans-807
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-44-9781597496513.jpg)'
- en: And ultimately either transfer to your Ubuntu VM using adb pull or remove the
    SD card and copy via a direct USB connection, which is much faster.
  id: totrans-808
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，你可以使用 adb pull 将其传输到 Ubuntu VM，或者拔下 SD 卡并通过直接 USB 连接复制，后者要快得多。
- en: Note
  id: totrans-809
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: MD5 hash
  id: totrans-810
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: MD5 哈希
- en: Although the user data partition was not mounted on the device during acquisition,
    the md5sum hash signature of “/dev/mtd/mtd8ro” will change even without any writes.
    This is due to the nature of NAND flash where the operating system and memory
    are in a nearly constant state of change from wear leveling, bad block management,
    and other mechanisms which occur despite the lack of changes to the user data.
    The best approach is to perform an md5sum of the resulting NAND flash file to
    ensure integrity from that point forward.
  id: totrans-811
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管在获取设备期间没有挂载用户数据分区，但“/dev/mtd/mtd8ro”的 md5sum 哈希签名即使没有任何写入也会改变。这是由于 NAND 闪存的特性，操作系统和内存几乎始终处于变化状态，由于磨损均衡、坏块管理和其他机制，即使用户数据没有变化也会发生变化。最好的做法是对生成的
    NAND 闪存文件执行 md5sum，以确保从那时起确保完整性。
- en: The second method for saving the NAND flash file or any other imaged data is
    to use netcat, which is a utility that allows you to redirect the output of a
    command to the network. For this approach, you will need two active terminal or
    ssh sessions. We will refer to them as Session0 and Session1\. All of the Session0
    commands will run on the Ubuntu VM and thus we will not go into the Android device
    shell from Session0\. The commands which need to execute within the Android device’s
    shell will all take place on Session1.
  id: totrans-812
  prefs: []
  type: TYPE_NORMAL
  zh: 保存 NAND 闪存文件或任何其他成像数据的第二种方法是使用 netcat，这是一个允许你将命令输出重定向到网络的工具。对于这种方法，你需要两个活跃的终端或
    ssh 会话。我们将它们称为 Session0 和 Session1。所有 Session0 命令都在 Ubuntu VM 上运行，因此我们不会从 Session0
    进入 Android 设备的 shell。需要在 Android 设备的 shell 中执行的所有命令都将在 Session1 中进行。
- en: 'To begin, we first enable the network connection between the two endpoints
    using the adb port-forwarding capability:'
  id: totrans-813
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们使用 adb 端口转发功能启用两个端点之间的网络连接：
- en: '![image](img/F100068u06-45-9781597496513.jpg)'
  id: totrans-814
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-45-9781597496513.jpg)'
- en: 'This command essentially connects port 31337 on the Android device and the
    Ubuntu VM. Next, we execute nanddump on the Android device and pipe the output
    to netcat:'
  id: totrans-815
  prefs: []
  type: TYPE_NORMAL
  zh: 这个命令本质上是连接了 Android 设备和 Ubuntu VM 上的 31337 端口。接下来，我们在 Android 设备上执行 nanddump
    并将输出管道到 netcat：
- en: '![image](img/F100068u06-46-9781597496513.jpg)'
  id: totrans-816
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-46-9781597496513.jpg)'
- en: 'Now that the Android device is sending the nanddump data over netcat, we need
    to receive it on the Ubuntu VM side:'
  id: totrans-817
  prefs: []
  type: TYPE_NORMAL
  zh: 现在 Android 设备正在通过 netcat 发送 nanddump 数据，我们需要在 Ubuntu 虚拟机端接收它：
- en: '![image](img/F100068u06-47-9781597496513.jpg)'
  id: totrans-818
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-47-9781597496513.jpg)'
- en: 'When nanddump completes, it simply exits without any additional output as does
    the netcat on the Ubuntu VM. We can verify that the nanddump was received on the
    workstation with ls:'
  id: totrans-819
  prefs: []
  type: TYPE_NORMAL
  zh: 当 nanddump 完成后，它会像 Ubuntu 虚拟机上的 netcat 一样简单地退出，没有任何额外的输出。我们可以使用 ls 命令验证 nanddump
    是否已经接收到了工作站上：
- en: '![image](img/F100068u06-48-9781597496513.jpg)'
  id: totrans-820
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/F100068u06-48-9781597496513.jpg)'
- en: At this point, you could continue to physically image the MTD partitions needed
    for the investigation, which should include at least the user data and the cache
    partitions.
  id: totrans-821
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一点上，你可以继续对调查所需的所有MTD分区进行物理成像，这至少应包括用户数据和缓存分区。
- en: In [Chapter 7](CHP007.html), we provide a program that will allow you to extract
    the OOB data from a nanddump to assist with forensic processing such as file carving.
    As you can generate the dd image in this manner, there is no need to acquire a
    dd image using the Android device. However, dd is built into Android and so we
    provide this example which is similar to the use of the nanddump example, except
    it uses the dd utility, and so does not capture OOB data. This example uses the
    reference HTC Incredible.
  id: totrans-822
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第7章](CHP007.html)中，我们提供了一个程序，可以帮助你从nanddump中提取OOB数据，以协助进行文件雕刻等法医处理。由于你可以以这种方式生成dd镜像，因此无需使用Android设备获取dd镜像。然而，dd已内置于Android中，因此我们提供了这个例子，它类似于nanddump例子的使用，不同之处在于它使用了dd工具，因此不会捕获OOB数据。本例使用了参考的HTC
    Incredible。
- en: '![image](img/F100068u06-49-9781597496513.jpg)'
  id: totrans-823
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/F100068u06-49-9781597496513.jpg)'
- en: 'Due to variations in Android devices, MTD, YAFFS2, and other nuisances, it
    is not always possible to mount the acquired nanddump image and extract the logical
    files. As you already have sufficient privileges, it is best to extract the desired
    logical data. This can be accomplished using a recursive adb pull because the
    adb daemon running on the device has root privileges. You can also use a utility
    such as tar to copy the data into a single archive file. In either instance, you
    must ensure the desired file system is mounted. Some of the modified recovery
    partitions provide a user interface for mounting the file systems. However, you
    can also do this on the command line and mount the file system read only. On the
    Motorola Droid referenced above, do the following:'
  id: totrans-824
  prefs: []
  type: TYPE_NORMAL
  zh: 由于Android设备、MTD、YAFFS2和其他一些不便之处存在差异，并不总是能够挂载获取的nanddump镜像并提取逻辑文件。既然你已经拥有足够的权限，最好提取所需的逻辑数据。这可以通过使用递归adb
    pull来实现，因为设备上运行的adb守护进程具有root权限。你也可以使用诸如tar之类的工具将数据复制到一个归档文件中。在任何一种情况下，你都必须确保所需的文件系统已挂载。一些修改过的恢复分区提供了一个用户界面来挂载文件系统。不过，你也可以在命令行上执行此操作，并只读挂载文件系统。在上面提到的摩托罗拉Droid上，执行以下操作：
- en: '![image](img/F100068u06-50-9781597496513.jpg)'
  id: totrans-825
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/F100068u06-50-9781597496513.jpg)'
- en: 'The first command mounts the “/data” partition read only. The second command
    takes the already mounted “/cache” directory and remounts it read only. You can
    now perform the adb pull:'
  id: totrans-826
  prefs: []
  type: TYPE_NORMAL
  zh: 第一个命令以只读方式挂载“/data”分区。第二个命令获取已经挂载的“/cache”目录并将其重新挂载为只读。现在你可以执行adb pull：
- en: '![image](img/F100068u06-51-9781597496513.jpg)'
  id: totrans-827
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/F100068u06-51-9781597496513.jpg)'
- en: The final option is to use the tar utility that places files and directories
    in a single archive often called a tarball.
  id: totrans-828
  prefs: []
  type: TYPE_NORMAL
  zh: 最后一个选项是使用tar工具，它通常将文件和目录放入一个称为tarball的单个归档中。
- en: '![image](img/F100068u06-52-9781597496513.jpg)'
  id: totrans-829
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/F100068u06-52-9781597496513.jpg)'
- en: 'In this example, we passed two directories to tar which we wanted archived:
    the directory containing SMS/MMS messages in “/data/data” and the “/cache” directory.
    We sent the archive over the network and received it on the Ubuntu VM. However,
    you could have also simply saved the archive to the SD card.'
  id: totrans-830
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，我们传递给tar两个我们想要归档的目录：“/data/data”中包含短信/彩信的目录和“/cache”目录。我们将归档文件通过网络发送，并在Ubuntu
    VM上接收。但你也可以直接将归档保存到SD卡上。
- en: Once you have root privileges on an Android device and sufficient understanding
    of the device’s architecture, you can use nanddump, dd, tar, netcat, and adb to
    create forensic images or simply copies of the data for analysis.
  id: totrans-831
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你在Android设备上拥有root权限并充分理解了设备的架构，你可以使用nanddump、dd、tar、netcat和adb来创建法医镜像或仅仅复制数据进行分析。
- en: Summary
  id: totrans-832
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 总结
- en: There are several techniques that can be used to perform a forensic acquisition
    of an Android device. If the device is pass code protected, you must circumvent
    or bypass the protection to extract data. While a number of techniques to circumvent
    the pass code exist, it is not possible to achieve this in every circumstance.
    Once the device is accessible, the forensic analyst can choose from a logical
    acquisition which focuses primarily on undeleted data accessible through Content
    Providers or the more thorough but technically challenging physical acquisition.
    While the physical acquisition will produce more data, it generally requires more
    sophisticated analysis techniques which will be covered in [Chapter 7](CHP007.html).
  id: totrans-833
  prefs: []
  type: TYPE_NORMAL
  zh: 有几种技术可用于对Android设备进行法医获取。如果设备设有密码保护，你必须绕过或避开保护以提取数据。尽管存在许多绕过密码的技术，但在每种情况下都不可能实现这一点。一旦设备可以访问，法医分析师可以选择从逻辑获取开始，主要关注通过内容提供者可以访问的未删除数据，或者更彻底但技术上更具挑战性的物理获取。虽然物理获取会产生更多的数据，但它通常需要更复杂的分析技术，这将在[第7章](CHP007.html)中介绍。
- en: References
  id: totrans-834
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参考文献
- en: 1\. *ACPO Good Practice Guide for Computer-Based Electronic Evidence*—*7Safe
    Information Security.* (n.d.). Retrieved February 19, 2011, from [http://7safe.com/electronic_evidence/index.html#](http://7safe.com/electronic_evidence/index.html%23).
  id: totrans-835
  prefs: []
  type: TYPE_NORMAL
  zh: 1\. *ACPO Good Practice Guide for Computer-Based Electronic Evidence*—*7Safe
    Information Security.* （未注明日期）. 摘自 [http://7safe.com/electronic_evidence/index.html#](http://7safe.com/electronic_evidence/index.html%23)，2011年2月19日检索。
- en: '2\. *Android & Windows Phone: Tablets, Apps, & ROMs @ xda-developers.* (n.d.).
    Retrieved February 23, 2011, from [http://www.xda-developers.com/](http://www.xda-developers.com/).'
  id: totrans-836
  prefs: []
  type: TYPE_NORMAL
  zh: '2\. *Android & Windows Phone: Tablets, Apps, & ROMs @ xda-developers.* （未注明日期）.
    摘自 [http://www.xda-developers.com/](http://www.xda-developers.com/)，2011年2月23日检索。'
- en: 3\. Aviv, Gibson, Mossop, Blaze, & Smith. (n.d.). Smudge attacks on smartphone
    touch screens. Retrieved February 21, 2011, from [http://www.usenix.org/events/woot10/tech/full_papers/Aviv.pdf](http://www.usenix.org/events/woot10/tech/full_papers/Aviv.pdf).
  id: totrans-837
  prefs: []
  type: TYPE_NORMAL
  zh: 3\. Aviv, Gibson, Mossop, Blaze, & Smith. （未注明日期）. 智能手机触摸屏上的污迹攻击. 摘自 [http://www.usenix.org/events/woot10/tech/full_papers/Aviv.pdf](http://www.usenix.org/events/woot10/tech/full_papers/Aviv.pdf)，2011年2月21日检索。
- en: 4\. Cannon, T. (n.d.). Android lock screen bypass. Retrieved February 21, 2011,
    from [http://thomascannon.net/blog/2011/02/android-lock-screen-bypass/](http://thomascannon.net/blog/2011/02/android-lock-screen-bypass/).
  id: totrans-838
  prefs: []
  type: TYPE_NORMAL
  zh: 4\. Cannon, T. （未注明日期）. Android锁屏绕过. 摘自 [http://thomascannon.net/blog/2011/02/android-lock-screen-bypass/](http://thomascannon.net/blog/2011/02/android-lock-screen-bypass/)，2011年2月21日检索。
- en: 5\. dc3dd. (n.d.). Retrieved February 22, 2011, from [http://dc3dd.sourceforge.net/](http://dc3dd.sourceforge.net/).
  id: totrans-839
  prefs: []
  type: TYPE_NORMAL
  zh: 5\. dc3dd. （未注明日期）. 摘自 [http://dc3dd.sourceforge.net/](http://dc3dd.sourceforge.net/)，2011年2月22日检索。
- en: 6\. *Government Employment & Payroll.* (n.d.). Retrieved February 19, 2011,
    from [http://www.census.gov/govs/apes/](http://www.census.gov/govs/apes/).
  id: totrans-840
  prefs: []
  type: TYPE_NORMAL
  zh: 6\. *Government Employment & Payroll.* （未注明日期）. 摘自 [http://www.census.gov/govs/apes/](http://www.census.gov/govs/apes/)，2011年2月19日检索。
- en: 7\. [Guide] Flashing Linux Motorola’s with RSD Lite Versions. (n.d.). Retrieved
    February 24, 2011, from [modmymobile.com/forums/8-guides-downloads-forum-suggestions/218651-guide-flashing-linux-motorolas-rsd-lite-versions.html](http://modmymobile.com/forums/8-guides-downloads-forum-suggestions/218651-guide-flashing-linux-motorolas-rsd-lite-versions.html).
  id: totrans-841
  prefs: []
  type: TYPE_NORMAL
  zh: 7\. [指南] 使用RSD Lite版本刷新Linux摩托罗拉. （未注明日期）. 摘自 [modmymobile.com/forums/8-guides-downloads-forum-suggestions/218651-guide-flashing-linux-motorolas-rsd-lite-versions.html](http://modmymobile.com/forums/8-guides-downloads-forum-suggestions/218651-guide-flashing-linux-motorolas-rsd-lite-versions.html)，2011年2月24日检索。
- en: 8\. *HTC—Developer Center.* (n.d.). Retrieved February 28, 2011, from [http://developer.htc.com/adp.html](http://developer.htc.com/adp.html).
  id: totrans-842
  prefs: []
  type: TYPE_NORMAL
  zh: 8\. *HTC—Developer Center.* （未注明日期）. 摘自 [http://developer.htc.com/adp.html](http://developer.htc.com/adp.html)，2011年2月28日检索。
- en: 9\. *IEEE SA—1149.1–1990—IEEE Standard Test Access Port and Boundary-Scan Architecture.*
    (n.d.). Retrieved February 23, 2011, from [http://standards.ieee.org/findstds/standard/1149.1-1990.html](http://standards.ieee.org/findstds/standard/1149.1-1990.html).
  id: totrans-843
  prefs: []
  type: TYPE_NORMAL
  zh: 9\. *IEEE SA—1149.1–1990—IEEE Standard Test Access Port and Boundary-Scan Architecture.*
    （未注明日期）. 摘自 [http://standards.ieee.org/findstds/standard/1149.1-1990.html](http://standards.ieee.org/findstds/standard/1149.1-1990.html)，2011年2月23日检索。
- en: '10\. *RerWare, LLC: Android Backup and BlackBerry Backup—MyBackup Pro*. (n.d.).
    Retrieved February 22, 2011, from [http://www.rerware.com/](http://www.rerware.com/).'
  id: totrans-844
  prefs: []
  type: TYPE_NORMAL
  zh: '10\. *RerWare, LLC: Android Backup and BlackBerry Backup—MyBackup Pro*. （未注明日期）.
    摘自 [http://www.rerware.com/](http://www.rerware.com/)，2011年2月22日检索。'
