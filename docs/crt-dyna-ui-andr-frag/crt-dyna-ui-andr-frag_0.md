# 前言

移动应用静态用户界面挤在微小屏幕上的日子已经一去不复返了。如今，用户期望移动应用是动态且高度交互的。他们希望在中分辨率智能手机上查看应用时看起来很棒，而且在使用高分辨率平板电脑时，同样的应用看起来也应该非常出色。应用需要提供丰富的导航功能。同时，应用需要具备适应性和响应性。

试图使用 Android 传统的以活动为中心的用户界面设计模型来满足这些需求是困难的。作为开发者，我们需要比活动所提供的更多的控制。我们需要一种新的方法：片段为我们提供了这种方法。

在这本书中，你将学习如何使用片段来满足在现代移动应用开发中创建动态用户界面的挑战。

# 本书涵盖的内容

第一章, *片段与用户界面模块化*, 介绍了片段、用户界面模块化以及片段在开发模块化用户界面中扮演的角色。本章演示了简单片段的创建以及在活动中静态使用片段。

第二章, *片段与用户界面的灵活性*, 在前一章引入的概念基础上，提供了针对设备布局特定差异的解决方案。本章说明了如何使用自适应活动布局定义，以支持各种设备形态，通过一组小片段自动根据当前设备的用户界面需求重新排列。

第三章, *片段的生命周期和专门化*, 讨论了片段的生命周期与活动生命周期的关系，并在生命周期的各个阶段展示了适当的编程操作。利用这一知识，引入了专门用途的片段类`ListFragment`和`DialogFragment`，以展示它们的行为，并提供对它们在活动生命周期中的行为与标准片段不同的更深入了解。

第四章, *使用片段事务*, 解释了如何通过动态地添加和移除片段来在单个活动中创建多个应用屏幕。涵盖的主题包括实现返回按钮行为以及动态地适应多片段用户界面到设备特性的差异。

第五章，*创建丰富的片段导航*，通过在前几章的基础上构建，将一切内容整合在一起，展示如何使用片段通过丰富的导航功能来增强用户体验。这一章演示了如何实现包括基于滑动翻页的屏幕浏览、带有下拉列表导航的直接屏幕访问以及通过标签随机查看屏幕等多种导航功能。

# 阅读本书所需的准备

要跟随本书中的示例，你应该具备基本的 Android 编程知识和一个可用的 Android 开发环境。

本书主要关注以 Android Studio 作为 Android 开发环境，但也可以使用其他工具，如带有 ADT 插件的 Eclipse、JetBrains 的 IntelliJ IDEA 或类似的 Android 支持开发工具。

# 本书适合的读者

本书适合任何具备基本 Android 编程理解的人，他们希望改善应用程序的外观和可用性。

无论你是希望创建更具交互性的用户体验、创建更动态自适应的 UI、为平板电脑和智能手机提供更好的单一应用支持、减少管理应用 UI 的复杂性，还是仅仅尝试扩展你的 UI 设计理念，这本书都是为你而写的。

# 约定

在这本书中，你会发现多种文本样式，用于区分不同类型的信息。以下是一些样式示例，以及它们的含义解释。

文本中的代码字如下显示："一个应用程序最初调用`startActivity`方法来显示`Activity1`的实例。`Activity1`。"

代码块如下设置：

```java
<string-array name="screen_names">
  <item>First View</item>
  <item>Second View</item>
  <item>Third View</item>
</string-array>
```

**新术语**和**重要词汇**会以粗体显示。你在屏幕上看到的词，比如菜单或对话框中的，会在文本中以这样的形式出现："选择**布局**作为**资源类型**。"

### 注意

警告或重要说明会以这样的框显示。

### 提示

提示和技巧会像这样出现。

# 读者反馈

我们始终欢迎读者的反馈。告诉我们你对这本书的看法——你喜欢或可能不喜欢的内容。读者的反馈对我们来说很重要，它能帮助我们开发出对你真正有用的标题。

要给我们发送一般反馈，只需发送电子邮件至`<feedback@packtpub.com>`，并在邮件的主题中提及书名。

如果你在一个主题上有专业知识，并且有兴趣撰写或参与书籍编写，请查看我们在[www.packtpub.com/authors](http://www.packtpub.com/authors)的作者指南。

# 客户支持

既然你现在拥有了 Packt 的一本书，我们有一些事情可以帮助你最大限度地利用你的购买。

## 下载示例代码

你可以从你在[`www.packtpub.com`](http://www.packtpub.com)的账户下载你所购买的所有 Packt 书籍的示例代码文件。如果你在其他地方购买了这本书，可以访问[`www.packtpub.com/support`](http://www.packtpub.com/support)注册，我们会直接将文件通过电子邮件发送给你。

## 勘误

尽管我们已经竭尽全力确保内容的准确性，但错误仍然在所难免。如果你在我们的书中发现了一个错误——可能是文本或代码中的错误——我们非常感激你能向我们报告。这样做可以避免其他读者产生困扰，并帮助我们改进本书后续版本。如果你发现任何勘误信息，请通过访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择你的书籍，点击**勘误提交表单**链接，并输入你的勘误详情。一旦你的勘误信息被核实，你的提交将被接受，并且勘误信息将被上传到我们的网站，或添加到该书勘误部分现有的勘误列表中。任何现有的勘误信息可以通过在[`www.packtpub.com/support`](http://www.packtpub.com/support)选择你的标题来查看。

## 盗版

在互联网上对版权材料的盗版是一个所有媒体都面临的持续问题。在 Packt，我们非常重视保护我们的版权和许可。如果你在互联网上以任何形式遇到我们作品的非法副本，请立即提供我们该位置地址或网站名称，以便我们可以寻求补救措施。

如果有疑似盗版材料，请通过`<copyright@packtpub.com>`联系我们，并提供一个链接。

我们感谢你帮助保护我们的作者，以及我们为你提供有价值内容的能力。

## 问题

如果你对书籍的任何方面有问题，可以联系`<questions@packtpub.com>`，我们将尽力解决。
