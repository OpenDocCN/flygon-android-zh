# 前言

第一个虚幻引擎于 1998 年由 Epic Games 推出。这个引擎的一个很棒的特性是，由于 UnrealScript 的存在，引擎在社区中变得非常受欢迎，因为它使得修改变得非常容易和可访问。然后，在 2002 年，Epic 发布了他们的下一个引擎，虚幻引擎 2，这是对第一个引擎的巨大改进。它带来了一个叫做 UnrealEd 2（后来是 UnrealEd 3）的东西，这本质上是一个您可以用来为虚幻创建关卡的关卡编辑器。这个编辑器，再加上 UnrealScript，可以用来创建全新的游戏。该引擎提供了比其前身更好的渲染、物理和碰撞。它还支持当时的主机，即 PlayStation 2，Xbox 和 GameCube。2006 年，Epic 发布了他们的下一个，也可能是他们最受欢迎和广泛使用的引擎，虚幻 3。这在技术上是一个巨大的飞跃。这是虚幻引擎开始蓬勃发展的地方。然而，虚幻引擎 3 提供的最重要的功能可能是 Kismet。Kismet 是一个非常强大的可视化脚本工具。它的工作方式是有各种节点，可以连接起来形成一个逻辑序列，有点像流程图。Kismet 最好的部分是您不需要任何编程知识。您可以使用 Kismet 在不写一行代码的情况下制作整个游戏。对于艺术家和设计师来说，这是一个非常方便的工具，因为他们可以快速制作原型或者在自己身上尝试某个功能，而不必依赖程序员。

现在我们来到了更加现代的时代。2012 年 2 月，Epic 推出了虚幻 4，最终于 2014 年 3 月 19 日发布。虚幻引擎 4 自 2003 年以来一直在制作中。这个引擎比以前的引擎有了很大的进步。首先，它完全删除了 UnrealScript，并用 C++替换了它。在早期的虚幻版本中，如果您想修改引擎以开发游戏，您必须使用 UnrealScript 来进行修改，这意味着要学习一种新的语言。但是现在，如果您希望修改引擎，可以使用 C++来进行修改。对于引擎程序员来说，这是一个巨大的改进，因为这意味着他们可以使用他们已经了解和喜爱的语言来修改和调整任何他们希望的东西。

不仅如此，引擎的源代码也可以供开发者使用，并可以从 GitHub 存储库中下载。这意味着开发者对引擎拥有完全控制权，可以调整几乎任何东西，包括物理、渲染和用户界面。

它还提供了一个叫做热重载的功能。通常，当您想要在游戏的代码中进行更改时，您必须停止游戏，进行所需的更改，然后再次运行游戏以查看其对游戏的影响。然而，使用热重载功能，您可以在不停止或暂停游戏的情况下进行游戏中的更改。您对游戏代码所做的任何更改都会立即更新，您可以实时看到其效果。

您还可以在虚幻 4 上为各种平台开发游戏，包括 Xbox One，PlayStation 4（包括 Project Morpheus），Windows PC，Linux，Mac OS X，HTML 5，iOS 和 Android。它还支持 Oculus Rift。

Epic 做出的另一个重大改变是针对较小的独立开发者的许可模式。更具体地说，要许可虚幻开发工具包（UDK），即虚幻引擎的先前版本，开发者必须支付 99 美元的许可费，以及公司从销售中获得至少 5 万美元后的 25％的版税。然而，在虚幻 4 中，他们已经改变了结构。截至 2015 年初，虚幻引擎 4 现在完全免费下载和使用。没有许可费，没有订阅，什么都没有。您可以下载它，在其上开发游戏，并发布它，而不需要在引擎上花一分钱。只有在收入超过 3000 美元后，您才需要支付 5％的版税。

虚幻 4 提供的另一个很棒的功能是市场。市场是一个很好的地方，可以购买和上传资产。这些资产可以是动画、3D 模型、材质、音效、预制游戏等。这对于渴望成为开发者的人来说也是个好消息，他们没有资源或人力来开发这些资产。他们可以简单地从市场上购买所需的资产，并在他们的游戏中使用。开发者还可以将自己的作品上传到市场并赚取一些钱。

这本书面向对虚幻引擎 4 几乎一无所知的初学者，它涵盖了如何使用虚幻引擎 4 开发 Android 游戏的内容。本书将涵盖您开始所需了解的一切。从最基础的，比如如何下载和安装引擎，到更高级的，比如如何将完成的产品上传到 Google Play 商店，都将涵盖在内。我们将通过逐步制作我们自己的游戏来实现这一点。每一章都可以被视为制作我们游戏的一步。本书的结构使得每个后续章节都是前一章节的延续，给读者一种流畅的感觉。

本书也不会使用任何其他软件（除了 Android SDK），这样读者就不必先下载大量软件来准备好，而是专注于引擎。所有资产，如材料、静态网格等，都将是引擎本身提供的。

# 本书涵盖了什么内容

第一章，“虚幻 4 入门”，教您如何下载和安装虚幻引擎 4 和启动客户端。

第二章，“启动虚幻引擎 4”，讨论了项目是什么，如何创建新项目，编辑器是什么，它的用户界面以及一些您应该了解的快捷键。

第三章，“制作游戏-第一步”，涉及 BSP 刷子，教您如何使用它们来阻挡关卡，如何在材质编辑器和内容浏览器中创建材质，以及如何在 UE4 中使用灯光。

第四章，“使用角色、类和体积”，介绍了模式面板中提供的各种类型的类。这包括基本类、视觉类和体积，以及如何将它们实现到我们的游戏中。

第五章，“使用蓝图进行脚本编写”，介绍了如何使用蓝图在游戏中进行脚本编写。脚本编写是 UE4 的重要方面，因为没有互动性的游戏实际上不是游戏。我们还将介绍最常用的蓝图类型。

第六章，“使用虚幻 Matinee”，介绍了 UE4 提供的另一个强大工具，Matinee。我们将使用 Matinee 来创建游戏中必不可少的过场动画和其他动画。

第七章，“完成、打包和发布游戏”，完成了一个完全功能的游戏后剩下的唯一事情。那就是最终确定游戏，打包并在 Google Play 商店上发布游戏。

附录，“接下来做什么？”，建议您从这里开始。它涉及各种可以找到文档和教程以进一步发展您在 UE4 中技能的地方。

# 您需要为本书准备什么

为了阅读本书，您需要：

+   虚幻引擎 4

+   Android 开发工具包

本书的主要目的是尽可能少地使用软件，这样您只需专注于引擎，而不必先下载大量其他软件和程序来准备。

# 这本书适合谁

本书面向那些对如何使用虚幻引擎 4 一无所知，并希望使用它开发 Android 游戏的开发人员。

# 惯例

在本书中，您会发现一些文本样式，用于区分不同类型的信息。以下是一些这些样式的示例，以及它们的含义解释。

文本中的代码词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 句柄显示如下："下一步是完成游戏，将其打包成`.apk`文件，并将其发布到 Google Play 商店。"

任何命令行输入或输出都将按如下方式编写：

```kt

keytool –genkey –v –keystore -*name of your project*.keystore –alias *alias_name* -keyalg RSA – keysize 2048 –validity 10000

```

**新术语**和**重要单词**以粗体显示。您在屏幕上看到的单词，例如菜单或对话框中的单词，会以这样的方式出现在文本中："从主页，点击屏幕右侧的**获取虚幻**按钮。".

### 注意

警告或重要说明会出现在这样的框中。

### 提示

提示和技巧会出现在这样。

# 读者反馈

我们始终欢迎读者的反馈。让我们知道你对这本书的看法——你喜欢或不喜欢什么。读者的反馈对我们开发能让你真正受益的书籍非常重要。

要向我们发送一般反馈，只需发送电子邮件至`<feedback@packtpub.com>`，并在消息主题中提及书名。

如果您在某个主题上有专业知识，并且有兴趣撰写或为一本书做出贡献，请参阅我们的作者指南[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在您是 Packt 书籍的自豪所有者，我们有一些事情可以帮助您充分利用您的购买。

## 下载本书的彩色图片

我们还为您提供了一个 PDF 文件，其中包含本书中使用的屏幕截图/图表的彩色图片。彩色图片将帮助您更好地理解输出中的变化。您可以从[`www.packtpub.com/sites/default/files/downloads/4363OT_ColorImages.pdf`](https://www.packtpub.com/sites/default/files/downloads/4363OT_ColorImages.pdf)下载此文件

## 勘误

尽管我们已经尽一切努力确保内容的准确性，但错误确实会发生。如果您在我们的书籍中发现错误——可能是文本或代码中的错误——我们将不胜感激，如果您能向我们报告。通过这样做，您可以帮助其他读者避免挫折，并帮助我们改进本书的后续版本。如果您发现任何勘误，请访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)报告，选择您的书籍，点击**勘误提交表**链接，并输入您的勘误详情。一旦您的勘误经过验证，您的提交将被接受，并且勘误将被上传到我们的网站上，或者添加到该标题的现有勘误列表中的勘误部分。可以通过选择[`www.packtpub.com/support`](http://www.packtpub.com/support)来查看任何现有的勘误。

## 盗版

互联网上侵犯版权材料的盗版问题一直存在于各种媒体中。在 Packt，我们非常重视保护我们的版权和许可。如果您在互联网上发现我们作品的任何非法副本，请立即向我们提供位置地址或网站名称，以便我们采取补救措施。

请通过`<copyright@packtpub.com>`与我们联系，并提供涉嫌盗版材料的链接。

我们感谢您帮助保护我们的作者，以及我们为您提供有价值的内容的能力。

## 问题

如果您在书的任何方面遇到问题，请通过`<questions@packtpub.com>`与我们联系，我们将尽力解决。
